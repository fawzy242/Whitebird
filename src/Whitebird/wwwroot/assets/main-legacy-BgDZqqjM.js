System.register(["./vendor-legacy-BxKEvg5G.js"],function(e,t){"use strict";var a;return{setters:[e=>{a=e.a}],execute:function(){var e=document.createElement("style");e.textContent="*,*:before,*:after{box-sizing:border-box}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}html{scroll-behavior:smooth;-webkit-text-size-adjust:100%;text-size-adjust:100%}body{line-height:1.5;min-height:100vh;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}img,picture,video,canvas,svg{display:block;max-width:100%;height:auto}button,input,select,textarea{font:inherit;color:inherit;background-color:transparent;border:none;outline:none}button{cursor:pointer;background:none;padding:0}ul[class],ol[class]{list-style:none;margin:0;padding:0}a{text-decoration:none;color:inherit;cursor:pointer}table{border-collapse:collapse;border-spacing:0;width:100%}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:\"\";content:none}*{-webkit-tap-highlight-color:transparent}:focus-visible{outline:2px solid var(--focus-ring-color, var(--primary-red));outline-offset:2px}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-moz-appearance:textfield}input[type=search]::-webkit-search-decoration,input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-results-button,input[type=search]::-webkit-search-results-decoration{-webkit-appearance:none}input:-webkit-autofill,input:-webkit-autofill:hover,input:-webkit-autofill:focus,input:-webkit-autofill:active{transition:background-color 5000s ease-in-out 0s;-webkit-text-fill-color:var(--text-primary, #2c3e50)!important}input[type=date]::-webkit-calendar-picker-indicator{cursor:pointer}[hidden]{display:none!important}img,picture,video,canvas,svg{display:block;max-width:100%}html{line-height:1.15}input,button,textarea,select{font:inherit}p,h1,h2,h3,h4,h5,h6{overflow-wrap:break-word}#root,#__next{isolation:isolate}@media (prefers-color-scheme: dark){img,picture,video{filter:brightness(.9) contrast(1.1)}}details>summary{list-style:none}details>summary::-webkit-details-marker{display:none}meter,progress{appearance:none;-webkit-appearance:none;-moz-appearance:none}::placeholder{color:var(--text-muted, #6c757d);opacity:1}:focus:not(:focus-visible){outline:none}:disabled{cursor:not-allowed;opacity:var(--opacity-disabled, .6)}:root{--primary-red: #dc3545;--dark-red: #c82333;--light-red: #f8d7da;--hover-red: #b02a37;--gray-dark: #2c3e50;--gray-medium: #6c757d;--gray-light: #f8f9fa;--gray-border: #dee2e6;--white: #ffffff;--black: #000000;--sidebar-width: 280px;--sidebar-collapsed: 65px;--topbar-height: 70px;--shadow-sm: 0 2px 4px rgba(0, 0, 0, .04);--shadow-md: 0 4px 12px rgba(0, 0, 0, .08);--shadow-lg: 0 8px 24px rgba(0, 0, 0, .12);--shadow-xl: 0 12px 36px rgba(0, 0, 0, .16);--radius-sm: 6px;--radius-md: 10px;--radius-lg: 14px;--radius-xl: 18px;--ease-standard: cubic-bezier(.4, 0, .2, 1);--ease-decelerate: cubic-bezier(0, 0, .2, 1);--ease-accelerate: cubic-bezier(.4, 0, 1, 1);--ease-smooth: cubic-bezier(.25, .1, .25, 1);--transition-fast: .15s var(--ease-standard);--transition-normal: .25s var(--ease-standard);--transition-slow: .35s var(--ease-decelerate);--z-sidebar: 1000;--z-topbar: 1050;--z-dropdown: 1100;--z-modal: 1150;--z-tooltip: 1200;--z-toast: 1250;--font-family-base: \"Inter\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif;--font-family-monospace: \"SF Mono\", Monaco, Consolas, \"Liberation Mono\", monospace;--font-size-xs: .75rem;--font-size-sm: .875rem;--font-size-base: 1rem;--font-size-lg: 1.125rem;--font-size-xl: 1.25rem;--font-size-xxl: 1.5rem;--font-size-xxxl: 1.875rem;--font-weight-light: 300;--font-weight-normal: 400;--font-weight-medium: 500;--font-weight-semibold: 600;--font-weight-bold: 700;--font-weight-extrabold: 800;--line-height-tight: 1.25;--line-height-base: 1.5;--line-height-relaxed: 1.75;--line-height-heading: 1.3;--space-0: 0;--space-xxs: .25rem;--space-xs: .5rem;--space-sm: .75rem;--space-md: 1rem;--space-lg: 1.5rem;--space-xl: 2rem;--space-xxl: 3rem;--space-xxxl: 4rem;--blue: #0d6efd;--blue-light: #cfe2ff;--blue-dark: #0a58ca;--green: #28a745;--green-light: #d4edda;--green-dark: #1e7e34;--yellow: #ffc107;--yellow-light: #fff3cd;--yellow-dark: #e0a800;--orange: #fd7e14;--orange-light: #ffe5d0;--orange-dark: #e8590c;--purple: #6f42c1;--purple-light: #e2d9f3;--purple-dark: #59359a;--teal: #20c997;--teal-light: #d2f4ea;--teal-dark: #1aa179;--cyan: #0dcaf0;--pink: #d63384;--indigo: #6610f2;--border-width: 1px;--border-width-thick: 2px;--border-width-thicker: 3px;--border-color: #dee2e6;--border-light: #e9ecef;--breakpoint-xs: 0;--breakpoint-sm: 576px;--breakpoint-md: 768px;--breakpoint-lg: 992px;--breakpoint-xl: 1200px;--breakpoint-xxl: 1400px;--opacity-0: 0;--opacity-25: .25;--opacity-50: .5;--opacity-75: .75;--opacity-100: 1;--opacity-disabled: .6;--opacity-muted: .75;--opacity-hover: .9;--animation-fade: fade-in .3s var(--ease-standard);--animation-slide: slide-up .4s var(--ease-decelerate);--animation-bounce: bounce 1s infinite;--animation-spin: spin 1s linear infinite;--animation-pulse: pulse 2s cubic-bezier(.4, 0, .6, 1) infinite;--bg-body: #f8f9fa;--bg-card: #ffffff;--bg-sidebar: #ffffff;--bg-topbar: #ffffff;--bg-input: #ffffff;--bg-dropdown: #ffffff;--bg-modal: #ffffff;--text-primary: #2c3e50;--text-secondary: #6c757d;--text-muted: #adb5bd;--text-light: #f8f9fa;--text-dark: #212529;--text-danger: #dc3545;--text-success: #28a745;--text-warning: #ffc107;--text-info: #0dcaf0;--focus-ring-width: 3px;--focus-ring-color: rgba(220, 53, 69, .25);--focus-ring-shadow: 0 0 0 var(--focus-ring-width) var(--focus-ring-color);--btn-height-sm: 2rem;--btn-height-md: 2.5rem;--btn-height-lg: 3rem;--btn-padding-x-sm: .75rem;--btn-padding-x-md: 1rem;--btn-padding-x-lg: 1.5rem;--btn-border-radius: var(--radius-md)}@media (prefers-color-scheme: dark){:root:not([data-theme=light]){--primary-red: #ff6b6b;--dark-red: #ff5252;--light-red: rgba(255, 107, 107, .1);--hover-red: #ff3333;--gray-dark: #f8f9fa;--gray-medium: #adb5bd;--gray-light: #343a40;--gray-border: #495057;--white: #212529;--black: #f8f9fa;--bg-body: #121212;--bg-card: #1e1e1e;--bg-sidebar: #1a1a1a;--bg-topbar: #1e1e1e;--bg-input: #2d2d2d;--bg-dropdown: #2d2d2d;--bg-modal: #2d2d2d;--text-primary: #f8f9fa;--text-secondary: #adb5bd;--text-muted: #6c757d;--text-light: #343a40;--text-dark: #f8f9fa;--border-color: #495057;--border-light: #343a40;--shadow-sm: 0 2px 4px rgba(0, 0, 0, .25);--shadow-md: 0 4px 12px rgba(0, 0, 0, .35);--shadow-lg: 0 8px 24px rgba(0, 0, 0, .45);--shadow-xl: 0 12px 36px rgba(0, 0, 0, .55)}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes slide-up{0%{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}.theme-light{color-scheme:light}.theme-dark{color-scheme:dark}[data-theme=dark]{--primary-red: #dc3545;--dark-red: #c82333;--light-red: rgba(220, 53, 69, .1);--hover-red: #bd2130;--gray-dark: #e9ecef;--gray-medium: #868e96;--gray-light: #2d3339;--gray-border: #404449;--white: #1a1d23;--black: #f8f9fa;--blue: #3498db;--blue-light: rgba(52, 152, 219, .1);--blue-dark: #2980b9;--green: #27ae60;--green-light: rgba(39, 174, 96, .1);--green-dark: #229954;--yellow: #f1c40f;--yellow-light: rgba(241, 196, 15, .1);--yellow-dark: #f39c12;--orange: #e67e22;--orange-light: rgba(230, 126, 34, .1);--orange-dark: #d35400;--purple: #9b59b6;--purple-light: rgba(155, 89, 182, .1);--purple-dark: #8e44ad;--teal: #1abc9c;--teal-light: rgba(26, 188, 156, .1);--teal-dark: #16a085;--bg-body: #0d1117;--bg-card: #161b22;--bg-sidebar: #0d1117;--bg-topbar: #161b22;--bg-input: #21262d;--bg-dropdown: #161b22;--bg-modal: #161b22;--text-primary: #c9d1d9;--text-secondary: #8b949e;--text-muted: #6e7681;--text-light: #484f58;--text-dark: #c9d1d9;--border-color: #30363d;--border-light: #21262d;--shadow-sm: 0 2px 4px rgba(0, 0, 0, .5);--shadow-md: 0 4px 12px rgba(0, 0, 0, .6);--shadow-lg: 0 8px 24px rgba(0, 0, 0, .7);--shadow-xl: 0 12px 36px rgba(0, 0, 0, .8);--focus-ring-color: rgba(220, 53, 69, .25)}[data-theme=dark]{--primary-red: #dc3545;--dark-red: #c82333;--light-red: rgba(220, 53, 69, .1);--hover-red: #bd2130;--gray-dark: #e9ecef;--gray-medium: #adb5bd;--gray-light: #2d3748;--gray-border: #4a5568;--white: #1a202c;--black: #f7fafc;--blue: #4299e1;--blue-light: rgba(66, 153, 225, .1);--blue-dark: #3182ce;--green: #48bb78;--green-light: rgba(72, 187, 120, .1);--green-dark: #38a169;--yellow: #ecc94b;--yellow-light: rgba(236, 201, 75, .1);--yellow-dark: #d69e2e;--orange: #ed8936;--orange-light: rgba(237, 137, 54, .1);--orange-dark: #dd6b20;--purple: #9f7aea;--purple-light: rgba(159, 122, 234, .1);--purple-dark: #805ad5;--teal: #38b2ac;--teal-light: rgba(56, 178, 172, .1);--teal-dark: #319795;--bg-body: #1a202c;--bg-card: #2d3748;--bg-sidebar: #1a202c;--bg-topbar: #2d3748;--bg-input: #374151;--bg-dropdown: #2d3748;--bg-modal: #2d3748;--text-primary: #f7fafc;--text-secondary: #cbd5e0;--text-muted: #a0aec0;--text-light: #718096;--text-dark: #f7fafc;--border-color: #4a5568;--border-light: #374151;--shadow-sm: 0 2px 4px rgba(0, 0, 0, .4);--shadow-md: 0 4px 12px rgba(0, 0, 0, .5);--shadow-lg: 0 8px 24px rgba(0, 0, 0, .6);--shadow-xl: 0 12px 36px rgba(0, 0, 0, .7);--focus-ring-color: rgba(220, 53, 69, .25)}html{scroll-behavior:smooth;scroll-padding-top:var(--topbar-height);-webkit-text-size-adjust:100%;text-size-adjust:100%}@media (min-width: 2560px){html{font-size:18px}}@media (max-width: 1600px){html{font-size:15px}}@media (max-width: 1366px){html{font-size:14.5px}}@media (max-width: 768px){html{font-size:14px}}@media (max-width: 480px){html{font-size:13px}}:focus-visible{outline:var(--focus-ring-width) solid var(--focus-ring-color);outline-offset:2px;border-radius:var(--radius-sm)}.skip-to-main{position:absolute;top:-40px;left:0;background:var(--primary-red);color:var(--white);padding:var(--space-sm) var(--space-md);text-decoration:none;z-index:var(--z-tooltip);border-radius:0 0 var(--radius-md) 0;transition:top .3s ease;font-weight:var(--font-weight-medium)}.skip-to-main:focus{top:0}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:transparent;border-radius:var(--radius-sm)}::-webkit-scrollbar-thumb{background:var(--gray-medium);border-radius:var(--radius-sm);transition:background-color var(--transition-fast)}::-webkit-scrollbar-thumb:hover{background:var(--gray-dark)}::-webkit-scrollbar-corner{background:transparent}*{scrollbar-width:thin;scrollbar-color:var(--gray-medium) transparent}::selection{background-color:rgba(220,53,69,.25);color:inherit}::-moz-selection{background-color:rgba(220,53,69,.25);color:inherit}.img-fluid{max-width:100%;height:auto}.img-cover{width:100%;height:100%;object-fit:cover}.img-contain{width:100%;height:100%;object-fit:contain}.img-round{border-radius:50%;object-fit:cover}.app-container{display:flex;min-height:100vh;background-color:var(--bg-body)}.app-main{flex:1;padding:var(--space-lg);transition:margin-left var(--transition-normal);margin-left:var(--sidebar-width);overflow-y:auto;max-height:calc(100vh - var(--topbar-height));margin-top:var(--topbar-height);background-color:var(--bg-body)}.sidebar-collapsed .app-main{margin-left:var(--sidebar-collapsed)}.page-wrapper{background:var(--bg-card);border-radius:var(--radius-lg);padding:var(--space-lg);box-shadow:var(--shadow-sm);animation:var(--animation-fade)}.cursor-pointer{cursor:pointer}.cursor-default{cursor:default}.cursor-not-allowed{cursor:not-allowed}.cursor-wait{cursor:wait}.cursor-grab{cursor:grab}.cursor-grabbing{cursor:grabbing}.visually-hidden{position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.invisible{visibility:hidden!important}.disabled,[disabled]{opacity:var(--opacity-disabled);cursor:not-allowed;pointer-events:none;user-select:none}.readonly,[readonly]{cursor:default;user-select:text}.page-enter{opacity:0;transform:translateY(20px)}.page-enter-active{opacity:1;transform:translateY(0);transition:opacity var(--transition-normal),transform var(--transition-normal)}.page-exit{opacity:1;transform:translateY(0)}.page-exit-active{opacity:0;transform:translateY(-20px);transition:opacity var(--transition-normal),transform var(--transition-normal)}.skeleton{background:linear-gradient(90deg,var(--gray-light) 25%,var(--border-color) 50%,var(--gray-light) 75%);background-size:200% 100%;animation:loading 1.5s infinite;border-radius:var(--radius-sm)}@keyframes loading{0%{background-position:200% 0}to{background-position:-200% 0}}.loading-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:var(--z-modal);backdrop-filter:blur(4px)}.loading-spinner{width:40px;height:40px;border:3px solid var(--border-color);border-top-color:var(--primary-red);border-radius:50%;animation:spin .8s linear infinite}@media print{.no-print{display:none!important}.print-only{display:block!important}.app-main{margin:0!important;padding:0!important;max-height:none!important}.page-wrapper{box-shadow:none!important;padding:0!important}}[data-theme=dark]{--scrollbar-thumb: #495057;--scrollbar-thumb-hover: #6c757d}[data-theme=dark] ::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb, #495057)}[data-theme=dark] ::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover, #6c757d)}@media (prefers-reduced-motion: reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}.mobile-only{display:none!important}.desktop-only{display:block!important}@media (max-width: 768px){.mobile-only{display:block!important}.desktop-only{display:none!important}}body{font-family:var(--font-family-base);font-size:var(--font-size-base);line-height:var(--line-height-base);color:var(--text-primary);background-color:var(--bg-body);margin:0;padding:0;overflow-x:hidden;min-height:100vh;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1,h2,h3,h4,h5,h6{margin:0 0 var(--space-md) 0;font-weight:var(--font-weight-bold);line-height:var(--line-height-heading);letter-spacing:-.02em}h1{font-size:var(--font-size-xxxl);font-weight:var(--font-weight-extrabold);letter-spacing:-.03em}h2{font-size:var(--font-size-xxl);font-weight:var(--font-weight-bold)}h3{font-size:var(--font-size-xl);font-weight:var(--font-weight-semibold)}h4{font-size:var(--font-size-lg);font-weight:var(--font-weight-semibold)}h5{font-size:var(--font-size-base);font-weight:var(--font-weight-medium)}h6{font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);text-transform:uppercase;letter-spacing:.05em}.heading-1{font-size:var(--font-size-xxxl);font-weight:var(--font-weight-extrabold)}.heading-2{font-size:var(--font-size-xxl);font-weight:var(--font-weight-bold)}.heading-3{font-size:var(--font-size-xl);font-weight:var(--font-weight-semibold)}.heading-4{font-size:var(--font-size-lg);font-weight:var(--font-weight-semibold)}.heading-5{font-size:var(--font-size-base);font-weight:var(--font-weight-medium)}.heading-6{font-size:var(--font-size-sm);font-weight:var(--font-weight-medium)}@media (max-width: 1366px){h1,.heading-1{font-size:calc(var(--font-size-xxxl) * .95)}h2,.heading-2{font-size:calc(var(--font-size-xxl) * .95)}h3,.heading-3{font-size:calc(var(--font-size-xl) * .95)}}@media (max-width: 992px){h1,.heading-1{font-size:calc(var(--font-size-xxxl) * .85)}h2,.heading-2{font-size:calc(var(--font-size-xxl) * .85)}h3,.heading-3{font-size:calc(var(--font-size-xl) * .85)}}@media (max-width: 768px){h1,.heading-1{font-size:calc(var(--font-size-xxxl) * .75)}h2,.heading-2{font-size:calc(var(--font-size-xxl) * .75)}h3,.heading-3{font-size:calc(var(--font-size-xl) * .75)}h4,.heading-4{font-size:calc(var(--font-size-lg) * .9)}}p{margin:0 0 var(--space-md) 0;color:var(--text-secondary);max-width:65ch}.lead{font-size:var(--font-size-lg);line-height:var(--line-height-relaxed);color:var(--text-primary);margin-bottom:var(--space-lg)}small,.text-small{font-size:var(--font-size-sm);color:var(--text-muted);display:inline-block;line-height:1.4}a{color:var(--primary-red);text-decoration:none;transition:all var(--transition-fast);cursor:pointer;position:relative;font-weight:var(--font-weight-medium)}a:hover{color:var(--dark-red);text-decoration-thickness:2px;text-underline-offset:2px}a:focus-visible{outline:2px solid var(--focus-ring-color);outline-offset:2px;border-radius:var(--radius-sm)}.link-muted{color:var(--text-muted)}.link-muted:hover{color:var(--text-secondary)}.link-unstyled,.link-unstyled:hover{color:inherit;text-decoration:none}.text-muted{color:var(--text-muted)!important}.text-success{color:var(--green)!important}.text-danger{color:var(--dark-red)!important}.text-warning{color:var(--yellow-dark)!important}.text-info{color:var(--blue)!important}.text-white{color:var(--white)!important}.text-dark{color:var(--text-primary)!important}.text-left{text-align:left!important}.text-center{text-align:center!important}.text-right{text-align:right!important}.text-justify{text-align:justify!important}.text-uppercase{text-transform:uppercase!important;letter-spacing:.05em}.text-lowercase{text-transform:lowercase!important}.text-capitalize{text-transform:capitalize!important}.text-normal-case{text-transform:none!important}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-truncate-2{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.text-truncate-3{display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.font-weight-light{font-weight:var(--font-weight-light)!important}.font-weight-normal{font-weight:var(--font-weight-normal)!important}.font-weight-medium{font-weight:var(--font-weight-medium)!important}.font-weight-semibold{font-weight:var(--font-weight-semibold)!important}.font-weight-bold{font-weight:var(--font-weight-bold)!important}.font-weight-extrabold{font-weight:var(--font-weight-extrabold)!important}.line-height-tight{line-height:var(--line-height-tight)!important}.line-height-base{line-height:var(--line-height-base)!important}.line-height-relaxed{line-height:var(--line-height-relaxed)!important}strong,b{font-weight:var(--font-weight-semibold);color:var(--text-primary)}em,i{font-style:italic}blockquote{margin:var(--space-lg) 0;padding:var(--space-md) var(--space-lg);border-left:4px solid var(--primary-red);background-color:var(--gray-light);border-radius:0 var(--radius-md) var(--radius-md) 0;color:var(--text-secondary);font-style:italic}blockquote>p:last-child{margin-bottom:0}blockquote footer{margin-top:var(--space-sm);font-size:var(--font-size-sm);color:var(--text-muted);font-style:normal}blockquote footer:before{content:\"— \"}code,kbd,pre,samp{font-family:var(--font-family-monospace);font-size:.875em}code{background-color:var(--gray-light);color:var(--text-primary);padding:.2em .4em;border-radius:var(--radius-sm);font-size:.875em}pre{background-color:var(--gray-light);color:var(--text-primary);padding:var(--space-md);border-radius:var(--radius-md);overflow-x:auto;line-height:1.5;margin:var(--space-md) 0;border:1px solid var(--border-color)}pre code{background-color:transparent;padding:0;border-radius:0;color:inherit;font-size:inherit}kbd{background-color:var(--gray-dark);color:var(--white);padding:.2em .4em;border-radius:var(--radius-sm);font-size:.875em;border:1px solid var(--border-color)}ul,ol{margin:0 0 var(--space-md) var(--space-lg);padding:0;color:var(--text-secondary)}ul ul,ol ol,ul ol,ol ul{margin-bottom:0}li{margin-bottom:var(--space-xs);line-height:var(--line-height-base)}li:last-child{margin-bottom:0}.list-unstyled{list-style:none;margin-left:0}.list-unstyled li{margin-left:0}.list-inline{list-style:none;margin-left:0;padding-left:0}.list-inline li{display:inline-block;margin-right:var(--space-sm);margin-bottom:0}.list-inline li:last-child{margin-right:0}::selection{background-color:rgba(220,53,69,.2);color:inherit}::-moz-selection{background-color:rgba(220,53,69,.2);color:inherit}@media (max-width: 1366px){body{font-size:calc(var(--font-size-base) * .95)}.lead{font-size:calc(var(--font-size-lg) * .95)}}@media (max-width: 768px){body{font-size:calc(var(--font-size-base) * .9);line-height:var(--line-height-relaxed)}.lead{font-size:calc(var(--font-size-lg) * .9)}p{max-width:100%}}@media print{body{font-size:12pt;line-height:1.4;color:#000;background-color:#fff}h1,h2,h3,h4,h5,h6{color:#000;page-break-after:avoid}a{color:#000;text-decoration:underline}a[href]:after{content:\" (\" attr(href) \")\";font-size:90%}pre,blockquote{page-break-inside:avoid;border:1px solid #999}img{page-break-inside:avoid;max-width:100%!important}}[dir=rtl]{text-align:right}[dir=rtl] blockquote{border-left:none;border-right:4px solid var(--primary-red);padding-left:0;padding-right:var(--space-lg);border-radius:var(--radius-md) 0 0 var(--radius-md)}[dir=rtl] ul,[dir=rtl] ol{margin:0 var(--space-lg) var(--space-md) 0}[dir=rtl] .text-left{text-align:right!important}[dir=rtl] .text-right{text-align:left!important}.topbar{position:sticky;top:0;height:var(--topbar-height);background:var(--white);box-shadow:var(--shadow-sm);display:flex;align-items:center;justify-content:space-between;padding:0 2rem;z-index:var(--z-topbar);transition:all var(--transition-normal);backdrop-filter:blur(10px);background-color:rgba(255,255,255,.95)}[data-theme=dark] .topbar{background:var(--bg-topbar);background-color:rgba(22,27,34,.95);color:var(--text-primary)}.topbar-left{display:flex;align-items:center;gap:1.5rem;flex:1}.menu-toggle{background:none;border:none;font-size:1.5rem;color:var(--gray-dark);cursor:pointer;padding:.5rem;border-radius:var(--radius-sm);transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center;width:40px;height:40px}.menu-toggle:hover{background:var(--gray-light);color:var(--primary-red)}.menu-toggle:active{transform:scale(.95)}.topbar-right{display:flex;align-items:center;gap:1.25rem}.topbar-icon{position:relative;width:42px;height:42px;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast);background:var(--gray-light);color:var(--gray-dark)}[data-theme=dark] .topbar-icon{background:var(--bg-input);color:var(--text-primary)}.topbar-icon:hover{background:var(--primary-red);color:var(--white);transform:translateY(-2px);box-shadow:var(--shadow-sm)}.topbar-icon i{font-size:1.125rem}.topbar-icon:active{transform:translateY(0)}.notification-badge{position:absolute;top:6px;right:6px;min-width:18px;height:18px;background:var(--primary-red);color:var(--white);border-radius:50%;font-size:.625rem;display:flex;align-items:center;justify-content:center;font-weight:600;border:2px solid var(--white);animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite;z-index:1}[data-theme=dark] .notification-badge{border-color:var(--bg-topbar)}@keyframes pulse{0%,to{opacity:1}50%{opacity:.7}}.user-profile{position:relative;display:flex;align-items:center;gap:.75rem;padding:.5rem 1rem;border-radius:var(--radius-lg);cursor:pointer;transition:all var(--transition-fast);border:1px solid transparent}.user-profile:hover{background:var(--gray-light);border-color:var(--gray-border)}[data-theme=dark] .user-profile:hover{background:var(--bg-input)}.user-profile .dropdown-toggle{cursor:pointer;display:flex;align-items:center;gap:.75rem}.user-avatar{width:42px;height:42px;border-radius:50%;background:linear-gradient(135deg,var(--primary-red) 0%,var(--dark-red) 100%);display:flex;align-items:center;justify-content:center;color:var(--white);font-weight:600;font-size:1rem;border:3px solid var(--white);box-shadow:var(--shadow-md);transition:transform var(--transition-fast);flex-shrink:0}[data-theme=dark] .user-avatar{border-color:var(--bg-topbar)}.user-profile:hover .user-avatar{transform:scale(1.05)}.user-info{display:flex;flex-direction:column;align-items:flex-start;line-height:1.2}.user-info .name{font-weight:600;font-size:.875rem;color:var(--gray-dark)}[data-theme=dark] .user-info .name{color:var(--text-primary)}.user-info .role{font-size:.75rem;color:var(--gray)}[data-theme=dark] .user-info .role{color:var(--text-secondary)}.user-profile .dropdown-menu{min-width:220px;padding:.5rem 0;border:1px solid var(--border-color);box-shadow:var(--shadow-lg);border-radius:var(--radius-md);margin-top:.5rem}.user-profile .dropdown-item{padding:.75rem 1.25rem;font-size:.875rem;display:flex;align-items:center;gap:.75rem;transition:all var(--transition-fast);color:var(--gray-dark)}[data-theme=dark] .user-profile .dropdown-item{color:var(--text-primary)}.user-profile .dropdown-item:hover{background:var(--gray-light);color:var(--primary-red);padding-left:1.5rem}.user-profile .dropdown-item i{width:20px;text-align:center;font-size:1rem}.user-profile .dropdown-item.text-danger:hover{background:rgba(220,53,69,.1);color:var(--primary-red)}.user-profile .dropdown-divider{margin:.5rem 0;border-color:var(--border-color)}@media (max-width: 1024px){.topbar{padding:0 1rem}}@media (max-width: 768px){.user-info{display:none}.topbar-right{gap:.75rem}.topbar-icon,.user-avatar{width:38px;height:38px}}.sidebar-container{position:fixed;top:0;left:0;width:var(--sidebar-width);height:100vh;background:linear-gradient(180deg,var(--gray-dark) 0%,#1a252f 100%);color:var(--white);box-shadow:var(--shadow-lg);overflow-y:auto;overflow-x:hidden;transition:width var(--transition-normal) var(--ease-standard),transform var(--transition-normal) var(--ease-standard);z-index:var(--z-sidebar);-webkit-font-smoothing:antialiased;will-change:width,transform;display:flex;flex-direction:column}.sidebar-container.collapsed{width:var(--sidebar-collapsed)}.sidebar-header{flex-shrink:0}.sidebar-logo{display:flex;align-items:center;justify-content:center;min-height:var(--topbar-height);height:var(--topbar-height);gap:12px;overflow:hidden;transition:padding var(--transition-normal)}.sidebar-logo i{font-size:1.75rem;color:var(--primary-red);flex-shrink:0;min-width:32px;text-align:center;transition:all var(--transition-normal);filter:drop-shadow(0 2px 4px rgba(0,0,0,.2))}.sidebar-logo h3{font-size:1.25rem;font-weight:700;margin:0;white-space:nowrap;transition:all var(--transition-normal);opacity:1;transform:translate(0);overflow:hidden;text-overflow:ellipsis}.sidebar-container.collapsed .sidebar-logo{justify-content:center;gap:0}.sidebar-container.collapsed .sidebar-logo h3{opacity:0;transform:translate(-10px);width:0;height:0;overflow:hidden;visibility:hidden}.sidebar-menu{list-style:none;padding:1rem 0;margin:0;flex:1;overflow-y:auto;overflow-x:hidden}.sidebar-menu li{position:relative}.sidebar-menu a{display:flex;align-items:center;padding:.75rem 1rem;color:rgba(255,255,255,.75);text-decoration:none;position:relative;overflow:hidden;white-space:nowrap;transition:all var(--transition-fast)}.sidebar-menu a:before{content:\"\";position:absolute;left:0;top:0;width:10px;height:100%;background:var(--primary-red);transform:translate(-100%);transition:transform var(--transition-fast) .05s;z-index:1}.sidebar-menu a:hover{background:rgba(255,255,255,.08);color:var(--white);padding-left:1.25rem}.sidebar-menu a:hover:before,.sidebar-menu a.active:before{transform:translate(0)}.sidebar-menu a.active{background:var(--primary-red);color:var(--white);box-shadow:0 4px 12px rgba(220,53,69,.3)}.sidebar-menu a i{width:24px;font-size:1.125rem;margin-right:1rem;text-align:center;flex-shrink:0;position:relative;z-index:2;transition:all var(--transition-normal)}.sidebar-container.collapsed .sidebar-menu a i{margin-right:0}.sidebar-menu a span{flex:1;white-space:nowrap;transition:all var(--transition-normal);opacity:1;transform:translate(0);position:relative;z-index:2;font-size:.9rem;font-weight:500;letter-spacing:.3px}.sidebar-container.collapsed .sidebar-menu a span{opacity:0;transform:translate(8px);width:0;overflow:hidden;position:absolute;visibility:hidden}.sidebar-menu a .badge{margin-left:auto;font-size:.625rem;padding:.125rem .375rem;transition:all var(--transition-fast);opacity:1;transform:scale(1);position:relative;z-index:2}.sidebar-container.collapsed .sidebar-menu a .badge{opacity:0;position:absolute;right:4px}.sidebar-menu .has-submenu>a:after{content:\"\";font-family:\"Font Awesome 6 Free\";font-weight:900;margin-left:auto;font-size:.7rem;transition:all var(--transition-fast);opacity:1;position:relative;z-index:2;display:inline-block}.sidebar-container.collapsed .sidebar-menu .has-submenu>a:after{opacity:0;position:absolute}.sidebar-menu .has-submenu.open>a:after{transform:rotate(180deg)}.submenu{list-style:none;max-height:0;overflow:hidden;transition:max-height var(--transition-normal) var(--ease-decelerate);background:rgba(0,0,0,.15);margin:.25rem 0;border-radius:var(--radius-sm)}.submenu.show{max-height:500px}.submenu a{padding:.625rem 1rem .625rem 3rem;font-size:.85rem}.submenu a:hover{padding-left:3.25rem}@media (min-width: 1025px){.sidebar-container.collapsed .submenu{display:none!important}.sidebar-container.collapsed .sidebar-menu a:not(.active):hover{background:rgba(255,255,255,.12)}}@media (max-width: 1024px){.sidebar-container{transform:translate(-100%);width:var(--sidebar-width)!important;box-shadow:var(--shadow-xl);transition:transform var(--transition-normal) var(--ease-decelerate)}.sidebar-container.show-mobile{transform:translate(0)}.sidebar-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:calc(var(--z-sidebar) - 1);opacity:0;visibility:hidden;transition:all var(--transition-normal)}.sidebar-overlay.active{opacity:1;visibility:visible}}.sidebar-container::-webkit-scrollbar{width:6px}.sidebar-container::-webkit-scrollbar-track{background:rgba(255,255,255,.05);border-radius:3px}.sidebar-container::-webkit-scrollbar-thumb{background:rgba(255,255,255,.2);border-radius:3px;transition:background var(--transition-fast)}.sidebar-container::-webkit-scrollbar-thumb:hover{background:rgba(255,255,255,.3)}.sidebar-footer{padding:1rem;border-top:1px solid rgba(255,255,255,.1);flex-shrink:0}@keyframes sidebarItemFadeIn{0%{opacity:0;transform:translate(-10px)}to{opacity:1;transform:translate(0)}}.sidebar-menu li{animation:sidebarItemFadeIn .3s var(--ease-decelerate) backwards}.sidebar-menu li:nth-child(1){animation-delay:.05s}.sidebar-menu li:nth-child(2){animation-delay:.1s}.sidebar-menu li:nth-child(3){animation-delay:.15s}.sidebar-menu li:nth-child(4){animation-delay:.2s}.sidebar-menu li:nth-child(5){animation-delay:.25s}.sidebar-menu li:nth-child(6){animation-delay:.3s}.sidebar-menu li:nth-child(7){animation-delay:.35s}.sidebar-menu li:nth-child(8){animation-delay:.4s}.sidebar-menu li:nth-child(9){animation-delay:.45s}.main-content{min-height:100vh;transition:margin-left var(--transition-normal) var(--ease-standard),padding var(--transition-normal) var(--ease-standard);margin-left:var(--sidebar-width);background:var(--bg-body);position:relative}body.sidebar-collapsed .main-content{margin-left:var(--sidebar-collapsed)}.main-content.isAuth{margin-left:0!important;width:100%!important;height:100vh!important;display:flex!important;align-items:center!important;justify-content:center!important;background:linear-gradient(135deg,var(--primary-red) 0%,var(--dark-red) 100%)!important;transition:none!important}.content-area{padding:var(--space-xl);min-height:calc(100vh - var(--topbar-height));padding-top:calc(var(--topbar-height) + var(--space-xl));animation:fadeInContent .4s var(--ease-decelerate)}@keyframes fadeInContent{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.page-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-lg);padding-bottom:var(--space-md);border-bottom:2px solid var(--border-color)}.page-header h1{font-size:1.75rem;font-weight:700;color:var(--gray-dark);margin:0}.cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:var(--space-lg);margin-bottom:var(--space-xl)}@media (max-width: 1024px){.main-content{margin-left:0}.content-area{padding:var(--space-md);padding-top:calc(var(--topbar-height) + var(--space-md))}}@media (max-width: 768px){.page-header{flex-direction:column;align-items:flex-start;gap:var(--space-sm)}.cards-grid{grid-template-columns:1fr}}.alert{border-radius:var(--radius-md);border:none;padding:1rem 1.25rem;margin-bottom:var(--space-lg);display:flex;align-items:center;gap:1rem;animation:slideInRight .5s ease}@keyframes slideInRight{0%{opacity:0;transform:translate(50px)}to{opacity:1;transform:translate(0)}}.alert i{font-size:1.25rem}.alert-success{background:rgba(25,135,84,.1);color:#198754;border-left:4px solid #198754}.alert-danger{background:rgba(220,53,69,.1);color:var(--primary-red);border-left:4px solid var(--primary-red)}.alert-warning{background:rgba(253,126,20,.1);color:#fd7e14;border-left:4px solid #fd7e14}.alert-info{background:rgba(13,202,240,.1);color:#0dcaf0;border-left:4px solid #0dcaf0}.badge{padding:.375rem .75rem;border-radius:var(--radius-sm);font-weight:var(--font-weight-medium);font-size:var(--font-size-xs);display:inline-flex;align-items:center;gap:.25rem;line-height:1}.badge-success{background:rgba(25,135,84,.15);color:#198754}.badge-danger{background:rgba(220,53,69,.15);color:var(--primary-red)}.badge-warning{background:rgba(253,126,20,.15);color:#fd7e14}.badge-info{background:rgba(13,202,240,.15);color:#0dcaf0}.badge-primary{background:rgba(220,53,69,.15);color:var(--primary-red)}.badge-secondary{background:rgba(108,117,125,.15);color:var(--gray-medium)}.btn{border-radius:var(--btn-border-radius);padding:.625rem 1.5rem;font-weight:var(--font-weight-medium);font-size:var(--font-size-base);transition:all var(--transition-fast);border:2px solid transparent;display:inline-flex;align-items:center;justify-content:center;gap:.5rem;position:relative;overflow:hidden;cursor:pointer;user-select:none;text-decoration:none;vertical-align:middle;line-height:1.5;white-space:nowrap}.btn:before{content:\"\";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:rgba(255,255,255,.3);transform:translate(-50%,-50%);transition:width .6s,height .6s}.btn:active:before{width:300px;height:300px}.btn:focus{outline:none;box-shadow:var(--focus-ring-shadow)}.btn:active{transform:translateY(1px)}.btn:disabled,.btn.disabled{opacity:var(--opacity-disabled);cursor:not-allowed;pointer-events:none}.btn-sm{padding:.5rem 1rem;font-size:var(--font-size-sm);border-radius:calc(var(--btn-border-radius) * .9)}.btn-lg{padding:.875rem 2rem;font-size:var(--font-size-lg);border-radius:calc(var(--btn-border-radius) * 1.1)}.btn-primary{background:var(--primary-red);color:var(--white);border-color:var(--primary-red)}.btn-primary:hover:not(:disabled){background:var(--dark-red);transform:translateY(-2px);box-shadow:0 6px 20px rgba(220,53,69,.3)}.btn-secondary{background:var(--gray-medium);color:var(--white);border-color:var(--gray-medium)}.btn-secondary:hover:not(:disabled){background:var(--gray-dark);transform:translateY(-2px);box-shadow:var(--shadow-md)}.btn-success{background:#198754;color:var(--white);border-color:#198754}.btn-success:hover:not(:disabled){background:#157347;transform:translateY(-2px);box-shadow:0 6px 20px rgba(25,135,84,.3)}.btn-danger{background:var(--primary-red);color:var(--white);border-color:var(--primary-red)}.btn-danger:hover:not(:disabled){background:var(--hover-red);transform:translateY(-2px);box-shadow:0 6px 20px rgba(220,53,69,.3)}.btn-warning{background:#fd7e14;color:var(--white);border-color:#fd7e14}.btn-warning:hover:not(:disabled){background:#e8590c;transform:translateY(-2px);box-shadow:0 6px 20px rgba(253,126,20,.3)}.btn-info{background:#0dcaf0;color:var(--white);border-color:#0dcaf0}.btn-info:hover:not(:disabled){background:#0aa2c0;transform:translateY(-2px);box-shadow:0 6px 20px rgba(13,202,240,.3)}.btn-outline-primary{background:transparent;border:2px solid var(--primary-red);color:var(--primary-red)}.btn-outline-primary:hover:not(:disabled){background:var(--primary-red);color:var(--white);transform:translateY(-2px)}.btn-icon{width:40px;height:40px;padding:0;display:inline-flex;align-items:center;justify-content:center;border-radius:var(--radius-md)}.action-btn{width:36px;height:36px;border-radius:var(--radius-sm);border:none;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all var(--transition-fast);margin:0 .25rem}.action-btn.view{background:rgba(13,110,253,.1);color:#0d6efd}.action-btn.edit{background:rgba(253,126,20,.1);color:#fd7e14}.action-btn.delete{background:rgba(220,53,69,.1);color:var(--primary-red)}.action-btn:hover{transform:scale(1.15);box-shadow:var(--shadow-md)}.btn-group{display:inline-flex;gap:0;border-radius:var(--btn-border-radius);overflow:hidden;box-shadow:var(--shadow-sm)}.btn-group .btn{border-radius:0;margin:0;border-right:1px solid rgba(255,255,255,.2)}.btn-group .btn:first-child{border-top-left-radius:var(--btn-border-radius);border-bottom-left-radius:var(--btn-border-radius)}.btn-group .btn:last-child{border-top-right-radius:var(--btn-border-radius);border-bottom-right-radius:var(--btn-border-radius);border-right:none}.btn-xs{padding:.25rem .5rem;font-size:.75rem;border-radius:calc(var(--btn-border-radius) * .8)}.btn-ripple{position:relative;overflow:hidden}.btn-ripple-effect{position:absolute;border-radius:50%;background:rgba(255,255,255,.7);transform:scale(0);animation:ripple .6s linear;pointer-events:none}@keyframes ripple{to{transform:scale(4);opacity:0}}.btn-glow{animation:glow 1s ease-in-out infinite alternate}@keyframes glow{0%{box-shadow:0 0 5px currentColor,0 0 10px currentColor}to{box-shadow:0 0 10px currentColor,0 0 20px currentColor}}.btn-shadow{box-shadow:0 6px 20px rgba(0,0,0,.3);transform:translateY(-2px);transition:all .3s ease}.icon-card{transition:all var(--transition-fast);cursor:pointer;border:1px solid var(--border-color);border-radius:var(--radius-md);padding:var(--space-md);text-align:center}.icon-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-md);border-color:var(--primary-red)}.icon-card i{transition:transform var(--transition-fast)}.icon-card:hover i{transform:scale(1.2)}.btn-primary{background-color:var(--primary-red);border-color:var(--primary-red);color:var(--white)}.btn-primary:hover,.btn-primary:focus{background-color:var(--dark-red);border-color:var(--dark-red);color:var(--white)}.btn-outline-primary{color:var(--primary-red);border-color:var(--primary-red)}.btn-outline-primary:hover,.btn-outline-primary:focus{background-color:var(--primary-red);border-color:var(--primary-red);color:var(--white)}.card{border:1px solid var(--border-color);border-radius:var(--radius-lg);background:var(--bg-card);box-shadow:var(--shadow-sm);margin-bottom:var(--space-xl);transition:all var(--transition-normal);overflow:hidden;animation:var(--animation-fade)}.card:hover{box-shadow:var(--shadow-md);border-color:var(--border-light)}.card-header{background:var(--bg-card);border-bottom:1px solid var(--border-color);padding:var(--space-lg);font-weight:var(--font-weight-semibold);font-size:var(--font-size-lg);color:var(--text-primary);display:flex;justify-content:space-between;align-items:center;gap:var(--space-sm)}.card-header i{color:var(--primary-red);font-size:1.1em}.card-body{padding:var(--space-lg)}.card-footer{background:var(--gray-light);border-top:1px solid var(--border-color);padding:var(--space-md) var(--space-lg);color:var(--text-secondary);font-size:var(--font-size-sm)}.card.card-border-primary{border-top:4px solid var(--primary-red)}.card.card-border-success{border-top:4px solid var(--green)}.card.card-border-warning{border-top:4px solid var(--yellow)}.card.card-border-info{border-top:4px solid var(--blue)}.card-hover{transition:transform var(--transition-normal),box-shadow var(--transition-normal)}.card-hover:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg)}.chart-container{background:var(--bg-card);border-radius:var(--radius-lg);padding:var(--space-lg);box-shadow:var(--shadow-sm);margin-bottom:var(--space-xl)}.chart-container h5{font-weight:var(--font-weight-semibold);color:var(--text-primary);margin-bottom:var(--space-lg);font-size:var(--font-size-lg)}.dropdown-menu{border:none;border-radius:var(--radius-md);box-shadow:var(--shadow-lg);padding:.5rem;margin-top:.5rem;min-width:200px}@keyframes dropdownSlide{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.dropdown-item{padding:.625rem 1rem;border-radius:var(--radius-md);transition:all var(--transition-fast);display:flex;align-items:center;gap:.75rem}.dropdown-item:hover{background:rgba(220,53,69,.1);color:var(--primary-red)}.dropdown-divider{margin:.5rem 0;border-color:var(--border-color)}.form-control{width:100%;padding:.875rem 1rem;font-size:var(--font-size-base);line-height:var(--line-height-base);color:var(--text-primary);background-color:var(--bg-input);border:1px solid var(--border-color);border-radius:var(--radius-md);transition:all var(--transition-fast);font-family:var(--font-family-base);appearance:none;-webkit-appearance:none;-moz-appearance:none}.form-control:focus{outline:none;border-color:var(--primary-red);box-shadow:0 0 0 3px rgba(220,53,69,.1);background-color:var(--bg-input)}.form-control::placeholder{color:var(--text-muted);opacity:.7}.form-control:disabled,.form-control[readonly]{background-color:var(--gray-light);border-color:var(--border-light);color:var(--text-muted);cursor:not-allowed;opacity:var(--opacity-disabled)}.form-group{position:relative;margin-bottom:var(--space-xl);width:100%}.form-group label{display:block;margin-bottom:.5rem;font-weight:var(--font-weight-medium);color:var(--text-primary);font-size:var(--font-size-sm)}.form-floating{position:relative;margin-bottom:var(--space-lg)}.form-floating>.form-control{height:calc(3.5rem + 2px);padding:1.5rem 1rem .5rem;line-height:1.25}.form-floating>.form-control::placeholder{color:transparent}.form-floating>.form-label{position:absolute;top:0;left:0;padding:1rem;pointer-events:none;border:1px solid transparent;transform-origin:0 0;transition:all var(--transition-fast);color:var(--text-muted);font-weight:var(--font-weight-normal);line-height:1.5;max-height:calc(100% - 1rem);overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.form-floating>.form-control:focus~.form-label,.form-floating>.form-control:not(:placeholder-shown)~.form-label{transform:scale(.85) translateY(-1rem) translate(1.5rem);padding:.15rem .5rem;background-color:var(--bg-input);color:var(--primary-red);font-weight:var(--font-weight-medium);border-radius:var(--radius-sm);opacity:1;z-index:1;max-height:1.5rem}.form-floating>.form-control:focus{box-shadow:0 4px 16px rgba(220,53,69,.15),0 0 0 1px rgba(220,53,69,.2);transform:translateY(-1px)}.form-floating.position-relative{position:relative}.form-floating.position-relative .form-control{padding-right:3.5rem}.form-floating.position-relative .password-toggle{position:absolute;top:50%;right:1rem;transform:translateY(-50%);background:none;border:none;color:var(--text-muted);cursor:pointer;font-size:1rem;padding:.375rem;border-radius:var(--radius-sm);width:32px;height:32px;display:flex;align-items:center;justify-content:center;transition:all var(--transition-fast);z-index:10}.form-floating.position-relative .password-toggle:hover{background-color:rgba(220,53,69,.1);color:var(--primary-red)}.form-floating.position-relative .password-toggle:focus{outline:2px solid rgba(220,53,69,.3);outline-offset:2px}.form-select{width:100%;padding:.875rem 2.5rem .875rem 1rem;font-size:var(--font-size-base);font-weight:var(--font-weight-normal);line-height:var(--line-height-base);color:var(--text-primary);background-color:var(--bg-input);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%236c757d' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right 1rem center;background-size:16px 12px;border:1px solid var(--border-color);border-radius:var(--radius-md);transition:all var(--transition-fast);-webkit-appearance:none;appearance:none;cursor:pointer}.form-select:focus{border-color:var(--primary-red);box-shadow:0 0 0 3px rgba(220,53,69,.1);outline:none}.form-select[multiple]{padding-right:1rem;background-image:none;height:auto}input[type=date],input[type=time],input[type=datetime-local]{padding-right:3rem;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%236c757d' viewBox='0 0 16 16'%3E%3Cpath d='M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z'/%3E%3C/svg%3E\");background-repeat:no-repeat;background-position:right 1rem center;background-size:16px}input[type=time]{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%236c757d' viewBox='0 0 16 16'%3E%3Cpath d='M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z'/%3E%3Cpath d='M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z'/%3E%3C/svg%3E\")}.form-control.is-valid{border-color:var(--green);padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-invalid{border-color:var(--primary-red);padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.valid-feedback{display:none;width:100%;margin-top:.375rem;font-size:var(--font-size-sm);color:var(--green)}.invalid-feedback{display:none;width:100%;margin-top:.375rem;font-size:var(--font-size-sm);color:var(--primary-red)}.was-validated .form-control:valid~.valid-feedback,.form-control.is-valid~.valid-feedback{display:block}.was-validated .form-control:invalid~.invalid-feedback,.form-control.is-invalid~.invalid-feedback{display:block}.form-check{display:block;min-height:1.5rem;padding-left:1.75em;margin-bottom:.75rem}.form-check-input{width:1.25em;height:1.25em;margin-top:.125em;vertical-align:top;background-color:var(--bg-input);background-repeat:no-repeat;background-position:center;background-size:contain;border:1px solid var(--border-color);-webkit-appearance:none;appearance:none;transition:all var(--transition-fast)}.form-check-input[type=checkbox]{border-radius:var(--radius-sm)}.form-check-input[type=radio]{border-radius:50%}.form-check-input:checked{background-color:var(--primary-red);border-color:var(--primary-red)}.form-check-input:checked[type=checkbox]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='m6 10 3 3 6-6'/%3e%3c/svg%3e\")}.form-check-input:checked[type=radio]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='2' fill='%23fff'/%3e%3c/svg%3e\")}.form-check-input:focus{border-color:var(--primary-red);outline:0;box-shadow:0 0 0 .25rem rgba(220,53,69,.25)}.form-check-label{cursor:pointer;margin-left:.5rem}.form-switch{padding-left:2.5em}.form-switch .form-check-input{width:2em;margin-left:-2.5em;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e\");background-position:left center;border-radius:2em;transition:background-position var(--transition-fast)}.form-switch .form-check-input:focus{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e\")}.form-switch .form-check-input:checked{background-position:right center;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e\")}.input-group{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%}.input-group>.form-control{position:relative;flex:1 1 auto;width:1%;min-width:0}.input-group-text{display:flex;align-items:center;padding:.875rem 1rem;font-size:var(--font-size-base);font-weight:var(--font-weight-normal);line-height:var(--line-height-base);color:var(--text-secondary);text-align:center;white-space:nowrap;background-color:var(--gray-light);border:1px solid var(--border-color);border-radius:var(--radius-md)}.input-group-lg>.form-control,.input-group-lg>.input-group-text{padding:1rem 1.25rem;font-size:var(--font-size-lg);border-radius:var(--radius-lg)}.input-group-sm>.form-control,.input-group-sm>.input-group-text{padding:.5rem .75rem;font-size:var(--font-size-sm);border-radius:var(--radius-sm)}.search-box .form-control{padding:.75rem 1rem .75rem 3rem;border-radius:50px;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%236c757d' viewBox='0 0 16 16'%3E%3Cpath d='M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z'/%3E%3C/svg%3E\");background-repeat:no-repeat;background-position:left 1rem center;background-size:16px}.search-box .form-control:focus{border-color:var(--primary-red);box-shadow:0 4px 16px rgba(220,53,69,.15)}@media (prefers-contrast: high){.form-control{border-width:2px}.form-control:focus{outline:3px solid var(--primary-red);outline-offset:1px}}@media (prefers-reduced-motion: reduce){.form-control,.form-select,.form-check-input,.form-floating>.form-label{transition:none}}[data-theme=dark] .form-control{background-color:var(--bg-input);border-color:var(--border-color);color:var(--text-primary)}[data-theme=dark] .form-control:focus{background-color:var(--bg-input);border-color:var(--primary-red)}[data-theme=dark] .form-select{background-color:var(--bg-input);border-color:var(--border-color);color:var(--text-primary);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23adb5bd' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3e%3c/svg%3e\")}[data-theme=dark] .form-floating>.form-label{background-color:var(--bg-input);color:var(--text-muted)}[data-theme=dark] .input-group-text{background-color:var(--gray-light);border-color:var(--border-color);color:var(--text-secondary)}[data-theme=dark] input[type=date],[data-theme=dark] input[type=time],[data-theme=dark] input[type=datetime-local]{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23adb5bd' viewBox='0 0 16 16'%3E%3Cpath d='M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z'/%3E%3C/svg%3E\")}@media (max-width: 768px){.form-control{padding:.75rem;font-size:var(--font-size-sm)}.form-floating>.form-control{padding:1.25rem .75rem .5rem;height:calc(3rem + 2px)}.form-floating>.form-label{padding:1.25rem .75rem;font-size:var(--font-size-sm)}.form-floating>.form-control:focus~.form-label,.form-floating>.form-control:not(:placeholder-shown)~.form-label{transform:scale(.85) translateY(-1rem) translate(1.5rem);font-size:var(--font-size-xs)}.form-floating.position-relative .form-control{padding-right:2.5rem}.form-floating.position-relative .password-toggle{right:.75rem;width:28px;height:28px}.form-select{padding:.75rem 2rem .75rem .75rem;background-position:right .75rem center}.input-group-text{padding:.75rem;font-size:var(--font-size-sm)}}.spinner-border-custom{display:inline-block;width:2rem;height:2rem;border:3px solid rgba(220,53,69,.1);border-right-color:var(--primary-red);border-radius:50%;animation:spin .75s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.content-loading{display:flex;align-items:center;justify-content:center;min-height:400px}.content-loading-spinner{width:48px;height:48px;border:3px solid var(--color-gray-200);border-top-color:var(--color-primary-500);border-radius:50%;animation:spin 1s linear infinite}.modal-content{border-radius:var(--radius-lg);border:none;box-shadow:var(--shadow-xl);animation:modalSlideIn .3s ease}@keyframes modalSlideIn{0%{opacity:0;transform:translateY(-50px)}to{opacity:1;transform:translateY(0)}}.modal-backdrop{backdrop-filter:blur(4px);background:rgba(0,0,0,.5)}.modal-header{border-bottom:2px solid var(--gray-light);padding:var(--space-lg);background:var(--gray-light)}.modal-title{font-weight:var(--font-weight-semibold);color:var(--text-primary);font-size:var(--font-size-xl)}.modal-body{padding:var(--space-lg)}.modal-footer{border-top:2px solid var(--gray-light);padding:var(--space-md) var(--space-lg);background:var(--gray-light)}.notification-list{max-height:400px;overflow-y:auto}.notification-item{display:flex;gap:1rem;padding:1rem;border-bottom:1px solid var(--border-color);transition:all .2s;position:relative}.notification-item:last-child{border-bottom:none}.notification-item.unread{background:rgba(220,53,69,.05)}.notification-item:hover{background:var(--gray-light)}.notif-icon{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0}.notif-icon i{font-size:1.125rem}.notif-content{flex:1;min-width:0}.notif-title{font-size:.875rem;font-weight:600;margin-bottom:.25rem;color:var(--gray-dark)}.notif-message{font-size:.8125rem;color:var(--gray);margin-bottom:.5rem;line-height:1.4}.notif-time{font-size:.75rem;color:var(--gray-medium)}.notif-actions{display:flex;flex-direction:column;gap:.25rem}.notif-actions .btn{padding:.25rem .5rem}.notif-actions .btn i{font-size:.875rem}.inbox-list{max-height:400px;overflow-y:auto}.inbox-list::-webkit-scrollbar{width:6px}.inbox-list::-webkit-scrollbar-thumb{background:var(--gray-medium);border-radius:3px}.inbox-message{display:flex;gap:1rem;padding:1rem;border-bottom:1px solid var(--border-color);transition:all .2s;cursor:pointer}.inbox-message:last-child{border-bottom:none}.inbox-message.unread{background:rgba(220,53,69,.05)}.inbox-message:hover{background:var(--gray-light)}[data-theme=dark] .inbox-message:hover{background:var(--bg-input)}.message-avatar{flex-shrink:0}.message-avatar img{width:40px;height:40px;border-radius:50%;object-fit:cover}.message-content{flex:1;min-width:0}.message-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:.25rem}.message-from{font-weight:600;font-size:.875rem;color:var(--gray-dark)}[data-theme=dark] .message-from{color:var(--text-primary)}.message-time{font-size:.75rem;color:var(--gray-medium);flex-shrink:0;margin-left:1rem}.message-subject{font-size:.875rem;font-weight:500;margin-bottom:.25rem;color:var(--gray-dark)}[data-theme=dark] .message-subject{color:var(--text-primary)}.message-preview{font-size:.8125rem;color:var(--gray);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[data-theme=dark] .message-preview{color:var(--text-secondary)}.inbox-message.unread .message-from,.inbox-message.unread .message-subject{font-weight:700}.inbox-actions{display:flex;gap:.5rem;flex-shrink:0}.inbox-actions .btn{padding:.25rem .5rem}#searchModal .modal-dialog{max-width:700px;margin-top:8vh}.search-modal-content{border-radius:1rem;border:none;box-shadow:0 20px 60px rgba(0,0,0,.3);overflow:hidden;background:var(--white)}[data-theme=dark] .search-modal-content{background:var(--bg-modal)}.search-modal-header{background:linear-gradient(135deg,var(--primary-red) 0%,var(--dark-red) 100%);padding:1.5rem;border:none}.search-input-wrapper{position:relative;display:flex;align-items:center;gap:1rem}.search-icon{color:rgba(255,255,255,.8);font-size:1.25rem;flex-shrink:0}.search-input{flex:1;background:rgba(255,255,255,.2);border:2px solid rgba(255,255,255,.3);border-radius:.5rem;padding:.875rem 1.25rem;color:var(--white);font-size:1.0625rem;transition:all .2s}.search-input::placeholder{color:rgba(255,255,255,.7)}.search-input:focus{outline:none;background:rgba(255,255,255,.3);border-color:rgba(255,255,255,.5)}.search-close{background:rgba(255,255,255,.2);border:none;width:36px;height:36px;border-radius:50%;color:var(--white);cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;flex-shrink:0}.search-close:hover{background:rgba(255,255,255,.3);transform:rotate(90deg)}.search-modal-body{padding:1.75rem;max-height:500px;overflow-y:auto}.search-modal-body::-webkit-scrollbar{width:6px}.search-modal-body::-webkit-scrollbar-thumb{background:var(--gray-medium);border-radius:3px}.search-section{margin-bottom:1.75rem}.search-section:last-child{margin-bottom:0}.search-section-title{font-size:.8125rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--gray);margin-bottom:1rem;display:flex;align-items:center}[data-theme=dark] .search-section-title{color:var(--text-secondary)}.search-section-title i{font-size:1rem}.quick-links-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem}.quick-link-item{display:flex;flex-direction:column;align-items:center;gap:.625rem;padding:1.25rem;background:var(--gray-light);border-radius:.875rem;text-decoration:none;color:var(--gray-dark);transition:all .2s;border:2px solid transparent}.quick-link-item:hover{background:var(--primary-red);color:var(--white);transform:translateY(-3px);box-shadow:0 6px 16px rgba(220,53,69,.3);border-color:var(--primary-red)}.quick-link-item i{font-size:1.75rem}.quick-link-item span{font-size:.875rem;font-weight:500;text-align:center}.recent-item{display:flex;align-items:center;gap:.875rem;padding:.875rem 1.125rem;background:var(--gray-light);border-radius:.625rem;margin-bottom:.625rem;color:var(--gray-dark);transition:all .2s}[data-theme=dark] .recent-item{background:var(--bg-input);color:var(--text-secondary)}.recent-item:last-child{margin-bottom:0}.recent-item:hover{background:var(--primary-red);color:var(--white);transform:translate(5px)}.recent-item i{color:var(--gray-medium);font-size:1rem}.recent-item:hover i{color:var(--white)}.search-result-item{display:flex;align-items:center;gap:1.125rem;padding:.875rem 1.125rem;border-radius:.625rem;text-decoration:none;color:var(--gray-dark);transition:all .2s;margin-bottom:.625rem;border:2px solid transparent}.search-result-item:last-child{margin-bottom:0}.search-result-item:hover{background:var(--gray-light);border-color:var(--primary-red);transform:translate(5px)}.search-result-item i{font-size:1.375rem;color:var(--primary-red);flex-shrink:0}.result-info{flex:1}.result-name{font-weight:600;font-size:.9375rem;margin-bottom:.25rem;color:var(--gray-dark)}[data-theme=dark] .result-name{color:var(--text-primary)}.result-category{font-size:.8125rem;color:var(--gray)}[data-theme=dark] .result-category{color:var(--text-secondary)}.no-results{text-align:center;padding:3.5rem 1.5rem}.no-results i{color:var(--gray-medium);margin-bottom:1rem}.no-results p{color:var(--gray);margin:0;font-size:1rem}[data-theme=dark] .no-results p{color:var(--text-secondary)}.search-modal-footer{padding:1.125rem 1.75rem;background:var(--gray-light);border-top:1px solid var(--border-color)}[data-theme=dark] .search-modal-footer{background:var(--bg-input)}.search-hints{display:flex;align-items:center;gap:1.25rem;font-size:.8125rem;color:var(--gray)}[data-theme=dark] .search-hints{color:var(--text-secondary)}.search-hints kbd{padding:.3125rem .625rem;background:var(--white);border:1px solid var(--border-color);border-radius:.3125rem;font-family:monospace;font-size:.8125rem;box-shadow:0 2px 4px rgba(0,0,0,.1)}[data-theme=dark] .search-hints kbd{background:var(--bg-modal);color:var(--text-primary)}@media (max-width: 768px){#searchModal .modal-dialog{margin:1rem}.quick-links-grid{grid-template-columns:repeat(2,1fr)}}@media (max-width: 576px){.quick-links-grid{grid-template-columns:1fr}}.confirm-modal-content{border-radius:1rem;border:none;box-shadow:0 20px 60px rgba(0,0,0,.3)}.confirm-icon{animation:scaleIn .3s ease-out}@keyframes scaleIn{0%{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}.confirm-title{font-weight:600;color:var(--gray-dark)}[data-theme=dark] .confirm-title{color:var(--text-primary)}.confirm-message{font-size:.9375rem;line-height:1.6}[data-theme=dark] .confirm-message{color:var(--text-secondary)}.confirm-modal-content .modal-footer button{min-width:100px}.pagination{gap:.375rem}.pagination .page-link{border:2px solid var(--border-color);color:var(--text-primary);border-radius:var(--radius-sm);padding:.5rem .875rem;font-weight:var(--font-weight-medium);transition:all var(--transition-fast);margin:0}.pagination .page-link:hover{background:rgba(220,53,69,.1);color:var(--primary-red);border-color:var(--primary-red);transform:translateY(-2px)}.pagination .page-item.active .page-link{background:var(--primary-red);border-color:var(--primary-red);color:var(--white)}.pagination .page-item.disabled .page-link{opacity:var(--opacity-disabled);cursor:not-allowed}.progress{height:12px;border-radius:var(--radius-lg);background:var(--gray-light);overflow:hidden}.progress-bar{background:linear-gradient(90deg,var(--primary-red) 0%,var(--dark-red) 100%);transition:width 1s var(--ease-standard);border-radius:var(--radius-lg)}.stats-card{background:var(--bg-card);border-radius:var(--radius-lg);padding:var(--space-xl);box-shadow:var(--shadow-sm);transition:all var(--transition-normal);border-left:4px solid;height:100%;animation:var(--animation-fade);position:relative;overflow:hidden;display:flex;flex-direction:column}.stats-card:before{content:\"\";position:absolute;top:0;left:0;right:0;height:4px;background:inherit;opacity:.1;transition:opacity var(--transition-normal)}.stats-card:hover{transform:translateY(-8px);box-shadow:var(--shadow-lg)}.stats-card:hover:before{opacity:.2}.stats-card.red{border-left-color:var(--primary-red)}.stats-card.red:before{background:var(--primary-red)}.stats-card.blue{border-left-color:var(--blue)}.stats-card.blue:before{background:var(--blue)}.stats-card.green{border-left-color:var(--green)}.stats-card.green:before{background:var(--green)}.stats-card.orange{border-left-color:var(--orange)}.stats-card.orange:before{background:var(--orange)}.stats-card.purple{border-left-color:var(--purple)}.stats-card.purple:before{background:var(--purple)}.stats-card .icon-wrapper{width:64px;height:64px;border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;margin-bottom:var(--space-md);transition:all var(--transition-fast)}.stats-card.red .icon-wrapper{background:rgba(220,53,69,.1);color:var(--primary-red)}.stats-card.blue .icon-wrapper{background:rgba(13,110,253,.1);color:var(--blue)}.stats-card.green .icon-wrapper{background:rgba(40,167,69,.1);color:var(--green)}.stats-card.orange .icon-wrapper{background:rgba(253,126,20,.1);color:var(--orange)}.stats-card.purple .icon-wrapper{background:rgba(111,66,193,.1);color:var(--purple)}.stats-card:hover .icon-wrapper{transform:scale(1.1) rotate(5deg)}.stats-card .icon-wrapper i{font-size:1.75rem}.stats-card h3{font-size:2.25rem;font-weight:var(--font-weight-bold);color:var(--text-primary);margin-bottom:var(--space-xs);line-height:1;font-feature-settings:\"tnum\";font-variant-numeric:tabular-nums}.stats-card p{color:var(--text-secondary);margin-bottom:var(--space-sm);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium)}.stats-card .trend{display:inline-flex;align-items:center;gap:.375rem;font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);padding:.25rem .625rem;border-radius:var(--radius-sm);margin-top:auto}.stats-card .trend.up{background:rgba(25,135,84,.1);color:#198754}.stats-card .trend.down{background:rgba(220,53,69,.1);color:var(--primary-red)}.table-container{background:var(--bg-card);border-radius:var(--radius-lg);padding:var(--space-lg);box-shadow:var(--shadow-sm);overflow-x:auto;overflow-y:visible;margin-bottom:var(--space-xl);position:relative}.table-container::-webkit-scrollbar{height:8px}.table-container::-webkit-scrollbar-track{background:var(--gray-light);border-radius:4px;margin:0 var(--space-lg)}.table-container::-webkit-scrollbar-thumb{background:var(--gray-medium);border-radius:4px;transition:background var(--transition-fast)}.table-container::-webkit-scrollbar-thumb:hover{background:var(--primary-red)}.table{width:100%;margin:0;font-size:var(--font-size-sm);color:var(--text-primary);border-collapse:separate;border-spacing:0}.table thead{position:sticky;top:0;z-index:10}.table thead th{background:var(--gray-light);border-bottom:2px solid var(--border-color);color:var(--text-primary);font-weight:var(--font-weight-semibold);padding:var(--space-md) var(--space-lg);white-space:nowrap;vertical-align:middle;position:relative}.table tbody td{padding:var(--space-md) var(--space-lg);vertical-align:middle;border-bottom:1px solid var(--border-light);white-space:nowrap;transition:background-color var(--transition-fast)}.table tbody tr{transition:all var(--transition-fast)}.table tbody tr:hover{background:var(--gray-light)}.table tbody tr:last-child td{border-bottom:none}.table thead th.sortable{cursor:pointer;user-select:none;padding-right:2.5rem;position:relative}.table thead th.sortable:after{content:\"\";font-family:\"Font Awesome 6 Free\";font-weight:900;position:absolute;right:1rem;opacity:.3;transition:opacity var(--transition-fast),transform var(--transition-fast)}.table thead th.sortable:hover:after{opacity:.7}.table thead th.sortable.asc:after{content:\"\";opacity:1;color:var(--primary-red)}.table thead th.sortable.desc:after{content:\"\";opacity:1;color:var(--primary-red)}.nav-tabs{border-bottom:2px solid var(--border-color);margin-bottom:var(--space-lg)}.nav-tabs .nav-link{border:none;color:var(--text-secondary);font-weight:var(--font-weight-medium);padding:.875rem 1.5rem;transition:all var(--transition-fast);border-bottom:3px solid transparent}.nav-tabs .nav-link:hover{color:var(--primary-red);border-bottom-color:rgba(220,53,69,.3)}.nav-tabs .nav-link.active{color:var(--primary-red);background:none;border-bottom-color:var(--primary-red)}.timeline{position:relative;padding-left:2.5rem}.timeline:before{content:\"\";position:absolute;left:9px;top:0;bottom:0;width:3px;background:linear-gradient(180deg,var(--primary-red) 0%,var(--border-color) 100%);border-radius:2px}.timeline-item{position:relative;margin-bottom:var(--space-xl);animation:fadeInLeft .6s ease}@keyframes fadeInLeft{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}.timeline-item:before{content:\"\";position:absolute;left:-2.1rem;top:5px;width:16px;height:16px;border-radius:50%;background:var(--white);border:4px solid var(--primary-red);box-shadow:0 0 0 4px rgba(220,53,69,.1);transition:all var(--transition-fast)}.timeline-item:hover:before{transform:scale(1.3);box-shadow:0 0 0 6px rgba(220,53,69,.15)}.timeline-item h6{font-weight:var(--font-weight-semibold);color:var(--text-primary);margin-bottom:var(--space-xs);font-size:var(--font-size-base)}.timeline-item p{color:var(--text-secondary);font-size:var(--font-size-sm);margin-bottom:var(--space-xs)}.timeline-item .time{font-size:var(--font-size-xs);color:var(--text-muted);display:flex;align-items:center;gap:.375rem}body.auth-page{overflow:hidden;margin:0;padding:0;width:100vw;height:100vh;background:linear-gradient(135deg,var(--primary-red) 0%,var(--dark-red) 100%)}body.auth-page #app{height:100%;width:100%;display:flex;align-items:center;justify-content:center}body.auth-page .sidebar-container,body.auth-page .topbar-container{display:none}body.auth-page .main-content{margin-left:0;width:100vw;height:100vh;padding:0;display:flex;align-items:center;justify-content:center;background:transparent}.auth-page{width:100vw;height:100vh;display:flex;overflow:hidden;position:fixed;top:0;left:0;right:0;bottom:0;background:var(--white);box-shadow:var(--shadow-xl)}.auth-left{flex:0 0 30%;max-width:30%;min-width:400px;background:var(--white);display:flex;align-items:center;justify-content:center;padding:var(--space-xl) var(--space-lg);z-index:2;box-shadow:2px 0 20px rgba(0,0,0,.05);height:100vh;overflow-y:auto}.auth-left[style*=\"100%\"]{flex:0 0 100%;max-width:100%;min-width:100%;box-shadow:none}.auth-right{flex:0 0 70%;max-width:70%;background:linear-gradient(135deg,rgba(220,53,69,.9),rgba(200,35,51,.95));display:flex;align-items:center;justify-content:center;padding:var(--space-xl);position:relative;height:100vh}.auth-right:before{content:\"\";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,rgba(220,53,69,.85),rgba(200,35,51,.9));z-index:1}.auth-right-content{position:relative;z-index:2;color:var(--white);text-align:center;max-width:600px}.auth-right-content h1{font-size:3rem;font-weight:var(--font-weight-bold);margin-bottom:var(--space-lg);text-shadow:0 2px 10px rgba(0,0,0,.2);line-height:1.2}.auth-right-content p{font-size:1.25rem;opacity:.95;line-height:var(--line-height-relaxed);margin-bottom:var(--space-xl)}.auth-right-content .feature-list{list-style:none;margin:0;padding:0;text-align:left}.auth-right-content .feature-list li{padding:var(--space-sm) 0;font-size:1.1rem;display:flex;align-items:center;gap:var(--space-md);opacity:.9}.auth-right-content .feature-list li i{font-size:1.5rem;color:rgba(255,255,255,.9);flex-shrink:0}.auth-container{width:100%;max-width:440px}.auth-logo{text-align:center;margin-bottom:var(--space-xl)}.auth-logo i{font-size:3rem;color:var(--primary-red);margin-bottom:var(--space-md);display:inline-block}.auth-logo h2{font-weight:var(--font-weight-bold);color:var(--gray-dark);margin-bottom:var(--space-xs);font-size:1.75rem}.auth-logo p{color:var(--gray-medium);font-size:.95rem;margin:0}.auth-page .form-floating.position-relative .password-toggle{position:absolute;top:50%;right:1rem;transform:translateY(-50%);background:none;border:none;color:var(--text-muted);cursor:pointer;font-size:1rem;padding:.375rem;border-radius:var(--radius-sm);z-index:10}.auth-link{color:var(--primary-red);text-decoration:none;font-weight:var(--font-weight-medium);font-size:.9rem;transition:all var(--transition-fast)}.auth-link:hover{color:var(--dark-red);text-decoration:underline;text-decoration-thickness:2px;text-underline-offset:2px}.auth-divider{display:flex;align-items:center;text-align:center;margin:var(--space-lg) 0;position:relative}.auth-divider:before,.auth-divider:after{content:\"\";flex:1;border-bottom:1px solid var(--gray-border)}.auth-divider span{padding:0 1rem;color:var(--gray-medium);font-size:.875rem;background:var(--white);position:relative;z-index:1}.social-login{display:flex;gap:var(--space-md);margin-bottom:var(--space-lg)}.social-login .btn{flex:1;padding:.75rem;border:2px solid var(--gray-border);background:var(--white);color:var(--gray-dark);font-weight:var(--font-weight-medium);display:flex;align-items:center;justify-content:center;gap:.5rem;border-radius:var(--radius-md);transition:all var(--transition-fast)}.social-login .btn:hover{border-color:var(--primary-red);color:var(--primary-red);transform:translateY(-1px)}.auth-stats{display:flex;justify-content:center;gap:var(--space-xl);margin-top:var(--space-xl);flex-wrap:wrap}.auth-stats .stat-item{text-align:center;min-width:80px}.auth-stats .stat-item h3{font-size:2rem;font-weight:var(--font-weight-bold);margin-bottom:.25rem;color:var(--white)}.auth-stats .stat-item small{font-size:.875rem;opacity:.9}@media (max-width: 1200px){.auth-left{flex:0 0 35%;max-width:35%;min-width:350px}.auth-right{flex:0 0 65%;max-width:65%}.auth-right-content h1{font-size:2.5rem}}@media (max-width: 992px){.auth-left{flex:0 0 100%;max-width:100%;min-width:100%}.auth-right{display:none}.auth-container{max-width:400px}.auth-page{box-shadow:none}}@media (max-width: 768px){.auth-left{padding:var(--space-lg) var(--space-md)}.auth-container{max-width:100%;padding:0 var(--space-sm)}.auth-logo h2{font-size:1.5rem}.auth-logo i{font-size:2.5rem}.auth-logo p{font-size:.875rem}.social-login{flex-direction:column;gap:.75rem}.auth-divider{margin:var(--space-md) 0}.auth-stats{gap:var(--space-lg)}.auth-stats .stat-item h3{font-size:1.5rem}}@media (max-width: 576px){.auth-left{padding:var(--space-md)}.auth-logo{margin-bottom:var(--space-lg)}.auth-logo h2{font-size:1.25rem}.auth-logo i{font-size:2rem}}@keyframes authPageEnter{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.auth-page{animation:authPageEnter .6s var(--ease-decelerate)}.auth-page .btn-loading{position:relative;color:transparent!important}.auth-page .btn-loading:after{content:\"\";position:absolute;width:1rem;height:1rem;top:50%;left:50%;margin-left:-.5rem;margin-top:-.5rem;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:authButtonSpinner .6s linear infinite}@keyframes authButtonSpinner{to{transform:rotate(360deg)}}.text-muted{color:var(--gray-medium)!important}.text-primary{color:var(--primary-red)!important}.shadow-sm{box-shadow:var(--shadow-sm)}.shadow-md{box-shadow:var(--shadow-md)}.shadow-lg{box-shadow:var(--shadow-lg)}.rounded{border-radius:var(--radius-md)}.rounded-lg{border-radius:var(--radius-lg)}@media (min-width: 2560px){.stats-card h3{font-size:2.75rem}.page-header h1{font-size:2.5rem}.sidebar-logo h3{font-size:1.75rem}}@media (min-width: 1440px) and (max-width: 2559px){.stats-card h3{font-size:2.5rem}.content-area{padding:2.5rem}}@media (max-width: 1366px){.sidebar{width:240px}.main-content{margin-left:240px}.search-box{max-width:300px}.stats-card h3{font-size:2rem}}@media (max-width: 1024px){.sidebar{transform:translate(-100%)}.sidebar.show{transform:translate(0)}.main-content,.main-content.expanded{margin-left:0}.topbar{padding:0 1rem}.search-box{max-width:200px}.search-box input{padding:.5rem .75rem .5rem 2.25rem}.user-info{display:none}.stats-card h3{font-size:1.75rem}}@media (max-width: 767px){.sidebar{width:280px;transform:translate(-100%)}.topbar{padding:0 1rem}.search-box{display:none}.topbar-right{gap:.75rem}.page-header h1{font-size:1.5rem}.stats-card{margin-bottom:1rem}.stats-card h3{font-size:1.5rem}.card-header,.card-body,.table-container{padding:1rem}.login-container{padding:2rem;margin:1rem}.btn{padding:.5rem 1rem;font-size:.875rem}}@media (max-width: 375px){.topbar-icon{width:36px;height:36px}.user-avatar{width:36px;height:36px;font-size:.875rem}.stats-card{padding:1.25rem}.stats-card h3{font-size:1.25rem}}[data-theme=dark] .stats-card{background:var(--bg-card)}[data-theme=dark] .card{background:var(--bg-card);border-color:var(--border-color)}[data-theme=dark] .table-container{background:var(--bg-card)}[data-theme=dark] .table thead th{background:var(--gray-light);color:var(--text-primary)}[data-theme=dark] .modal-content{background:var(--bg-modal)}[data-theme=dark] .modal-header,[data-theme=dark] .modal-footer{background:var(--gray-light);border-color:var(--border-color)}[data-theme=dark] .alert{background:rgba(255,255,255,.05)}[data-theme=dark] .dropdown-menu{background:var(--bg-dropdown);border-color:var(--border-color)}[data-theme=dark] .dropdown-item:hover{background:rgba(255,255,255,.1)}[data-theme=dark] .form-control,[data-theme=dark] .form-select{background-color:var(--bg-input);border-color:var(--border-color);color:var(--text-primary)}[data-theme=dark] .form-control:focus,[data-theme=dark] .form-select:focus{background-color:var(--bg-input);border-color:var(--primary-red);color:var(--text-primary);box-shadow:0 0 0 .25rem rgba(220,53,69,.25)}[data-theme=dark] .form-control::placeholder{color:var(--text-muted)}[data-theme=dark] .form-floating>label{color:var(--text-secondary)}[data-theme=dark] .form-floating>.form-control:focus~label,[data-theme=dark] .form-floating>.form-control:not(:placeholder-shown)~label{color:var(--primary-red)}[data-theme=dark] .input-group-text{background-color:var(--bg-input);border-color:var(--border-color);color:var(--text-primary)}[data-theme=dark] .form-check-input{background-color:var(--bg-input);border-color:var(--border-color)}[data-theme=dark] .form-check-input:checked{background-color:var(--primary-red);border-color:var(--primary-red)}[data-theme=dark] .form-check-label,[data-theme=dark] .table{color:var(--text-primary)}[data-theme=dark] .table thead th{background-color:var(--bg-input);color:var(--text-primary);border-color:var(--border-color)}[data-theme=dark] .table td,[data-theme=dark] .table th{border-color:var(--border-color)}[data-theme=dark] .table-hover tbody tr:hover{background-color:rgba(255,255,255,.05)}[data-theme=dark] .breadcrumb{background-color:var(--bg-card)}[data-theme=dark] .breadcrumb-item a{color:var(--text-secondary)}[data-theme=dark] .breadcrumb-item.active,[data-theme=dark] .page-header h1{color:var(--text-primary)}[data-theme=dark] .sidebar-container{background:var(--bg-sidebar)}[data-theme=dark] .sidebar-menu a,[data-theme=dark] .sidebar-logo .logo-text{color:var(--text-primary)}[data-theme=dark] .footer{background-color:var(--bg-card);color:var(--text-secondary);border-color:var(--border-color)}[data-theme=dark] .search-modal-content{background:var(--bg-modal);color:var(--text-primary)}[data-theme=dark] .search-input{background:var(--bg-input);color:var(--text-primary);border-color:var(--border-color)}[data-theme=dark] .search-input::placeholder{color:var(--text-muted)}[data-theme=dark] .search-section-title{color:var(--text-primary)}[data-theme=dark] .quick-link-item{background:var(--bg-input);color:var(--text-primary)}[data-theme=dark] .quick-link-item:hover{background:var(--primary-red);color:var(--white)}[data-theme=dark] .search-result-item{color:var(--text-primary)}[data-theme=dark] .search-result-item:hover{background:var(--bg-input)}[data-theme=dark] .result-category,[data-theme=dark] .recent-item{color:var(--text-secondary)}[data-theme=dark] .notification-list{background:var(--bg-modal)}[data-theme=dark] .notification-item{border-color:var(--border-color)}[data-theme=dark] .notification-item:hover{background:var(--bg-input)}[data-theme=dark] .notif-title{color:var(--text-primary)}[data-theme=dark] .notif-message{color:var(--text-secondary)}[data-theme=dark] .inbox-list{background:var(--bg-modal)}[data-theme=dark] .inbox-item{border-color:var(--border-color);color:var(--text-primary)}[data-theme=dark] .inbox-item:hover{background:var(--bg-input)}[data-theme=dark] .form-floating>label{color:var(--text-muted)}[data-theme=dark] .form-floating>.form-control:focus~label,[data-theme=dark] .form-floating>.form-control:not(:placeholder-shown)~label,[data-theme=dark] .form-floating>.form-select~label{color:var(--primary-red);background-color:var(--bg-input)}[data-theme=dark] .form-floating>.form-control.is-valid~label{color:var(--green)}[data-theme=dark] .form-floating>.form-control.is-invalid~label{color:var(--primary-red)}[data-theme=dark] .form-floating>.form-control:disabled~label{color:var(--text-muted);opacity:.6}[data-theme=dark] .form-floating{position:relative}[data-theme=dark] .form-floating>.form-control,[data-theme=dark] .form-floating>.form-select{background-color:var(--bg-input);border-color:var(--border-color);color:var(--text-primary)}[data-theme=dark] .form-floating>.form-control:focus,[data-theme=dark] .form-floating>.form-select:focus{background-color:var(--bg-input);border-color:var(--primary-red);color:var(--text-primary);box-shadow:0 0 0 .25rem rgba(220,53,69,.25)}[data-theme=dark] .form-floating>label{color:#8b949e;background-color:transparent}[data-theme=dark] .form-floating>.form-control:focus~label,[data-theme=dark] .form-floating>.form-control:not(:placeholder-shown)~label,[data-theme=dark] .form-floating>.form-select~label{color:var(--primary-red);background-color:var(--bg-input);padding:0 .25rem}[data-theme=dark] .form-floating>.form-control::placeholder{color:transparent}[data-theme=dark] .form-floating>.form-control:focus::placeholder{color:#6e7681}[data-theme=dark] .form-floating>.form-control.is-valid,[data-theme=dark] .form-floating>.form-select.is-valid{border-color:var(--green)}[data-theme=dark] .form-floating>.form-control.is-valid:focus,[data-theme=dark] .form-floating>.form-select.is-valid:focus{border-color:var(--green);box-shadow:0 0 0 .25rem rgba(72,187,120,.25)}[data-theme=dark] .form-floating>.form-control.is-valid~label,[data-theme=dark] .form-floating>.form-select.is-valid~label{color:var(--green)}[data-theme=dark] .form-floating>.form-control.is-invalid,[data-theme=dark] .form-floating>.form-select.is-invalid{border-color:var(--primary-red)}[data-theme=dark] .form-floating>.form-control.is-invalid:focus,[data-theme=dark] .form-floating>.form-select.is-invalid:focus{border-color:var(--primary-red);box-shadow:0 0 0 .25rem rgba(220,53,69,.25)}[data-theme=dark] .form-floating>.form-control.is-invalid~label,[data-theme=dark] .form-floating>.form-select.is-invalid~label{color:var(--primary-red)}[data-theme=dark] .form-floating>.form-control:disabled,[data-theme=dark] .form-floating>.form-select:disabled{background-color:var(--bg-input);opacity:.6;cursor:not-allowed}[data-theme=dark] .form-floating>.form-control:disabled~label,[data-theme=dark] .form-floating>.form-select:disabled~label{color:#6e7681;opacity:.6}[data-theme=dark] .form-floating>textarea.form-control{min-height:100px}[data-theme=dark] .form-floating>textarea.form-control~label{height:auto}\n/*$vite$:1*/",document.head.appendChild(e);const t="auth_token",r="refresh_token",n="csrf_token",i="user_data",o=new class{constructor(){this.prefix="redadmin_",this.storage=window.localStorage,this.sessionStorage=window.sessionStorage}getPrefixedKey(e){return`${this.prefix}${e}`}setItem(e,t,a=!1){try{const r=this.getPrefixedKey(e),n=JSON.stringify(t);return a?this.sessionStorage.setItem(r,n):this.storage.setItem(r,n),!0}catch(r){return!1}}getItem(e,t=!1){try{const a=this.getPrefixedKey(e),r=t?this.sessionStorage.getItem(a):this.storage.getItem(a);return r?JSON.parse(r):null}catch(a){return null}}removeItem(e,t=!1){try{const a=this.getPrefixedKey(e);return t?this.sessionStorage.removeItem(a):this.storage.removeItem(a),!0}catch(a){return!1}}clear(e=!1){try{const t=e?this.sessionStorage:this.storage;return Object.keys(t).forEach(e=>{e.startsWith(this.prefix)&&t.removeItem(e)}),!0}catch(t){return!1}}isAvailable(){try{const e="__storage_test__";return this.storage.setItem(e,"test"),this.storage.removeItem(e),!0}catch(e){return!1}}getAllKeys(e=!1){const t=e?this.sessionStorage:this.storage;return Object.keys(t).filter(e=>e.startsWith(this.prefix)).map(e=>e.replace(this.prefix,""))}getStorageSize(e=!1){const t=e?this.sessionStorage:this.storage;let a=0;for(let r in t)t.hasOwnProperty(r)&&r.startsWith(this.prefix)&&(a+=t[r].length+r.length);return a}setToken(e){return this.setItem(t,e)}getToken(){return this.getItem(t)}removeToken(){return this.removeItem(t)}setRefreshToken(e){return this.setItem(r,e)}getRefreshToken(){return this.getItem(r)}removeRefreshToken(){return this.removeItem(r)}setCsrfToken(e){return this.setItem(n,e,!0)}getCsrfToken(){return this.getItem(n,!0)}setUser(e){return this.setItem(i,e)}getUser(){return this.getItem(i)}removeUser(){return this.removeItem(i)}clearAuth(){return this.removeToken(),this.removeRefreshToken(),this.removeUser(),this.removeItem(n,!0),!0}isAuthenticated(){return!!this.getToken()}setTempData(e,t){return this.setItem(e,t,!0)}getTempData(e){return this.getItem(e,!0)}removeTempData(e){return this.removeItem(e,!0)}},s=new class{constructor(){this.events={}}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),()=>this.off(e,t)}once(e,t){const a=(...r)=>{t(...r),this.off(e,a)};this.on(e,a)}off(e,t){this.events[e]&&(this.events[e]=this.events[e].filter(e=>e!==t),0===this.events[e].length&&delete this.events[e])}emit(e,t){this.events[e]&&this.events[e].forEach(e=>{try{e(t)}catch(a){}})}getEvents(){return Object.keys(this.events)}clear(){this.events={}}clearEvent(e){delete this.events[e]}listenerCount(e){return this.events[e]?this.events[e].length:0}},d="https://api.redadmin.local/v1",l=new class{constructor(){this.axiosInstance=null,this.requestQueue=[],this.isRefreshing=!1,this.initializeAxios()}initializeAxios(){this.axiosInstance=a.create({baseURL:d,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"}}),this.setupRequestInterceptor(),this.setupResponseInterceptor()}setupRequestInterceptor(){this.axiosInstance.interceptors.request.use(e=>{const t=o.getToken();t&&(e.headers.Authorization=`Bearer ${t}`);const a=o.getCsrfToken();return a&&(e.headers["X-CSRF-Token"]=a),e.metadata={startTime:Date.now()},e},e=>Promise.reject(e))}setupResponseInterceptor(){this.axiosInstance.interceptors.response.use(e=>{const t=Date.now()-e.config.metadata.startTime;return e.duration=t,s.emit("api:success",{url:e.config.url,method:e.config.method,duration:t}),e},async e=>{const t=e.config;if(!e.response)return s.emit("api:network-error",e),Promise.reject({message:"Network error. Please check your connection.",type:"network"});if(401===e.response.status&&!t._retry){if(this.isRefreshing)return new Promise((e,t)=>{this.requestQueue.push({resolve:e,reject:t})}).then(e=>(t.headers.Authorization=`Bearer ${e}`,this.axiosInstance(t))).catch(e=>Promise.reject(e));t._retry=!0,this.isRefreshing=!0;try{const e=await this.refreshToken();return this.isRefreshing=!1,this.processQueue(null,e),t.headers.Authorization=`Bearer ${e}`,this.axiosInstance(t)}catch(a){return this.isRefreshing=!1,this.processQueue(a,null),o.clearAuth(),s.emit("auth:session-expired"),Promise.reject(a)}}return 403===e.response.status&&s.emit("api:forbidden",e.response),404===e.response.status&&s.emit("api:not-found",e.response),e.response.status>=500&&s.emit("api:server-error",e.response),Promise.reject(this.normalizeError(e))})}processQueue(e,t=null){this.requestQueue.forEach(a=>{e?a.reject(e):a.resolve(t)}),this.requestQueue=[]}async refreshToken(){const e=o.getRefreshToken();if(!e)throw new Error("No refresh token available");const t=await a.post(`${d}/auth/refresh`,{refresh_token:e}),{token:r,refresh_token:n}=t.data;return o.setToken(r),o.setRefreshToken(n),r}normalizeError(e){return e.response?{message:e.response.data?.message||"An error occurred",status:e.response.status,data:e.response.data,type:"response"}:e.request?{message:"No response received from server",type:"request"}:{message:e.message||"Unknown error occurred",type:"unknown"}}async get(e,t={}){try{return(await this.axiosInstance.get(e,t)).data}catch(a){throw a}}async post(e,t={},a={}){try{return(await this.axiosInstance.post(e,t,a)).data}catch(r){throw r}}async put(e,t={},a={}){try{return(await this.axiosInstance.put(e,t,a)).data}catch(r){throw r}}async patch(e,t={},a={}){try{return(await this.axiosInstance.patch(e,t,a)).data}catch(r){throw r}}async delete(e,t={}){try{return(await this.axiosInstance.delete(e,t)).data}catch(a){throw a}}async uploadFile(e,t,a=null){const r=new FormData;r.append("file",t);const n={headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{if(a){const t=Math.round(100*e.loaded/e.total);a(t)}}};try{return(await this.axiosInstance.post(e,r,n)).data}catch(i){throw i}}async downloadFile(e,t){try{const a=await this.axiosInstance.get(e,{responseType:"blob"}),r=new Blob([a.data]),n=document.createElement("a");return n.href=window.URL.createObjectURL(r),n.download=t,n.click(),window.URL.revokeObjectURL(n.href),!0}catch(a){throw a}}cancelPendingRequests(){s.emit("api:requests-canceled")}getInstance(){return this.axiosInstance}},c="testuser@redadmin.local",m="Test@1234",h=new class{constructor(){this.currentUser=null,this.isAuthenticated=!1,this.tokenExpiryTimer=null}init(){const e=o.getToken(),t=o.getUser();e&&t&&(this.currentUser=t,this.isAuthenticated=!0,this.startTokenExpiryCheck(),s.emit("auth:initialized",{user:t}))}async login(e,t,a=!1){try{if(e===c&&t===m)return this.handleTestAccountLogin(a);const r=await l.post("/auth/login",{username:e,password:t,remember_me:a});return this.handleLoginSuccess(r,a)}catch(r){throw s.emit("auth:login-failed",r),r}}handleTestAccountLogin(e){const t={id:1,username:c,email:c,firstName:"Test",lastName:"User",role:"admin",avatar:null,permissions:["*"]},a="test_token_"+Date.now(),r="test_refresh_"+Date.now();return o.setToken(a),o.setRefreshToken(r),o.setUser(t),this.currentUser=t,this.isAuthenticated=!0,this.startTokenExpiryCheck(),s.emit("auth:login-success",{user:t,isTestAccount:!0}),{success:!0,user:t,token:a,message:"Test account login successful"}}handleLoginSuccess(e,t){const{token:a,refresh_token:r,user:n}=e;return o.setToken(a),o.setRefreshToken(r),o.setUser(n),this.currentUser=n,this.isAuthenticated=!0,this.startTokenExpiryCheck(),s.emit("auth:login-success",{user:n}),{success:!0,user:n,token:a}}async logout(){try{this.isTestAccount()||await l.post("/auth/logout")}catch(e){}finally{this.clearAuthData(),s.emit("auth:logout")}}async register(e){try{const t=await l.post("/auth/register",e);return s.emit("auth:register-success",t),t}catch(t){throw s.emit("auth:register-failed",t),t}}async forgotPassword(e){try{const t=await l.post("/auth/forgot-password",{email:e});return s.emit("auth:forgot-password-sent",{email:e}),t}catch(t){throw s.emit("auth:forgot-password-failed",t),t}}async resetPassword(e,t){try{const a=await l.post("/auth/reset-password",{token:e,password:t});return s.emit("auth:password-reset-success"),a}catch(a){throw s.emit("auth:password-reset-failed",a),a}}async changePassword(e,t){try{const a=await l.post("/auth/change-password",{current_password:e,new_password:t});return s.emit("auth:password-changed"),a}catch(a){throw a}}async refreshToken(){try{const e=o.getRefreshToken();if(!e)throw new Error("No refresh token available");const t=await l.post("/auth/refresh",{refresh_token:e});return o.setToken(t.token),o.setRefreshToken(t.refresh_token),t.token}catch(e){throw this.clearAuthData(),s.emit("auth:session-expired"),e}}getCurrentUser(){return this.currentUser||(this.currentUser=o.getUser()),this.currentUser}updateCurrentUser(e){this.currentUser={...this.currentUser,...e},o.setUser(this.currentUser),s.emit("auth:user-updated",this.currentUser)}checkAuth(){const e=o.getToken(),t=o.getUser();return this.isAuthenticated=!(!e||!t),this.isAuthenticated}isTestAccount(){const e=this.getCurrentUser();return e?.username===c}hasPermission(e){const t=this.getCurrentUser();return!!t&&(!!t.permissions?.includes("*")||t.permissions?.includes(e)||!1)}hasRole(e){const t=this.getCurrentUser();return t?.role===e}clearAuthData(){o.clearAuth(),this.currentUser=null,this.isAuthenticated=!1,this.stopTokenExpiryCheck()}startTokenExpiryCheck(){this.stopTokenExpiryCheck(),this.tokenExpiryTimer=setInterval(()=>{this.checkAuth()||(this.clearAuthData(),s.emit("auth:session-expired"))},3e5)}stopTokenExpiryCheck(){this.tokenExpiryTimer&&(clearInterval(this.tokenExpiryTimer),this.tokenExpiryTimer=null)}lockScreen(){o.setTempData("screen_locked",!0),s.emit("auth:screen-locked")}async unlockScreen(e){try{const t=this.getCurrentUser();if(this.isTestAccount()&&e===m)return o.removeTempData("screen_locked"),s.emit("auth:screen-unlocked"),{success:!0};const a=await l.post("/auth/unlock",{user_id:t.id,password:e});return o.removeTempData("screen_locked"),s.emit("auth:screen-unlocked"),a}catch(t){throw t}}isScreenLocked(){return!0===o.getTempData("screen_locked")}};class u{static createElement(e,t={},a=""){const r=document.createElement(e);return Object.entries(t).forEach(([e,t])=>{if("className"===e)r.className=t;else if("dataset"===e)Object.entries(t).forEach(([e,t])=>{r.dataset[e]=t});else if(e.startsWith("on")){const a=e.substring(2).toLowerCase();r.addEventListener(a,t)}else r.setAttribute(e,t)}),a&&("string"==typeof a?r.textContent=a:a instanceof Node&&r.appendChild(a)),r}static qs(e,t=document){return t.querySelector(e)}static qsa(e,t=document){return Array.from(t.querySelectorAll(e))}static on(e,t,a,r){e.addEventListener(t,e=>{const t=e.target.closest(a);t&&r.call(t,e)})}static debounce(e,t=300){let a;return function(...r){clearTimeout(a),a=setTimeout(()=>{clearTimeout(a),e(...r)},t)}}static throttle(e,t=300){let a;return function(...r){a||(e(...r),a=!0,setTimeout(()=>a=!1,t))}}static sanitizeHTML(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}static insertHTML(e,t,a="beforeend"){const r=document.createElement("template");switch(r.innerHTML=t.trim(),a){case"beforebegin":e.parentNode.insertBefore(r.content,e);break;case"afterbegin":e.insertBefore(r.content,e.firstChild);break;case"beforeend":e.appendChild(r.content);break;case"afterend":e.parentNode.insertBefore(r.content,e.nextSibling)}}static remove(e){e&&e.parentNode&&e.parentNode.removeChild(e)}static toggleClass(e,t,a){void 0!==a?e.classList.toggle(t,a):e.classList.toggle(t)}static getOffset(e){const t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset,width:t.width,height:t.height}}static scrollTo(e,t={}){e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest",...t})}static createFragment(e){const t=document.createElement("template");return t.innerHTML=e.trim(),t.content}static batchUpdate(e){requestAnimationFrame(()=>{e()})}static waitForElement(e,t=5e3){return new Promise((a,r)=>{const n=this.qs(e);if(n)return void a(n);const i=new MutationObserver(()=>{const t=this.qs(e);t&&(i.disconnect(),a(t))});i.observe(document.body,{childList:!0,subtree:!0}),setTimeout(()=>{i.disconnect(),r(new Error(`Element ${e} not found within ${t}ms`))},t)})}static isInViewport(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}static getStyle(e,t){return window.getComputedStyle(e).getPropertyValue(t)}static setStyles(e,t){Object.entries(t).forEach(([t,a])=>{e.style[t]=a})}}const g=new class{constructor(){this.routes=new Map,this.currentRoute=null,this.defaultRoute="dashboard",this.authPages=["login","register","forgot-password","reset-password"],this.isInitialized=!1}init(){this.isInitialized||(this.registerRoutes(),this.setupEventListeners(),this.handleInitialRoute(),this.isInitialized=!0)}registerRoutes(){this.register("dashboard",{title:"Dashboard",template:"pages/dashboard.html",requiresAuth:!0,onEnter:()=>this.loadDashboardData()}),this.register("profile",{title:"User Profile",template:"pages/profile.html",requiresAuth:!0}),this.register("settings",{title:"Settings",template:"pages/settings.html",requiresAuth:!0}),this.register("model1",{title:"Data Table",template:"pages/model1.html",requiresAuth:!0}),this.register("model2",{title:"Forms",template:"pages/model2.html",requiresAuth:!0}),this.register("model3",{title:"Analytics",template:"pages/model3.html",requiresAuth:!0}),this.register("employees",{title:"Employees - RedAdmin Pro",template:"pages/employees.html",requiresAuth:!0}),this.register("employeescreate",{title:"Create Employee - RedAdmin Pro",template:"pages/employeecrud.html",requiresAuth:!0,onEnter:()=>{sessionStorage.setItem("crudMode","create"),sessionStorage.setItem("crudModule","employee"),sessionStorage.removeItem("crudId")}}),this.register("employeesupdate",{title:"Update Employee - RedAdmin Pro",template:"pages/employeecrud.html",requiresAuth:!0,onEnter:()=>{sessionStorage.setItem("crudMode","update"),sessionStorage.setItem("crudModule","employee")}}),this.register("assets",{title:"Assets - RedAdmin Pro",template:"pages/assets.html",requiresAuth:!0}),this.register("assetscreate",{title:"Create Asset - RedAdmin Pro",template:"pages/assetcrud.html",requiresAuth:!0,onEnter:()=>{sessionStorage.setItem("crudMode","create"),sessionStorage.setItem("crudModule","asset"),sessionStorage.removeItem("crudId")}}),this.register("assetsupdate",{title:"Update Asset - RedAdmin Pro",template:"pages/assetcrud.html",requiresAuth:!0,onEnter:()=>{sessionStorage.setItem("crudMode","update"),sessionStorage.setItem("crudModule","asset")}}),this.register("categories",{title:"Categories - RedAdmin Pro",template:"pages/categories.html",requiresAuth:!0}),this.register("categoriescreate",{title:"Create Category - RedAdmin Pro",template:"pages/categorycrud.html",requiresAuth:!0,onEnter:()=>{sessionStorage.setItem("crudMode","create"),sessionStorage.setItem("crudModule","category"),sessionStorage.removeItem("crudId")}}),this.register("categoriesupdate",{title:"Update Category - RedAdmin Pro",template:"pages/categorycrud.html",requiresAuth:!0,onEnter:()=>{sessionStorage.setItem("crudMode","update"),sessionStorage.setItem("crudModule","category")}}),this.register("transactions",{title:"Transactions - RedAdmin Pro",template:"pages/transactions.html",requiresAuth:!0}),this.register("transactionscreate",{title:"Create Transaction - RedAdmin Pro",template:"pages/transactioncrud.html",requiresAuth:!0,onEnter:()=>{sessionStorage.setItem("crudMode","create"),sessionStorage.setItem("crudModule","transaction"),sessionStorage.removeItem("crudId")}}),this.register("transactionsupdate",{title:"Update Transaction - RedAdmin Pro",template:"pages/transactioncrud.html",requiresAuth:!0,onEnter:()=>{sessionStorage.setItem("crudMode","update"),sessionStorage.setItem("crudModule","transaction")}}),this.register("reports",{title:"Reports - RedAdmin Pro",template:"pages/reports.html",requiresAuth:!0}),this.register("file-upload",{title:"File Upload - RedAdmin Pro",template:"pages/file-upload.html",requiresAuth:!0}),this.register("components",{title:"UI Components",template:"pages/components.html",requiresAuth:!0}),this.register("buttons",{title:"Buttons",template:"pages/buttons.html",requiresAuth:!0}),this.register("login",{title:"Login",template:"pages/login.html",requiresAuth:!1,layout:"auth"}),this.register("register",{title:"Register",template:"pages/register.html",requiresAuth:!1,layout:"auth"}),this.register("forgot-password",{title:"Forgot Password",template:"pages/forgot-password.html",requiresAuth:!1,layout:"auth"}),this.register("reset-password",{title:"Reset Password",template:"pages/reset-password.html",requiresAuth:!1,layout:"auth"}),this.register("lockscreen",{title:"Lock Screen",template:"pages/lockscreen.html",requiresAuth:!1,layout:"auth"}),this.register("error404",{title:"404 Not Found",template:"pages/error404.html",requiresAuth:!1,layout:"auth"}),this.register("error500",{title:"500 Server Error",template:"pages/error500.html",requiresAuth:!1,layout:"auth"}),this.register("maintenance",{title:"Maintenance",template:"pages/maintenance.html",requiresAuth:!1,layout:"auth"})}register(e,t){this.routes.set(e,t)}setupEventListeners(){window.addEventListener("popstate",e=>{const t=this.getPathFromUrl();this.loadRoute(t)}),document.addEventListener("click",e=>{const t=e.target.closest("[data-route]");if(t){e.preventDefault();const a=t.dataset.route;this.navigate(a)}})}getPathFromUrl(){return window.location.pathname.replace(/^\//,"")||this.defaultRoute}handleInitialRoute(){const e=this.getPathFromUrl();this.routes.has(e)?this.loadRoute(e,!1):""===e||"/"===e?this.loadRoute(this.defaultRoute,!1):this.loadRoute("error404",!1)}navigate(e,t=!0){let a=!0,r=null;"boolean"==typeof t?a=t:"object"==typeof t&&(a=!1!==t.pushState,r=t.id||null),r&&sessionStorage.setItem("crudId",r),a&&window.history.pushState({path:e},"",`/${e}`),this.loadRoute(e)}async loadRoute(e,t=!0){const a=this.routes.get(e);if(a)if(!a.requiresAuth&&h.checkAuth()&&this.authPages.includes(e))this.navigate(this.defaultRoute,t);else{s.emit("app:loading",!0);try{"auth"===a.layout?this.showAuthLayout():this.showDefaultLayout(),await this.loadTemplate(a.template),document.title=`${a.title} - RedAdmin Pro`,this.updateActiveMenu(e),this.currentRoute=e,a.onEnter&&await a.onEnter(),s.emit("route:changed",{path:e,route:a})}catch(r){s.emit("app:error",r)}finally{s.emit("app:loading",!1)}}else this.navigate("error404",t)}async loadTemplate(e){try{const t=await fetch(`/${e}`);if(!t.ok)throw new Error(`Failed to load template: ${t.status}`);const a=await t.text(),r=document.getElementById("pageContent");r&&(r.innerHTML=a,window.dispatchEvent(new CustomEvent("pageLoaded",{detail:{path:e}})))}catch(t){throw t}}showAuthLayout(){const e=document.querySelector(".sidebar-container"),t=document.querySelector(".topbar"),a=document.querySelector(".main-content"),r=document.querySelector(".footer");e&&(e.style.display="none"),t&&(t.style.display="none"),a&&(a.style.marginLeft="0",a.style.marginTop="0"),r&&(r.style.display="none")}showDefaultLayout(){const e=document.querySelector(".sidebar-container"),t=document.querySelector(".topbar"),a=document.querySelector(".main-content"),r=document.querySelector(".footer");e&&(e.style.display="flex"),t&&(t.style.display="flex"),a&&(a.style.marginLeft="",a.style.marginTop=""),r&&(r.style.display="block")}updateActiveMenu(e){document.querySelectorAll(".sidebar-menu a").forEach(e=>{e.classList.remove("active")});const t=document.querySelector(`[data-route="${e}"]`);t&&t.classList.add("active")}async loadDashboardData(){}getCurrentRoute(){return this.currentRoute}hasRoute(e){return this.routes.has(e)}},p=new class{constructor(){this.state={user:null,theme:"light",sidebarCollapsed:!1,notifications:[],settings:{},cache:{}},this.subscribers=new Map,this.init()}init(){this.loadPersistedState()}loadPersistedState(){const e=o.getUser(),t=o.getItem("theme")||"light",a=o.getItem("sidebar_collapsed")||!1,r=o.getItem("settings")||{};this.state={...this.state,user:e,theme:t,sidebarCollapsed:a,settings:r}}get(e){return this.state[e]}set(e,t,a=!1){const r=this.state[e];this.state[e]=t,a&&o.setItem(e,t),this.notify(e,t,r),s.emit("state:changed",{key:e,value:t,oldValue:r})}update(e,t=!1){Object.entries(e).forEach(([e,a])=>{this.set(e,a,t)})}subscribe(e,t){return this.subscribers.has(e)||this.subscribers.set(e,[]),this.subscribers.get(e).push(t),()=>{const a=this.subscribers.get(e),r=a.indexOf(t);r>-1&&a.splice(r,1)}}notify(e,t,a){const r=this.subscribers.get(e);r&&r.forEach(e=>{try{e(t,a)}catch(r){}})}clear(e=!1){this.state={user:null,theme:"light",sidebarCollapsed:!1,notifications:[],settings:{},cache:{}},e&&o.clear(),s.emit("state:cleared")}getState(){return{...this.state}}setUser(e){this.set("user",e,!0)}getUser(){return this.get("user")}setTheme(e){this.set("theme",e,!0),document.documentElement.setAttribute("data-theme",e)}getTheme(){return this.get("theme")}toggleSidebar(){const e=!this.get("sidebarCollapsed");this.set("sidebarCollapsed",e,!0)}addNotification(e){const t=this.get("notifications");t.push(e),this.set("notifications",t)}removeNotification(e){const t=this.get("notifications").filter(t=>t.id!==e);this.set("notifications",t)}cacheData(e,t,a=36e5){const r=this.get("cache");r[e]={data:t,timestamp:Date.now(),ttl:a},this.set("cache",r)}getCachedData(e){const t=this.get("cache"),a=t[e];return a?Date.now()-a.timestamp>a.ttl?(delete t[e],this.set("cache",t),null):a.data:null}clearCache(){this.set("cache",{})}},f=new class{constructor(){this.container=null,this.init()}init(){this.container||(this.container=document.createElement("div"),this.container.id="notification-container",this.container.className="position-fixed top-0 end-0 p-3",this.container.style.zIndex="9999",document.body.appendChild(this.container))}show(e,t,a={}){const r={duration:5e3,dismissible:!0,icon:!0,...a},n="toast-"+Date.now(),i=this.getIconClass(e),o=`\n      <div class="toast align-items-center text-bg-${e} border-0" \n           id="${n}" role="alert" aria-live="assertive" aria-atomic="true">\n        <div class="d-flex">\n          <div class="toast-body">\n            ${r.icon?`<i class="${i} me-2"></i>`:""}\n            ${t}\n          </div>\n          ${r.dismissible?'\n            <button type="button" class="btn-close btn-close-white me-2 m-auto" \n                    data-bs-dismiss="toast" aria-label="Close"></button>\n          ':""}\n        </div>\n      </div>\n    `;u.insertHTML(this.container,o);const s=document.getElementById(n),d=new bootstrap.Toast(s,{delay:r.duration});return d.show(),s.addEventListener("hidden.bs.toast",()=>{s.remove()}),d}getIconClass(e){const t={success:"fas fa-check-circle",danger:"fas fa-exclamation-circle",warning:"fas fa-exclamation-triangle",info:"fas fa-info-circle",primary:"fas fa-bell"};return t[e]||t.info}success(e,t={}){return this.show("success",e,t)}error(e,t={}){return this.show("danger",e,t)}warning(e,t={}){return this.show("warning",e,t)}info(e,t={}){return this.show("info",e,t)}clearAll(){this.container&&(this.container.innerHTML="")}},b=new class{constructor(){this.isLocked=!1}lock(){localStorage.setItem("isLocked","true"),localStorage.setItem("lockScreenTime",(new Date).toISOString()),this.isLocked=!0,window.location.href="/lockscreen"}unlock(){localStorage.removeItem("isLocked"),localStorage.removeItem("lockScreenTime"),this.isLocked=!1,window.location.href="/dashboard"}isScreenLocked(){return"true"===localStorage.getItem("isLocked")}};class v{constructor(e={}){this.options={id:"modal-"+Date.now(),title:"",content:"",size:"md",centered:!0,backdrop:!0,keyboard:!0,footer:!0,closeButton:!0,buttons:[],onShow:null,onHide:null,onSubmit:null,...e},this.modal=null,this.bsModal=null,this.isVisible=!1}create(){const e=`\n      <div class="modal fade" id="${this.options.id}" tabindex="-1" \n           aria-labelledby="${this.options.id}Label" aria-hidden="true"\n           data-bs-backdrop="${this.options.backdrop?"true":"static"}"\n           data-bs-keyboard="${this.options.keyboard}">\n        <div class="modal-dialog ${this.getSizeClass()} ${this.options.centered?"modal-dialog-centered":""} modal-dialog-scrollable">\n          <div class="modal-content">\n            <div class="modal-header">\n              <h5 class="modal-title" id="${this.options.id}Label">${this.options.title}</h5>\n              ${this.options.closeButton?'\n                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n              ':""}\n            </div>\n            <div class="modal-body">\n              ${this.options.content}\n            </div>\n            ${this.options.footer?this.createFooter():""}\n          </div>\n        </div>\n      </div>\n    `,t=document.getElementById("modals-container")||document.body;return u.insertHTML(t,e),this.modal=document.getElementById(this.options.id),this.setupEventListeners(),this}getSizeClass(){return{sm:"modal-sm",md:"",lg:"modal-lg",xl:"modal-xl",fullscreen:"modal-fullscreen"}[this.options.size]||""}createFooter(){return 0===this.options.buttons.length?'\n        <div class="modal-footer">\n          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>\n        </div>\n      ':`<div class="modal-footer">${this.options.buttons.map(e=>{const t=e.className||"btn-primary",a=e.dismiss?'data-bs-dismiss="modal"':"";return`\n        <button type="button" class="btn ${t}" data-action="${e.action||""}" ${a}>\n          ${e.text}\n        </button>\n      `}).join("")}</div>`}setupEventListeners(){this.modal.addEventListener("show.bs.modal",()=>{this.isVisible=!0,this.options.onShow&&this.options.onShow(this),s.emit("modal:show",{id:this.options.id})}),this.modal.addEventListener("hide.bs.modal",()=>{this.isVisible=!1,this.options.onHide&&this.options.onHide(this),s.emit("modal:hide",{id:this.options.id})}),this.modal.addEventListener("hidden.bs.modal",()=>{s.emit("modal:hidden",{id:this.options.id})}),this.options.buttons.forEach(e=>{if(e.action&&e.onClick){const t=this.modal.querySelector(`[data-action="${e.action}"]`);t&&t.addEventListener("click",t=>e.onClick(t,this))}})}show(){return this.modal||this.create(),this.bsModal||(this.bsModal=new bootstrap.Modal(this.modal,{backdrop:this.options.backdrop,keyboard:this.options.keyboard})),this.bsModal.show(),this}hide(){return this.bsModal&&this.bsModal.hide(),this}destroy(){return this.bsModal&&this.bsModal.dispose(),this.modal&&this.modal.remove(),this.modal=null,this.bsModal=null,this}updateContent(e){const t=this.modal.querySelector(".modal-body");return t&&(t.innerHTML=e),this}updateTitle(e){const t=this.modal.querySelector(".modal-title");return t&&(t.textContent=e),this}toggle(){return this.isVisible?this.hide():this.show(),this}getElement(){return this.modal}getInstance(){return this.bsModal}}const y=new class{constructor(){this.modals=new Map}create(e){const t=new v(e);return this.modals.set(e.id||t.options.id,t),t}get(e){return this.modals.get(e)}show(e){const t=this.modals.get(e);t&&t.show()}hide(e){const t=this.modals.get(e);t&&t.hide()}destroy(e){const t=this.modals.get(e);t&&(t.destroy(),this.modals.delete(e))}destroyAll(){this.modals.forEach(e=>e.destroy()),this.modals.clear()}hideAll(){this.modals.forEach(e=>e.hide())}getActive(){for(let[e,t]of this.modals)if(t.isVisible)return t;return null}},w=new class{constructor(){this.messages=[],this.currentPage=1,this.perPage=10,this.totalPages=0,this.modal=null}show(e=[]){if(e.length>0?this.messages=e:0===this.messages.length&&(this.messages=this.generateSampleMessages()),this.totalPages=Math.ceil(this.messages.length/this.perPage),this.modal&&document.getElementById("inboxModal")){const e=document.querySelector("#inboxModal .modal-body");e&&(e.innerHTML=this.renderInbox(),this.setupInboxHandlers())}else this.modal=y.create({id:"inboxModal",title:"Inbox",size:"lg",content:this.renderInbox(),footer:!1,onShow:()=>{this.setupInboxHandlers()}});this.modal.show()}renderInbox(){const e=(this.currentPage-1)*this.perPage,t=e+this.perPage;return`\n      <div class="inbox-container">\n        <div class="inbox-header mb-3">\n          <div class="input-group">\n            <span class="input-group-text">\n              <i class="fas fa-search"></i>\n            </span>\n            <input type="text" class="form-control" \n                   id="inboxSearch" \n                   placeholder="Search messages...">\n          </div>\n        </div>\n        \n        <div class="inbox-list">\n          ${this.messages.slice(e,t).map(e=>this.renderMessage(e)).join("")}\n        </div>\n        \n        ${this.renderPagination()}\n      </div>\n    `}renderMessage(e){const t=e.unread?"unread":"",a=e.avatar||"https://via.placeholder.com/40";return`\n      <div class="inbox-message ${t}" data-message-id="${e.id}">\n        <div class="message-avatar">\n          <img src="${a}" alt="${e.from}">\n        </div>\n        <div class="message-content">\n          <div class="message-header">\n            <strong>${e.from}</strong>\n            <small class="text-muted">${e.time}</small>\n          </div>\n          <div class="message-subject">${e.subject}</div>\n          <div class="message-preview">${e.preview}</div>\n        </div>\n        <div class="message-actions">\n          ${e.unread?'<span class="badge bg-primary">New</span>':""}\n        </div>\n      </div>\n    `}renderPagination(){if(this.totalPages<=1)return"";const e=[];for(let t=1;t<=this.totalPages;t++)e.push(`\n        <li class="page-item ${t===this.currentPage?"active":""}">\n          <button class="page-link" data-page="${t}">${t}</button>\n        </li>\n      `);return`\n      <nav class="mt-3">\n        <ul class="pagination justify-content-center">\n          <li class="page-item ${1===this.currentPage?"disabled":""}">\n            <button class="page-link" data-page="prev">Previous</button>\n          </li>\n          ${e.join("")}\n          <li class="page-item ${this.currentPage===this.totalPages?"disabled":""}">\n            <button class="page-link" data-page="next">Next</button>\n          </li>\n        </ul>\n      </nav>\n    `}setupInboxHandlers(){const e=this.modal.getElement(),t=e.querySelector("#inboxSearch");t&&t.addEventListener("input",u.debounce(e=>{this.handleSearch(e.target.value)},300)),u.on(e,"click",".inbox-message",e=>{const t=e.currentTarget.dataset.messageId;this.openMessage(t)}),u.on(e,"click",".page-link",e=>{const t=e.currentTarget.dataset.page;this.currentPage="prev"===t?Math.max(1,this.currentPage-1):"next"===t?Math.min(this.totalPages,this.currentPage+1):parseInt(t),this.updateInbox()})}handleSearch(e){s.emit("inbox:search",{query:e})}openMessage(e){const t=this.messages.find(t=>t.id==e);t&&(t.unread=!1,s.emit("inbox:message-opened",{message:t}),s.emit("notification:info",`Opening message from ${t.from}`))}updateInbox(){const e=this.renderInbox();this.modal.updateContent(e),this.setupInboxHandlers()}generateSampleMessages(){const e=[];for(let t=1;t<=25;t++)e.push({id:t,from:`User ${t}`,subject:`Message Subject ${t}`,preview:`This is a preview of message ${t}...`,time:`${t} hours ago`,unread:t<=5,avatar:null});return e}hide(){this.modal&&this.modal.hide()}},x=new class{constructor(){this.recentSearches=this.loadRecentSearches(),this.pages=[{name:"Dashboard",path:"/dashboard",icon:"home",category:"Main"},{name:"Profile",path:"/profile",icon:"user",category:"Main"},{name:"Settings",path:"/settings",icon:"cog",category:"Main"},{name:"Employees",path:"/employees",icon:"users",category:"Data"},{name:"Assets",path:"/assets",icon:"box",category:"Data"},{name:"Categories",path:"/categories",icon:"tags",category:"Data"},{name:"Transactions",path:"/transactions",icon:"exchange-alt",category:"Data"},{name:"Data Table",path:"/model1",icon:"table",category:"Pages"},{name:"Forms",path:"/model2",icon:"edit",category:"Pages"},{name:"Analytics",path:"/model3",icon:"chart-bar",category:"Pages"},{name:"Reports",path:"/reports",icon:"chart-line",category:"Pages"},{name:"File Upload",path:"/file-upload",icon:"cloud-upload-alt",category:"Pages"},{name:"Components",path:"/components",icon:"th-large",category:"UI"},{name:"Buttons",path:"/buttons",icon:"mouse-pointer",category:"UI"}],this.init()}init(){this.createModal(),this.setupEventListeners()}loadRecentSearches(){const e=localStorage.getItem("recentSearches");return e?JSON.parse(e):[]}saveRecentSearches(){localStorage.setItem("recentSearches",JSON.stringify(this.recentSearches))}addToRecent(e){this.recentSearches=this.recentSearches.filter(t=>t!==e),this.recentSearches.unshift(e),this.recentSearches=this.recentSearches.slice(0,5),this.saveRecentSearches()}createModal(){const e=document.getElementById("searchModal");e&&e.remove(),document.body.insertAdjacentHTML("beforeend",'\n      <div class="modal fade" id="searchModal" tabindex="-1">\n        <div class="modal-dialog modal-dialog-centered">\n          <div class="modal-content search-modal-content">\n            <div class="search-modal-header">\n              <h6 class="text-white mb-3 d-flex align-items-center">\n                <i class="fas fa-bolt me-2"></i>Quick Links\n              </h6>\n              <div class="quick-links-grid mb-3">\n                <a href="/dashboard" class="quick-link-item" data-page="dashboard">\n                  <i class="fas fa-home"></i>\n                  <span>Dashboard</span>\n                </a>\n                <a href="/employees" class="quick-link-item" data-page="employees">\n                  <i class="fas fa-users"></i>\n                  <span>Employees</span>\n                </a>\n                <a href="/assets" class="quick-link-item" data-page="assets">\n                  <i class="fas fa-box"></i>\n                  <span>Assets</span>\n                </a>\n                <a href="/reports" class="quick-link-item" data-page="reports">\n                  <i class="fas fa-chart-line"></i>\n                  <span>Reports</span>\n                </a>\n                <a href="/profile" class="quick-link-item" data-page="profile">\n                  <i class="fas fa-user"></i>\n                  <span>Profile</span>\n                </a>\n                <a href="/settings" class="quick-link-item" data-page="settings">\n                  <i class="fas fa-cog"></i>\n                  <span>Settings</span>\n                </a>\n              </div>\n              <div class="search-input-wrapper">\n                <i class="fas fa-search search-icon"></i>\n                <input \n                  type="text" \n                  class="search-input" \n                  id="searchInput" \n                  placeholder="Search pages, menus..." \n                  autocomplete="off"\n                />\n                <button class="search-close" data-bs-dismiss="modal">\n                  <i class="fas fa-times"></i>\n                </button>\n              </div>\n            </div>\n            \n            <div class="search-modal-body">\n              \x3c!-- Recent Searches --\x3e\n              <div class="search-section" id="recentSection" style="display: none;">\n                <h6 class="search-section-title">\n                  <i class="fas fa-clock me-2"></i>Recent Searches\n                </h6>\n                <div id="recentSearches"></div>\n              </div>\n\n              \x3c!-- Search Results --\x3e\n              <div class="search-section" id="resultsSection" style="display: none;">\n                <h6 class="search-section-title">\n                  <i class="fas fa-search me-2"></i>Search Results\n                </h6>\n                <div id="searchResults"></div>\n              </div>\n\n              \x3c!-- No Results --\x3e\n              <div class="search-section" id="noResults" style="display: none;">\n                <div class="no-results">\n                  <i class="fas fa-search fa-3x mb-3 text-muted"></i>\n                  <p>No results found</p>\n                </div>\n              </div>\n            </div>\n\n            <div class="search-modal-footer">\n              <div class="search-hints">\n                <kbd>↵</kbd> to select\n                <kbd>ESC</kbd> to close\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ')}setupEventListeners(){const e=document.getElementById("searchInput"),t=document.getElementById("searchModal");e&&(e.addEventListener("input",e=>{const t=e.target.value.trim();this.performSearch(t)}),e.addEventListener("keydown",e=>{if("Enter"===e.key){const e=document.querySelector(".search-result-item");e&&e.click()}})),t&&(t.addEventListener("shown.bs.modal",()=>{e.value="",e.focus(),this.showRecent()}),t.addEventListener("hidden.bs.modal",()=>{e.value="",this.hideResults()})),document.addEventListener("click",e=>{const a=e.target.closest(".quick-link-item");if(a&&(e.preventDefault(),a.dataset.page)){const e=bootstrap.Modal.getInstance(t);e&&e.hide(),window.location.href=a.href}}),document.addEventListener("click",e=>{const a=e.target.closest(".search-result-item");if(a&&(e.preventDefault(),a.dataset.page)){this.addToRecent(a.textContent.trim());const e=bootstrap.Modal.getInstance(t);e&&e.hide(),window.location.href=a.dataset.path}})}performSearch(e){const t=document.getElementById("resultsSection"),a=document.getElementById("recentSection"),r=document.getElementById("noResults");if(!e)return void this.showRecent();const n=this.pages.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())||t.category.toLowerCase().includes(e.toLowerCase()));if(a.style.display="none",n.length>0){r.style.display="none",t.style.display="block";const e=n.map(e=>`\n        <a href="${e.path}" class="search-result-item" data-page="${e.name}" data-path="${e.path}">\n          <i class="fas fa-${e.icon} me-3"></i>\n          <div class="result-info">\n            <div class="result-name">${e.name}</div>\n            <div class="result-category">${e.category}</div>\n          </div>\n        </a>\n      `).join("");document.getElementById("searchResults").innerHTML=e}else t.style.display="none",r.style.display="block"}showRecent(){const e=document.getElementById("recentSection"),t=document.getElementById("resultsSection"),a=document.getElementById("noResults");if(t.style.display="none",a.style.display="none",this.recentSearches.length>0){e.style.display="block";const t=this.recentSearches.map(e=>`\n        <div class="recent-item">\n          <i class="fas fa-clock me-2"></i>\n          <span>${e}</span>\n        </div>\n      `).join("");document.getElementById("recentSearches").innerHTML=t}else e.style.display="none"}hideResults(){document.getElementById("resultsSection").style.display="none",document.getElementById("noResults").style.display="none",document.getElementById("recentSection").style.display="none"}show(){this.modalInstance||(this.modalInstance=new bootstrap.Modal(document.getElementById("searchModal"),{backdrop:!0,keyboard:!0}));const e=document.getElementById("searchInput");e&&(e.value=""),this.modalInstance.show(),setTimeout(()=>{e&&e.focus()},300)}};new class{constructor(){this.sidebar=null,this.isCollapsed=!1,this.init()}init(){this.sidebar=document.querySelector(".sidebar-container"),this.setupEventListeners(),this.restoreSidebarState()}restoreSidebarState(){const e=localStorage.getItem("sidebarCollapsed");null!==e?(this.isCollapsed="true"===e,this.sidebar&&(this.isCollapsed?(this.sidebar.classList.add("collapsed"),document.body.classList.add("sidebar-collapsed")):(this.sidebar.classList.remove("collapsed"),document.body.classList.remove("sidebar-collapsed")))):this.checkInitialState()}checkInitialState(){this.sidebar&&(this.isCollapsed=this.sidebar.classList.contains("collapsed"))}saveSidebarState(){localStorage.setItem("sidebarCollapsed",this.isCollapsed.toString())}setupEventListeners(){document.addEventListener("click",e=>{e.target.closest(".menu-toggle")&&setTimeout(()=>{this.isCollapsed=this.sidebar.classList.contains("collapsed"),this.saveSidebarState()},100)}),document.addEventListener("click",e=>{e.target.closest(".sidebar-menu a:not(.submenu-toggle)")&&this.isCollapsed&&window.innerWidth>=1024&&(this.sidebar.classList.remove("collapsed"),document.body.classList.remove("sidebar-collapsed"),this.isCollapsed=!1)}),document.addEventListener("click",e=>{const t=e.target.closest(".submenu-toggle");t&&this.isCollapsed&&window.innerWidth>=1024&&(e.preventDefault(),this.sidebar.classList.remove("collapsed"),document.body.classList.remove("sidebar-collapsed"),this.isCollapsed=!1,setTimeout(()=>{const e=t.parentElement,a=e.querySelector(".submenu");e.classList.contains("open")?(e.classList.remove("open"),a.classList.remove("show")):(document.querySelectorAll(".sidebar-menu .has-submenu").forEach(t=>{t!==e&&(t.classList.remove("open"),t.querySelector(".submenu")?.classList.remove("show"))}),e.classList.add("open"),a.classList.add("show"))},300))})}};const k=new class{constructor(){this.notifications=this.loadNotifications(),this.init()}init(){this.createModal()}loadNotifications(){return[{id:1,type:"success",icon:"check-circle",title:"Task Completed",message:"Your report has been successfully generated and is ready for download.",time:"5 minutes ago",read:!1},{id:2,type:"info",icon:"info-circle",title:"System Update",message:"A new system update is available. Please update to get the latest features.",time:"1 hour ago",read:!1},{id:3,type:"warning",icon:"exclamation-triangle",title:"Storage Warning",message:"Your storage is almost full. Consider upgrading your plan or removing old files.",time:"2 hours ago",read:!0},{id:4,type:"primary",icon:"user-plus",title:"New Team Member",message:"John Doe has joined your team. Welcome them aboard!",time:"3 hours ago",read:!0},{id:5,type:"danger",icon:"exclamation-circle",title:"Security Alert",message:"Unusual login activity detected from a new device. Please verify if this was you.",time:"1 day ago",read:!0}]}createModal(){const e=`\n      <div class="modal fade" id="notificationModal" tabindex="-1" aria-hidden="true">\n        <div class="modal-dialog modal-dialog-scrollable">\n          <div class="modal-content">\n            <div class="modal-header">\n              <h5 class="modal-title">\n                <i class="fas fa-bell me-2"></i>Notifications\n                <span class="badge bg-danger ms-2" id="notifCount">${this.getUnreadCount()}</span>\n              </h5>\n              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>\n            </div>\n            <div class="modal-body p-0">\n              <div class="notification-list" id="notificationList">\n                ${this.renderNotifications()}\n              </div>\n            </div>\n            <div class="modal-footer">\n              <button type="button" class="btn btn-sm btn-outline-secondary" onclick="notificationModal.markAllRead()">\n                <i class="fas fa-check-double me-1"></i>Mark All Read\n              </button>\n              <button type="button" class="btn btn-sm btn-outline-danger" onclick="notificationModal.clearAll()">\n                <i class="fas fa-trash me-1"></i>Clear All\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    `;document.getElementById("notificationModal")||document.body.insertAdjacentHTML("beforeend",e)}renderNotifications(){return 0===this.notifications.length?'\n        <div class="text-center py-5">\n          <i class="fas fa-inbox fa-3x text-muted mb-3"></i>\n          <p class="text-muted">No notifications</p>\n        </div>\n      ':this.notifications.map(e=>`\n      <div class="notification-item ${e.read?"read":"unread"}" data-id="${e.id}">\n        <div class="notif-icon bg-${e.type}">\n          <i class="fas fa-${e.icon}"></i>\n        </div>\n        <div class="notif-content">\n          <h6 class="notif-title">${e.title}</h6>\n          <p class="notif-message">${e.message}</p>\n          <small class="notif-time">\n            <i class="fas fa-clock me-1"></i>${e.time}\n          </small>\n        </div>\n        <div class="notif-actions">\n          <button class="btn btn-sm btn-link" onclick="notificationModal.markRead(${e.id})" title="Mark as read">\n            <i class="fas fa-check"></i>\n          </button>\n          <button class="btn btn-sm btn-link text-danger" onclick="notificationModal.remove(${e.id})" title="Delete">\n            <i class="fas fa-times"></i>\n          </button>\n        </div>\n      </div>\n    `).join("")}show(){document.getElementById("notificationModal")?this.refresh():this.createModal(),this.modalInstance||(this.modalInstance=new bootstrap.Modal(document.getElementById("notificationModal"),{backdrop:!0,keyboard:!0})),this.modalInstance.show()}refresh(){const e=document.getElementById("notificationList"),t=document.getElementById("notifCount");e&&(e.innerHTML=this.renderNotifications()),t&&(t.textContent=this.getUnreadCount())}getUnreadCount(){return this.notifications.filter(e=>!e.read).length}markRead(e){const t=this.notifications.find(t=>t.id===e);t&&(t.read=!0,this.refresh())}markAllRead(){this.notifications.forEach(e=>e.read=!0),this.refresh()}remove(e){this.notifications=this.notifications.filter(t=>t.id!==e),this.refresh()}clearAll(){confirm("Are you sure you want to clear all notifications?")&&(this.notifications=[],this.refresh())}refresh(){const e=document.getElementById("notificationList"),t=document.getElementById("notifCount");if(e&&(e.innerHTML=this.renderNotifications()),t){const e=this.getUnreadCount();t.textContent=e,t.style.display=e>0?"inline-block":"none"}const a=document.querySelector(".topbar-icon .notification-badge");if(a){const e=this.getUnreadCount();a.textContent=e,a.style.display=e>0?"flex":"none"}}};"undefined"!=typeof window&&(window.notificationModal=k);const E=new class{constructor(){this.modal=null,this.resolveCallback=null,this.init()}init(){this.createModal()}createModal(){const e=document.getElementById("confirmModal");e&&e.remove(),document.body.insertAdjacentHTML("beforeend",'\n      <div class="modal fade" id="confirmModal" tabindex="-1">\n        <div class="modal-dialog modal-dialog-centered">\n          <div class="modal-content confirm-modal-content">\n            <div class="modal-body text-center p-4">\n              <div class="confirm-icon mb-3" id="confirmIcon">\n                <i class="fas fa-question-circle fa-4x"></i>\n              </div>\n              <h4 class="confirm-title mb-2" id="confirmTitle">Confirm Action</h4>\n              <p class="confirm-message text-muted" id="confirmMessage">\n                Are you sure you want to proceed?\n              </p>\n            </div>\n            <div class="modal-footer justify-content-center border-0 pt-0 pb-4">\n              <button type="button" class="btn btn-secondary px-4" data-bs-dismiss="modal" id="confirmCancel">\n                Cancel\n              </button>\n              <button type="button" class="btn btn-primary px-4" id="confirmOk">\n                Confirm\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    '),this.modal=document.getElementById("confirmModal"),this.setupEventListeners()}setupEventListeners(){const e=document.getElementById("confirmOk"),t=document.getElementById("confirmCancel");e.addEventListener("click",()=>{this.resolveCallback&&this.resolveCallback(!0),bootstrap.Modal.getInstance(this.modal).hide()}),t.addEventListener("click",()=>{this.resolveCallback&&this.resolveCallback(!1)}),this.modal.addEventListener("hidden.bs.modal",()=>{this.resolveCallback&&(this.resolveCallback(!1),this.resolveCallback=null)})}show(e={}){const{type:t="confirm",title:a="Confirm Action",message:r="Are you sure?",okText:n="Confirm",cancelText:i="Cancel",okClass:o="btn-primary"}=e;return new Promise(e=>{this.resolveCallback=e;const s=document.getElementById("confirmIcon"),d=document.getElementById("confirmOk"),l=document.getElementById("confirmCancel");let c="",m="";switch(t){case"success":c='<i class="fas fa-check-circle fa-4x"></i>',m="text-success",d.className="btn btn-success px-4",l.style.display="none";break;case"error":c='<i class="fas fa-times-circle fa-4x"></i>',m="text-danger",d.className="btn btn-danger px-4",d.textContent="OK",l.style.display="none";break;case"warning":c='<i class="fas fa-exclamation-triangle fa-4x"></i>',m="text-warning",d.className="btn btn-warning px-4",l.style.display="inline-block";break;case"delete":c='<i class="fas fa-trash-alt fa-4x"></i>',m="text-danger",d.className="btn btn-danger px-4",d.textContent="Delete",l.style.display="inline-block";break;case"info":c='<i class="fas fa-info-circle fa-4x"></i>',m="text-info",d.className="btn btn-info px-4",l.style.display="none";break;default:c='<i class="fas fa-question-circle fa-4x"></i>',m="text-primary",d.className=`btn ${o} px-4`,l.style.display="inline-block"}s.innerHTML=c,s.className=`confirm-icon mb-3 ${m}`,document.getElementById("confirmTitle").textContent=a,document.getElementById("confirmMessage").textContent=r,d.textContent=n,l.textContent=i,new bootstrap.Modal(this.modal).show()})}async success(e,t="Operation completed successfully!"){return await this.show({type:"success",title:e,message:t,okText:"OK"})}async error(e,t="An error occurred."){return await this.show({type:"error",title:e,message:t,okText:"OK"})}async warning(e,t="Please confirm this action."){return await this.show({type:"warning",title:e,message:t,okText:"Proceed",cancelText:"Cancel"})}async delete(e="Delete Confirmation",t="This action cannot be undone."){return await this.show({type:"delete",title:e,message:t,okText:"Delete",cancelText:"Cancel"})}async confirm(e,t){return await this.show({type:"confirm",title:e,message:t,okText:"Confirm",cancelText:"Cancel"})}async info(e,t){return await this.show({type:"info",title:e,message:t,okText:"OK"})}},I=Object.freeze(Object.defineProperty({__proto__:null,confirmModal:E},Symbol.toStringTag,{value:"Module"})),C=document.createElement("style");C.textContent="\n    .loading-spinner-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.7);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        z-index: 9999;\n    }\n\n    .loading-spinner-container {\n        text-align: center;\n    }\n",document.head.appendChild(C);const S=new class{constructor(){this.spinner=null}show(e="Loading...",t="body"){this.hide();const a=`\n            <div class="loading-spinner-overlay" id="loadingSpinner">\n                <div class="loading-spinner-container">\n                    <div class="spinner-border text-danger" role="status" style="width: 3rem; height: 3rem;">\n                        <span class="visually-hidden">Loading...</span>\n                    </div>\n                    <p class="mt-3 mb-0 text-white">${e}</p>\n                </div>\n            </div>\n        `,r=document.querySelector(t);r&&(r.insertAdjacentHTML("beforeend",a),this.spinner=document.getElementById("loadingSpinner"))}hide(){if(this.spinner)this.spinner.remove(),this.spinner=null;else{const e=document.getElementById("loadingSpinner");e&&e.remove()}}showInline(e,t="sm"){const a=document.querySelector(e);if(!a)return;const r=`\n            <span class="spinner-border ${"sm"===t?"spinner-border-sm":""} text-danger inline-spinner" role="status">\n                <span class="visually-hidden">Loading...</span>\n            </span>\n        `;a.insertAdjacentHTML("beforeend",r)}hideInline(e){const t=document.querySelector(e);if(!t)return;const a=t.querySelector(".inline-spinner");a&&a.remove()}};"undefined"!=typeof window&&(window.loadingSpinner=S);const T=new class{show(e,t={}){const a={icon:"fa-inbox",title:"No Data Available",message:"There are no items to display",action:null,...t},r=`\n            <div class="empty-state text-center py-5">\n                <div class="empty-state-icon mb-3">\n                    <i class="fas ${a.icon} fa-4x text-muted opacity-50"></i>\n                </div>\n                <h4 class="empty-state-title">${a.title}</h4>\n                <p class="empty-state-message text-muted">${a.message}</p>\n                ${a.action?`\n                    <button class="btn btn-primary mt-3" id="emptyStateAction">\n                        <i class="fas fa-plus me-2"></i>${a.action.text}\n                    </button>\n                `:""}\n            </div>\n        `,n=document.querySelector(e);if(n&&(n.innerHTML=r,a.action)){const e=document.getElementById("emptyStateAction");e&&e.addEventListener("click",a.action.onclick)}}hide(e){const t=document.querySelector(e);if(t){const e=t.querySelector(".empty-state");e&&e.remove()}}};"undefined"!=typeof window&&(window.emptyState=T),function(){function e(){document.querySelectorAll('.password-toggle-btn, [data-toggle="password"], .toggle-password').forEach(e=>{e.removeAttribute("onclick"),e.addEventListener("click",function(e){e.preventDefault(),window.togglePasswordVisibility(this)})})}if(window.togglePasswordVisibility=function(e){const t=e.closest(".input-group"),a=t?t.querySelector('input[type="password"], input[type="text"]'):e.previousElementSibling;if(!a)return;const r=e.querySelector("i")||e.querySelector(".fa-eye, .fa-eye-slash");"password"===a.type?(a.type="text",r&&(r.classList.remove("fa-eye"),r.classList.add("fa-eye-slash"))):(a.type="password",r&&(r.classList.remove("fa-eye-slash"),r.classList.add("fa-eye")))},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e(),"undefined"!=typeof MutationObserver){const t=new MutationObserver(function(t){t.forEach(function(t){t.addedNodes.length>0&&e()})});"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){t.observe(document.body,{childList:!0,subtree:!0})}):t.observe(document.body,{childList:!0,subtree:!0})}}();const L=new class{constructor(){this.chartInstances={},this.currentPeriod="week"}initialize(){this.generateStatsCards(),this.generateActivityTimeline(),this.generateRecentOrders(),this.generateTopProducts(),this.generatePerformanceMetrics(),"undefined"!=typeof Chart&&this.initializeCharts(),this.setupEventListeners()}setupEventListeners(){const e=document.getElementById("btnRefreshDashboard");e&&e.addEventListener("click",()=>{this.refreshDashboard()});const t=document.getElementById("btnExportReport");t&&t.addEventListener("click",()=>{this.exportReport()});const a=document.querySelectorAll("[data-period]");a.forEach(e=>{e.addEventListener("click",e=>{a.forEach(e=>e.classList.remove("active")),e.target.classList.add("active"),this.currentPeriod=e.target.dataset.period,this.updateSalesChart()})})}generateStatsCards(){const e=document.getElementById("statsCardsContainer");if(!e)return;const t=[{title:"Total Revenue",value:"$54,239",change:"+12.5%",trend:"up",icon:"dollar-sign",color:"primary"},{title:"Total Orders",value:"1,847",change:"+8.2%",trend:"up",icon:"shopping-cart",color:"success"},{title:"New Customers",value:"423",change:"-3.1%",trend:"down",icon:"users",color:"warning"},{title:"Conversion Rate",value:"3.24%",change:"+0.8%",trend:"up",icon:"chart-line",color:"info"}].map(e=>`\n            <div class="col-lg-3 col-md-6 mb-4">\n                <div class="card stat-card h-100">\n                    <div class="card-body">\n                        <div class="d-flex justify-content-between align-items-center mb-3">\n                            <div class="stat-icon bg-${e.color}">\n                                <i class="fas fa-${e.icon}"></i>\n                            </div>\n                            <span class="stat-change ${"up"===e.trend?"text-success":"text-danger"}">\n                                <i class="fas fa-arrow-${e.trend}"></i> ${e.change}\n                            </span>\n                        </div>\n                        <h6 class="text-muted mb-2">${e.title}</h6>\n                        <h3 class="mb-0">${e.value}</h3>\n                    </div>\n                </div>\n            </div>\n        `).join("");e.innerHTML=t}generateActivityTimeline(){const e=document.getElementById("activityTimeline"),t=document.getElementById("activityCount");if(!e)return;const a=[{icon:"box",color:"success",title:"New Asset Added",detail:"Laptop Dell XPS 15 has been registered",time:"2 mins ago"},{icon:"user-check",color:"primary",title:"Asset Checked Out",detail:"John Doe checked out Projector Epson",time:"15 mins ago"},{icon:"tools",color:"warning",title:"Maintenance Scheduled",detail:"AC Unit #5 maintenance tomorrow",time:"30 mins ago"},{icon:"exchange-alt",color:"info",title:"Asset Transferred",detail:"Monitor moved from IT to Marketing",time:"1 hour ago"},{icon:"check-circle",color:"success",title:"Asset Returned",detail:"Camera Canon returned by Jane Smith",time:"2 hours ago"},{icon:"exclamation-triangle",color:"danger",title:"Low Stock Alert",detail:"Only 3 USB cables remaining",time:"3 hours ago"}];t&&(t.textContent=a.length);let r="";a.forEach((e,t)=>{r+=`\n                <div class="timeline-item ${t===a.length-1?"last":""}">\n                    <div class="timeline-dot bg-${e.color}">\n                        <i class="fas fa-${e.icon}"></i>\n                    </div>\n                    <div class="timeline-card">\n                        <div class="timeline-header">\n                            <strong class="timeline-title">${e.title}</strong>\n                            <small class="timeline-time">${e.time}</small>\n                        </div>\n                        <p class="timeline-detail mb-0">${e.detail}</p>\n                    </div>\n                </div>\n            `}),e.innerHTML=r}generateRecentOrders(){const e=document.getElementById("recentOrdersBody"),t=document.getElementById("ordersCount");if(!e)return;const a=[{id:"#1847",customer:"John Doe",product:"Laptop Pro X1",amount:"$1,299",status:"Delivered",date:"2024-12-10"},{id:"#1846",customer:"Jane Smith",product:"Wireless Mouse",amount:"$29",status:"Processing",date:"2024-12-10"},{id:"#1845",customer:"Bob Johnson",product:"USB-C Cable",amount:"$15",status:"Shipped",date:"2024-12-09"},{id:"#1844",customer:"Alice Brown",product:'Monitor 27"',amount:"$399",status:"Delivered",date:"2024-12-09"},{id:"#1843",customer:"Charlie Wilson",product:"Keyboard RGB",amount:"$89",status:"Cancelled",date:"2024-12-08"}];t&&(t.textContent=a.length);const r={Delivered:"success",Processing:"warning",Shipped:"info",Cancelled:"danger"},n=a.map(e=>`\n            <tr>\n                <td><strong>${e.id}</strong></td>\n                <td>${e.customer}</td>\n                <td>${e.product}</td>\n                <td><strong>${e.amount}</strong></td>\n                <td><span class="badge bg-${r[e.status]}">${e.status}</span></td>\n                <td>${e.date}</td>\n                <td>\n                    <button class="btn btn-sm btn-outline-primary" title="View">\n                        <i class="fas fa-eye"></i>\n                    </button>\n                    <button class="btn btn-sm btn-outline-secondary" title="Edit">\n                        <i class="fas fa-edit"></i>\n                    </button>\n                </td>\n            </tr>\n        `).join("");e.innerHTML=n}generateTopProducts(){const e=document.getElementById("topProductsList");if(!e)return;const t=[{name:"Laptop Pro X1",sales:145,revenue:"$188,355",trend:"up"},{name:"Wireless Mouse",sales:432,revenue:"$12,528",trend:"up"},{name:'Monitor 27"',sales:89,revenue:"$35,511",trend:"down"},{name:"USB-C Cable",sales:567,revenue:"$8,505",trend:"up"},{name:"Keyboard RGB",sales:234,revenue:"$20,826",trend:"up"}].map((e,t)=>`\n            <div class="product-item d-flex justify-content-between align-items-center mb-3 pb-3 border-bottom">\n                <div class="d-flex align-items-center">\n                    <div class="product-rank me-3">\n                        <span class="badge ${0===t?"bg-warning":"bg-secondary"}">#${t+1}</span>\n                    </div>\n                    <div>\n                        <h6 class="mb-0">${e.name}</h6>\n                        <small class="text-muted">${e.sales} sales</small>\n                    </div>\n                </div>\n                <div class="text-end">\n                    <strong class="d-block">${e.revenue}</strong>\n                    <small class="${"up"===e.trend?"text-success":"text-danger"}">\n                        <i class="fas fa-arrow-${e.trend}"></i>\n                    </small>\n                </div>\n            </div>\n        `).join("");e.innerHTML=t}generatePerformanceMetrics(){const e=document.getElementById("performanceMetrics");if(!e)return;const t=[{label:"Customer Satisfaction",value:94,color:"success"},{label:"Order Fulfillment",value:87,color:"info"},{label:"Product Quality",value:92,color:"primary"},{label:"Delivery Speed",value:78,color:"warning"}].map(e=>`\n            <div class="metric-item mb-4">\n                <div class="d-flex justify-content-between align-items-center mb-2">\n                    <span>${e.label}</span>\n                    <strong>${e.value}%</strong>\n                </div>\n                <div class="progress" style="height: 8px;">\n                    <div class="progress-bar bg-${e.color}" role="progressbar" \n                         style="width: ${e.value}%" \n                         aria-valuenow="${e.value}" \n                         aria-valuemin="0" \n                         aria-valuemax="100">\n                    </div>\n                </div>\n            </div>\n        `).join("");e.innerHTML=t}initializeCharts(){this.initSalesChart(),this.initRevenueChart(),this.initTrafficChart()}initSalesChart(){const e=document.getElementById("salesChart");if(!e)return;const t=e.getContext("2d");this.chartInstances.sales=new Chart(t,{type:"line",data:{labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"Sales",data:[12,19,15,25,22,30,28],borderColor:"rgb(220, 38, 38)",backgroundColor:"rgba(220, 38, 38, 0.1)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{display:!0,color:"rgba(0,0,0,0.05)"}},x:{grid:{display:!1}}}}})}initRevenueChart(){const e=document.getElementById("revenueChart");if(!e)return;const t=e.getContext("2d");this.chartInstances.revenue=new Chart(t,{type:"doughnut",data:{labels:["Products","Services","Subscriptions","Others"],datasets:[{data:[45,25,20,10],backgroundColor:["rgb(220, 38, 38)","rgb(59, 130, 246)","rgb(16, 185, 129)","rgb(245, 158, 11)"]}]},options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"bottom"}}}})}initTrafficChart(){const e=document.getElementById("trafficChart");if(!e)return;const t=e.getContext("2d");this.chartInstances.traffic=new Chart(t,{type:"bar",data:{labels:["Direct","Organic","Social","Email","Referral"],datasets:[{label:"Visitors",data:[1200,1900,800,600,400],backgroundColor:"rgb(220, 38, 38)"}]},options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}}})}updateSalesChart(){if(!this.chartInstances.sales)return;const e={week:{labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],values:[12,19,15,25,22,30,28]},month:{labels:["Week 1","Week 2","Week 3","Week 4"],values:[85,110,95,125]},year:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],values:[450,520,490,580,610,650,700,680,720,750,800,850]}}[this.currentPeriod];this.chartInstances.sales.data.labels=e.labels,this.chartInstances.sales.data.datasets[0].data=e.values,this.chartInstances.sales.update()}refreshDashboard(){const e=document.getElementById("btnRefreshDashboard");if(e){const t=e.innerHTML;e.innerHTML='<i class="fas fa-spinner fa-spin me-2"></i>Refreshing...',e.disabled=!0,setTimeout(()=>{this.generateStatsCards(),this.generateActivityTimeline(),this.generateRecentOrders(),this.generateTopProducts(),this.generatePerformanceMetrics(),e.innerHTML=t,e.disabled=!1,this.showNotification("success","Dashboard refreshed successfully!")},1e3)}}exportReport(){const e=document.getElementById("btnExportReport");if(e){const t=e.innerHTML;e.innerHTML='<i class="fas fa-spinner fa-spin me-2"></i>Exporting...',e.disabled=!0,setTimeout(()=>{e.innerHTML=t,e.disabled=!1,this.showNotification("success","Report exported successfully!");const a=document.createElement("a");a.href="#",a.download="dashboard-report.pdf",a.click()},1500)}}showNotification(e,t){window.showNotification&&window.showNotification(e,t)}},A={BASE_URL:"",TIMEOUT:3e4,DEBUG:!0,ENDPOINTS:{LOGIN:"/api/auth/login",LOGOUT:"/api/auth/logout",ME:"/api/auth/me",CHANGE_PASSWORD:"/api/auth/change-password",FORGOT_PASSWORD:"/api/auth/forgot-password",RESET_PASSWORD:"/api/auth/reset-password",EMPLOYEES:"/api/employee",EMPLOYEES_GRID:"/api/employee/grid",EMPLOYEES_ACTIVE:"/api/employee/active",ASSETS:"/api/asset",ASSETS_GRID:"/api/asset/grid",CATEGORIES:"/api/category",CATEGORIES_ACTIVE:"/api/category/active",TRANSACTIONS:"/api/assettransactions",TRANSACTIONS_BY_ASSET:"/api/assettransactions/asset",HEALTH:"/health"}};"undefined"!=typeof window&&(window.API_CONFIG=A);const z=new class{constructor(){this.baseURL=this.detectBaseURL(),this.token=localStorage.getItem("authToken"),this.debug=A.DEBUG,this.debug}detectBaseURL(){return A.BASE_URL?A.BASE_URL:""}buildURL(e){const t=e.startsWith("/")?e:`/${e}`;return this.baseURL?`${this.baseURL}${t}`:t}setToken(e){this.token=e,e?localStorage.setItem("authToken",e):localStorage.removeItem("authToken")}getHeaders(e=!0){const t={"Content-Type":"application/json",Accept:"application/json"};return e&&this.token&&(t.Authorization=`Bearer ${this.token}`),t}async request(e,t={}){const a=this.buildURL(e);this.debug;const r={method:t.method||"GET",headers:this.getHeaders(!1!==t.auth),credentials:"include",...t};t.body&&"object"==typeof t.body&&(r.body=JSON.stringify(t.body));try{const e=await fetch(a,r),t=e.headers.get("content-type");let n;if(t&&t.includes("application/json")?n=await e.json():(n=await e.text(),this.debug),!e.ok){const t=n?.message||n?.error||`API request failed with status ${e.status}`;throw this.debug,new Error(t)}return this.debug,n}catch(n){throw this.debug,new Error(`API request failed: ${n.message}`)}}async login(e,t){const a=await this.request("/api/auth/login",{method:"POST",auth:!1,body:{email:e,password:t}});if(a.isSuccess&&a.data)return this.setToken(a.data.token),this.debug,a.data;throw new Error(a.message||"Login failed")}async getMe(){return(await this.request("/api/auth/me")).data}async changePassword(e,t){return await this.request("/api/auth/change-password",{method:"POST",body:{currentPassword:e,newPassword:t}})}async forgotPassword(e){return await this.request("/api/auth/forgot-password",{method:"POST",auth:!1,body:{email:e}})}async resetPassword(e,t,a){return await this.request("/api/auth/reset-password",{method:"POST",auth:!1,body:{email:e,token:t,newPassword:a}})}async getAssetsGrid(e={}){const t=new URLSearchParams(e).toString();return(await this.request(`/api/asset/grid?${t}`)).data}async getAssets(){return(await this.request("/api/asset")).data}async getAsset(e){return(await this.request(`/api/asset/${e}`)).data}async createAsset(e){return await this.request("/api/asset",{method:"POST",body:e})}async updateAsset(e,t){return await this.request(`/api/asset/${e}`,{method:"PUT",body:t})}async deleteAsset(e){return await this.request(`/api/asset/${e}`,{method:"DELETE"})}async getEmployeesGrid(e={}){const t=new URLSearchParams(e).toString();return(await this.request(`/api/employee/grid?${t}`)).data}async getEmployees(){return(await this.request("/api/employee")).data}async getActiveEmployees(){return(await this.request("/api/employee/active")).data}async getEmployee(e){return(await this.request(`/api/employee/${e}`)).data}async createEmployee(e){return await this.request("/api/employee",{method:"POST",body:e})}async updateEmployee(e,t){return await this.request(`/api/employee/${e}`,{method:"PUT",body:t})}async deleteEmployee(e){return await this.request(`/api/employee/${e}`,{method:"DELETE"})}async getCategories(){return(await this.request("/api/category")).data}async getActiveCategories(){return(await this.request("/api/category/active")).data}async getCategory(e){return(await this.request(`/api/category/${e}`)).data}async createCategory(e){return await this.request("/api/category",{method:"POST",body:e})}async updateCategory(e,t){return await this.request(`/api/category/${e}`,{method:"PUT",body:t})}async deleteCategory(e){return await this.request(`/api/category/${e}`,{method:"DELETE"})}async getTransactions(){return(await this.request("/api/assettransactions")).data}async getTransactionsByAsset(e){return(await this.request(`/api/assettransactions/asset/${e}`)).data}async getTransaction(e){return(await this.request(`/api/assettransactions/${e}`)).data}async createTransaction(e){return await this.request("/api/assettransactions",{method:"POST",body:e})}async updateTransaction(e,t){return await this.request(`/api/assettransactions/${e}`,{method:"PUT",body:t})}async deleteTransaction(e){return await this.request(`/api/assettransactions/${e}`,{method:"DELETE"})}async checkHealth(){return await this.request("/health",{auth:!1})}async testConnection(){try{return await this.checkHealth(),!0}catch(e){return!1}}logout(){this.setToken(null),this.debug}getCurrentBaseURL(){return this.baseURL}};"undefined"!=typeof window&&(window.whitebirdAPI=z,window.debugAPI={test:()=>z.testConnection(),getBaseURL:()=>z.getCurrentBaseURL(),getToken:()=>z.token,clearToken:()=>z.setToken(null),checkEnv:()=>({mode:"production",prod:!0,dev:!1,viteApiUrl:""})});const B=new class{constructor(){this.employees=[],this.apiEndpoint="/api/employee",this.useAPI=!0,this.initialize()}initialize(){this.employees=this.loadSampleData()}loadSampleData(){return[{id:"EMP001",firstName:"John",lastName:"Doe",email:"john.doe@company.com",phone:"+1234567890",department:"IT",position:"Senior Developer",hireDate:"2020-01-15",salary:85e3,status:"Active",address:"123 Main St, City, State",photo:null},{id:"EMP002",firstName:"Jane",lastName:"Smith",email:"jane.smith@company.com",phone:"+1234567891",department:"HR",position:"HR Manager",hireDate:"2019-03-20",salary:75e3,status:"Active",address:"456 Oak Ave, City, State",photo:null},{id:"EMP003",firstName:"Mike",lastName:"Johnson",email:"mike.j@company.com",phone:"+1234567892",department:"Sales",position:"Sales Executive",hireDate:"2021-06-10",salary:65e3,status:"Active",address:"789 Pine Rd, City, State",photo:null},{id:"EMP004",firstName:"Sarah",lastName:"Williams",email:"sarah.w@company.com",phone:"+1234567893",department:"Marketing",position:"Marketing Specialist",hireDate:"2021-08-15",salary:6e4,status:"Active",address:"321 Elm St, City, State",photo:null},{id:"EMP005",firstName:"David",lastName:"Brown",email:"david.b@company.com",phone:"+1234567894",department:"Finance",position:"Financial Analyst",hireDate:"2020-11-01",salary:7e4,status:"Active",address:"654 Maple Ave, City, State",photo:null}]}async create(e){try{let t;if(this.validate(e),this.useAPI){const a=await z.createEmployee(e);if(!(a&&a.success&&a.data))throw new Error("API returned no data");t=a.data,this.employees.push(t)}else await this.mockApiCall(),t={id:this.generateId(),...e,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},this.employees.push(t);return await E.success("Success!","Employee added successfully!"),t}catch(t){throw await E.error("Error!",t.message||"Failed to add employee"),t}}getAll(){return[...this.employees]}setEmployees(e){Array.isArray(e)&&(this.employees=e)}getById(e){return this.employees.find(t=>t.id===e)||null}filter(e){let t=[...this.employees];if(e.search){const a=e.search.toLowerCase();t=t.filter(e=>e.firstName.toLowerCase().includes(a)||e.lastName.toLowerCase().includes(a)||e.email.toLowerCase().includes(a)||e.id.toLowerCase().includes(a)||e.department.toLowerCase().includes(a)||e.position.toLowerCase().includes(a))}return e.department&&(t=t.filter(t=>t.department===e.department)),e.status&&(t=t.filter(t=>t.status===e.status)),t}async update(e,t){try{const a=this.employees.findIndex(t=>t.id===e);if(-1===a)throw new Error("Employee not found");let r;if(this.validate(t),this.useAPI){const n=await z.updateEmployee(e,t);if(!(n&&n.success&&n.data))throw new Error("API returned no data");r=n.data,this.employees[a]=r}else await this.mockApiCall(),r={...this.employees[a],...t,updatedAt:(new Date).toISOString()},this.employees[a]=r;return await E.success("Success!","Employee updated successfully!"),r}catch(a){throw await E.error("Error!",a.message||"Failed to update employee"),a}}async delete(e){try{const t=this.getById(e);if(!t)throw new Error("Employee not found");if(!(await E.delete("Delete Employee",`Are you sure you want to delete ${t.firstName} ${t.lastName}? This action cannot be undone.`)))return!1;if(this.useAPI){const t=await z.deleteEmployee(e);if(!t||!t.success)throw new Error("API delete failed");this.employees=this.employees.filter(t=>t.id!==e)}else await this.mockApiCall(),this.employees=this.employees.filter(t=>t.id!==e);return await E.success("Deleted!","Employee deleted successfully!"),!0}catch(t){throw await E.error("Error!",t.message||"Failed to delete employee"),t}}async exportToCSV(e=null){try{const t=e||this.employees,a=this.generateCSV(t),r=new Blob([a],{type:"text/csv;charset=utf-8;"}),n=window.URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=`employees_export_${(new Date).toISOString().split("T")[0]}.csv`,i.click(),window.URL.revokeObjectURL(n),await E.success("Exported!",`${t.length} employee(s) exported successfully!`)}catch(t){throw await E.error("Error!","Failed to export employees"),t}}generateCSV(e){return[["ID","First Name","Last Name","Email","Phone","Department","Position","Hire Date","Salary","Status","Address"],...e.map(e=>[e.id,e.firstName,e.lastName,e.email,e.phone,e.department,e.position,e.hireDate,e.salary,e.status,e.address||""])].map(e=>e.map(e=>`"${e}"`).join(",")).join("\n")}validate(e){const t=["firstName","lastName","email","phone","department","position","hireDate","salary","status"];for(const a of t)if(!e[a])throw new Error(`${a} is required`);if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email))throw new Error("Invalid email format");if(e.salary&&(isNaN(e.salary)||e.salary<0))throw new Error("Salary must be a positive number");return!0}generateId(){const e=this.employees.reduce((e,t)=>{const a=parseInt(t.id.replace("EMP",""));return a>e?a:e},0);return`EMP${String(e+1).padStart(3,"0")}`}async mockApiCall(){return new Promise(e=>setTimeout(e,300))}getCount(){return this.employees.length}getStatistics(){return{total:this.employees.length,active:this.employees.filter(e=>"Active"===e.status).length,inactive:this.employees.filter(e=>"Inactive"===e.status).length,byDepartment:this.employees.reduce((e,t)=>(e[t.department]=(e[t.department]||0)+1,e),{})}}},D=new class{constructor(){this.currentTab="approved",this.currentPage=1,this.pageSize=15,this.filteredData=[],this.loading=!1}async initialize(){this.setupEventListeners(),await this.loadEmployees(),this.loadAndRender()}async loadEmployees(){try{this.loading=!0;const e=await z.getEmployeesGrid({page:1,pageSize:1e3});e&&e.success&&e.data&&B.setEmployees(e.data)}catch(e){}finally{this.loading=!1}}setupEventListeners(){const e=document.getElementById("btnAddEmployee");e&&e.addEventListener("click",()=>this.redirectToAdd());const t=document.getElementById("btnRefreshEmployees");t&&t.addEventListener("click",async()=>{t.innerHTML='<i class="fas fa-sync-alt fa-spin me-2"></i>Refreshing...',t.disabled=!0;try{await this.loadEmployees(),this.renderCurrentTab(),window.showNotification&&window.showNotification("success","✅ Employees refreshed successfully from API")}catch(e){window.showNotification&&window.showNotification("danger","❌ Failed to refresh employees")}finally{t.innerHTML='<i class="fas fa-sync-alt me-2"></i>Refresh',t.disabled=!1}});const a=document.getElementById("btnExportExcel");a&&a.addEventListener("click",()=>this.handleExport());const r=document.getElementById("searchEmployee");if(r){let e;r.addEventListener("input",t=>{clearTimeout(e),e=setTimeout(()=>{this.applyFilters()},300)})}const n=document.getElementById("filterDepartment"),i=document.getElementById("filterSalary");n&&n.addEventListener("change",()=>this.applyFilters()),i&&i.addEventListener("change",()=>this.applyFilters());const o=document.getElementById("btnResetFilters");o&&o.addEventListener("click",()=>this.resetFilters());const s=document.getElementById("approved-tab"),d=document.getElementById("pending-tab");s&&s.addEventListener("shown.bs.tab",()=>{this.currentTab="approved",this.currentPage=1,this.renderCurrentTab()}),d&&d.addEventListener("shown.bs.tab",()=>{this.currentTab="pending",this.currentPage=1,this.renderCurrentTab()})}redirectToAdd(){window.router?window.router.navigate("employeescreate"):window.location.href="/employeescreate"}redirectToEdit(e){window.router?window.router.navigate("employeesupdate",{id:e}):(sessionStorage.setItem("crudId",e),window.location.href="/employeesupdate")}async handleDelete(e){const t=B.getById(e);t&&confirm(`Delete employee "${t.name}"?\n\nThis action cannot be undone.`)&&B.delete(e)&&this.loadAndRender()}loadAndRender(){this.applyFilters()}applyFilters(){const e=document.getElementById("searchEmployee")?.value.toLowerCase()||"",t=document.getElementById("filterDepartment")?.value||"",a=document.getElementById("filterSalary")?.value||"";let r=B.getAll();if(e&&(r=r.filter(t=>t.name.toLowerCase().includes(e)||t.email.toLowerCase().includes(e)||t.position.toLowerCase().includes(e))),t&&(r=r.filter(e=>e.department===t)),a)if("100000+"===a)r=r.filter(e=>e.salary>=1e5);else{const[e,t]=a.split("-").map(Number);r=r.filter(a=>a.salary>=e&&a.salary<t)}this.filteredData=r,this.currentPage=1,this.renderCurrentTab()}resetFilters(){document.getElementById("searchEmployee").value="",document.getElementById("filterDepartment").value="",document.getElementById("filterSalary").value="",this.applyFilters()}renderCurrentTab(){const e=this.filteredData.filter(e=>"Active"===e.status),t=this.filteredData.filter(e=>"Inactive"===e.status);document.getElementById("approvedCount").textContent=e.length,document.getElementById("pendingCount").textContent=t.length,"approved"===this.currentTab?this.renderTable("approvedTableBody","approvedEmpty",e):this.renderTable("pendingTableBody","pendingEmpty",t),this.updateCounts()}renderTable(e,t,a){const r=document.getElementById(e),n=document.getElementById(t);if(!r)return;if(0===a.length)return n?.classList.remove("d-none"),void r.parentElement.parentElement.classList.add("d-none");n?.classList.add("d-none"),r.parentElement.parentElement.classList.remove("d-none");const i=(this.currentPage-1)*this.pageSize,o=i+this.pageSize,s=a.slice(i,o),d=document.createDocumentFragment();s.forEach((e,t)=>{if(!e||!e.name||!e.email)return;const a=document.createElement("tr");a.innerHTML=`\n                <td>${i+t+1}</td>\n                <td>\n                    <div class="d-flex align-items-center">\n                        <div class="avatar avatar-sm me-2">\n                            <span class="avatar-text">${e.name.charAt(0).toUpperCase()}</span>\n                        </div>\n                        <strong>${e.name}</strong>\n                    </div>\n                </td>\n                <td>${e.email}</td>\n                <td>${e.position||"N/A"}</td>\n                <td><span class="badge bg-info">${e.department||"N/A"}</span></td>\n                <td>$${(e.salary||0).toLocaleString()}</td>\n                <td>${e.joinDate||"N/A"}</td>\n                <td class="text-center">\n                    <button class="btn btn-sm btn-primary me-1" onclick="window.employeesMenuInstance.redirectToEdit(${e.id})" title="Edit">\n                        <i class="fas fa-edit"></i>\n                    </button>\n                    <button class="btn btn-sm btn-danger" onclick="window.employeesMenuInstance.handleDelete(${e.id})" title="Delete">\n                        <i class="fas fa-trash"></i>\n                    </button>\n                </td>\n            `,d.appendChild(a)}),r.innerHTML="",r.appendChild(d),this.renderPagination(a.length)}renderPagination(e){const t=document.getElementById("pagination");if(!t)return;const a=Math.ceil(e/this.pageSize);if(a<=1)return void(t.innerHTML="");let r="";r+=`\n            <li class="page-item ${1===this.currentPage?"disabled":""}">\n                <a class="page-link" href="#" onclick="window.employeesMenuInstance.goToPage(${this.currentPage-1}); return false;">\n                    <i class="fas fa-chevron-left"></i>\n                </a>\n            </li>\n        `;let n=Math.max(1,this.currentPage-Math.floor(2.5)),i=Math.min(a,n+5-1);i-n<4&&(n=Math.max(1,i-5+1));for(let o=n;o<=i;o++)r+=`\n                <li class="page-item ${o===this.currentPage?"active":""}">\n                    <a class="page-link" href="#" onclick="window.employeesMenuInstance.goToPage(${o}); return false;">${o}</a>\n                </li>\n            `;r+=`\n            <li class="page-item ${this.currentPage===a?"disabled":""}">\n                <a class="page-link" href="#" onclick="window.employeesMenuInstance.goToPage(${this.currentPage+1}); return false;">\n                    <i class="fas fa-chevron-right"></i>\n                </a>\n            </li>\n        `,t.innerHTML=r}goToPage(e){const t=Math.ceil(("approved"===this.currentTab?this.filteredData.filter(e=>"Active"===e.status).length:this.filteredData.filter(e=>"Inactive"===e.status).length)/this.pageSize);e<1||e>t||(this.currentPage=e,this.renderCurrentTab())}updateCounts(){const e="approved"===this.currentTab?this.filteredData.filter(e=>"Active"===e.status):this.filteredData.filter(e=>"Inactive"===e.status),t=(this.currentPage-1)*this.pageSize+1,a=Math.min(this.currentPage*this.pageSize,e.length);document.getElementById("showingCount").textContent=e.length>0?`${t}-${a}`:"0",document.getElementById("totalCount").textContent=e.length}handleExport(){const e="approved"===this.currentTab?this.filteredData.filter(e=>"Active"===e.status):this.filteredData.filter(e=>"Inactive"===e.status);B.exportToCSV(e)}};"undefined"!=typeof window&&(window.employeesMenuInstance=D);const M=new class{constructor(){this.mode="create",this.employeeId=null,this.employee=null}async initialize(){try{this.mode=sessionStorage.getItem("crudMode")||"create",this.employeeId=sessionStorage.getItem("crudId"),this.setupEventListeners(),this.updatePageTitle(),"update"===this.mode&&this.employeeId&&await this.loadEmployee(parseInt(this.employeeId))}catch(e){}}setupEventListeners(){const e=document.getElementById("employeeForm");document.getElementById("btnSaveEmployee");const t=document.getElementById("btnCancelEmployee"),a=document.getElementById("btnBackToEmployees");e&&(e.addEventListener("submit",e=>{e.preventDefault(),this.handleSubmit()}),t&&t.addEventListener("click",()=>{this.handleCancel()}),a&&a.addEventListener("click",()=>{this.handleCancel()}))}updatePageTitle(){const e=document.getElementById("crudTitle"),t=document.getElementById("breadcrumbAction");"update"===this.mode?(e&&(e.innerHTML='<i class="fas fa-user me-2"></i>Edit Employee'),t&&(t.textContent="Edit")):(e&&(e.innerHTML='<i class="fas fa-user me-2"></i>Add New Employee'),t&&(t.textContent="Add New"))}async loadEmployee(e){try{const t=await z.getEmployee(e);if(!(t&&t.success&&t.data))throw new Error("Failed to load employee");this.employee=t.data,this.populateForm(this.employee)}catch(t){alert("Failed to load employee data. Please try again."),this.handleCancel()}}populateForm(e){document.getElementById("fullName").value=e.fullName||"",document.getElementById("email").value=e.email||"",document.getElementById("phoneNumber").value=e.phoneNumber||"",document.getElementById("department").value=e.department||"",document.getElementById("position").value=e.position||""}getFormData(){return{fullName:document.getElementById("fullName").value.trim(),email:document.getElementById("email").value.trim()||null,phoneNumber:document.getElementById("phoneNumber").value.trim()||null,department:document.getElementById("department").value.trim()||null,position:document.getElementById("position").value.trim()||null}}validateFormData(e){return e.fullName?!(e.email&&!this.isValidEmail(e.email)&&(alert("Please enter a valid email address"),1)):(alert("Full Name is required"),!1)}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}async handleSubmit(){const e=document.getElementById("btnSaveEmployee");try{const t=this.getFormData();if(!this.validateFormData(t))return;let a;if(e.innerHTML,e.disabled=!0,e.innerHTML='<i class="fas fa-spinner fa-spin me-2"></i>Saving...',a="update"===this.mode?await z.updateEmployee(this.employeeId,t):await z.createEmployee(t),!a||!a.success)throw new Error(a.message||"Failed to save employee");alert("update"===this.mode?"Employee updated successfully!":"Employee created successfully!"),window.router?window.router.navigate("employees"):window.location.href="/employees"}catch(t){alert("Failed to save employee. Please try again."),e.disabled=!1,e.innerHTML='<i class="fas fa-save me-2"></i>Save Employee'}}handleCancel(){window.router?window.router.navigate("employees"):window.location.href="/employees"}},P=new class{constructor(){this.assets=[],this.categories=[],this.filteredData=[],this.currentTab="available",this.currentPage=1,this.pageSize=10,this.loading=!1}async initialize(){this.setupEventListeners(),await this.loadFromAPI(),await this.loadCategories(),this.populateCategories(),this.loadAndRender()}async loadFromAPI(){try{this.loading=!0,this.showLoading(!0);const e=await z.getAssetsGrid({page:1,pageSize:1e3});e&&e.success&&e.data?(this.assets=e.data,this.filteredData=[...this.assets]):(this.assets=this.generateSampleAssets(),this.filteredData=[...this.assets])}catch(e){this.assets=this.generateSampleAssets(),this.filteredData=[...this.assets]}finally{this.loading=!1,this.showLoading(!1)}}async loadCategories(){try{const e=await z.getActiveCategories();e&&e.success&&e.data?this.categories=e.data.map(e=>e.name||e):this.categories=["Computer","Furniture","Vehicle","Equipment","Mobile Device"]}catch(e){this.categories=["Computer","Furniture","Vehicle","Equipment","Mobile Device"]}}generateSampleAssets(){const e={Computer:["Dell Laptop XPS 15",'MacBook Pro 16"',"HP Desktop Workstation","Lenovo ThinkPad"],Furniture:["Office Desk Oak","Ergonomic Chair","Meeting Table","Filing Cabinet"],Vehicle:["Toyota Camry 2023","Honda CR-V 2022","Ford Transit Van"],Equipment:["Projector Epson","Printer Canon","Scanner HP","Whiteboard"],"Mobile Device":["iPhone 15 Pro","Samsung Galaxy S24",'iPad Pro 12.9"']},t=["Available","In Use","Maintenance"],a=["John Doe","Jane Smith","Bob Johnson","Alice Williams"],r=["Screen broken","Battery replacement","Software update","Hardware check"];let n=[],i=1;return Object.keys(e).forEach(o=>{e[o].forEach(e=>{const s=t[Math.floor(Math.random()*t.length)],d={id:i++,name:e,code:`AST-${String(i).padStart(4,"0")}`,category:o,status:s,purchaseDate:this.randomDate(),value:Math.floor(5e3*Math.random())+500,assignedTo:"In Use"===s?a[Math.floor(Math.random()*a.length)]:null,assignedDate:"In Use"===s?this.randomDate():null,issue:"Maintenance"===s?r[Math.floor(Math.random()*r.length)]:null,maintenanceDate:"Maintenance"===s?this.randomDate():null};n.push(d)})}),n}showLoading(e){const t=document.getElementById("assetsLoading");t&&(t.style.display=e?"block":"none")}randomDate(){const e=new Date(2022,0,1),t=new Date;return new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime())).toISOString().split("T")[0]}populateCategories(){const e=document.getElementById("filterCategory");e&&this.categories.forEach(t=>{const a=document.createElement("option");a.value=t,a.textContent=t,e.appendChild(a)})}setupEventListeners(){const e=document.getElementById("btnAddAsset");e&&e.addEventListener("click",()=>this.handleAdd());const t=document.getElementById("btnRefreshAssets");t&&t.addEventListener("click",async()=>{t.innerHTML='<i class="fas fa-sync-alt fa-spin me-2"></i>Refreshing...',t.disabled=!0;try{await this.loadFromAPI(),await this.loadCategories(),this.loadAndRender(),window.showNotification&&window.showNotification("success","✅ Assets refreshed successfully from API")}catch(e){window.showNotification&&window.showNotification("danger","❌ Failed to refresh assets")}finally{t.innerHTML='<i class="fas fa-sync-alt me-2"></i>Refresh',t.disabled=!1}});const a=document.getElementById("searchAssets");if(a){let e;a.addEventListener("input",t=>{clearTimeout(e),e=setTimeout(()=>{this.applyFilters()},300)})}const r=document.getElementById("filterCategory"),n=document.getElementById("filterStatus");r&&r.addEventListener("change",()=>this.applyFilters()),n&&n.addEventListener("change",()=>this.applyFilters());const i=document.getElementById("btnResetFilters");i&&i.addEventListener("click",()=>this.resetFilters());const o=document.getElementById("availableTab"),s=document.getElementById("inuseTab"),d=document.getElementById("maintenanceTab");o&&o.addEventListener("shown.bs.tab",()=>{this.currentTab="available",this.currentPage=1,this.renderCurrentTab()}),s&&s.addEventListener("shown.bs.tab",()=>{this.currentTab="inuse",this.currentPage=1,this.renderCurrentTab()}),d&&d.addEventListener("shown.bs.tab",()=>{this.currentTab="maintenance",this.currentPage=1,this.renderCurrentTab()})}loadAndRender(){this.applyFilters()}applyFilters(){const e=document.getElementById("searchAssets")?.value.toLowerCase()||"",t=document.getElementById("filterCategory")?.value||"",a=document.getElementById("filterStatus")?.value||"";this.filteredData=this.assets.filter(r=>{let n=!0;return e&&(n=n&&(r.name.toLowerCase().includes(e)||r.code.toLowerCase().includes(e)||r.category.toLowerCase().includes(e))),t&&(n=n&&r.category===t),a&&(n=n&&r.status===a),n}),this.currentPage=1,this.updateStats(),this.renderCurrentTab()}resetFilters(){document.getElementById("searchAssets").value="",document.getElementById("filterCategory").value="",document.getElementById("filterStatus").value="",this.applyFilters()}updateStats(){const e=this.assets.length,t=this.assets.filter(e=>"Available"===e.status).length,a=this.assets.filter(e=>"In Use"===e.status).length,r=this.assets.filter(e=>"Maintenance"===e.status).length;document.getElementById("totalAssets").textContent=e,document.getElementById("availableAssets").textContent=t,document.getElementById("inUseAssets").textContent=a,document.getElementById("maintenanceAssets").textContent=r}renderCurrentTab(){const e=this.filteredData.filter(e=>"Available"===e.status),t=this.filteredData.filter(e=>"In Use"===e.status),a=this.filteredData.filter(e=>"Maintenance"===e.status);document.getElementById("availableCount").textContent=e.length,document.getElementById("inuseCount").textContent=t.length,document.getElementById("maintenanceCount").textContent=a.length,"available"===this.currentTab?this.renderTable("availableTableBody","availableEmpty",e):"inuse"===this.currentTab?this.renderTable("inuseTableBody","inuseEmpty",t):"maintenance"===this.currentTab&&this.renderTable("maintenanceTableBody","maintenanceEmpty",a);const r="available"===this.currentTab?e:"inuse"===this.currentTab?t:a;document.getElementById("showingCount").textContent=r.length,document.getElementById("totalCount").textContent=this.assets.length}renderTable(e,t,a){const r=document.getElementById(e),n=document.getElementById(t);if(!r)return;const i=(this.currentPage-1)*this.pageSize,o=i+this.pageSize,s=a.slice(i,o);if(0===s.length)return r.closest(".table-responsive").classList.add("d-none"),void(n&&n.classList.remove("d-none"));r.closest(".table-responsive").classList.remove("d-none"),n&&n.classList.add("d-none");const d=document.createDocumentFragment();s.forEach((e,t)=>{const a=document.createElement("tr");"available"===this.currentTab?a.innerHTML=`\n                    <td>${i+t+1}</td>\n                    <td><strong>${e.name}</strong></td>\n                    <td><code>${e.code}</code></td>\n                    <td><span class="badge bg-info">${e.category}</span></td>\n                    <td>${e.purchaseDate}</td>\n                    <td>$${e.value.toLocaleString()}</td>\n                    <td>\n                        <button class="btn btn-sm btn-outline-primary btn-edit" data-id="${e.id}">\n                            <i class="fas fa-edit"></i>\n                        </button>\n                        <button class="btn btn-sm btn-outline-danger btn-delete" data-id="${e.id}">\n                            <i class="fas fa-trash"></i>\n                        </button>\n                    </td>\n                `:"inuse"===this.currentTab?a.innerHTML=`\n                    <td>${i+t+1}</td>\n                    <td><strong>${e.name}</strong></td>\n                    <td><code>${e.code}</code></td>\n                    <td><span class="badge bg-info">${e.category}</span></td>\n                    <td>${e.assignedTo}</td>\n                    <td>${e.assignedDate}</td>\n                    <td>\n                        <button class="btn btn-sm btn-outline-primary btn-edit" data-id="${e.id}">\n                            <i class="fas fa-edit"></i>\n                        </button>\n                        <button class="btn btn-sm btn-outline-danger btn-delete" data-id="${e.id}">\n                            <i class="fas fa-trash"></i>\n                        </button>\n                    </td>\n                `:a.innerHTML=`\n                    <td>${i+t+1}</td>\n                    <td><strong>${e.name}</strong></td>\n                    <td><code>${e.code}</code></td>\n                    <td><span class="badge bg-info">${e.category}</span></td>\n                    <td>${e.issue}</td>\n                    <td>${e.maintenanceDate}</td>\n                    <td>\n                        <button class="btn btn-sm btn-outline-primary btn-edit" data-id="${e.id}">\n                            <i class="fas fa-edit"></i>\n                        </button>\n                        <button class="btn btn-sm btn-outline-danger btn-delete" data-id="${e.id}">\n                            <i class="fas fa-trash"></i>\n                        </button>\n                    </td>\n                `,d.appendChild(a)}),r.innerHTML="",r.appendChild(d),this.attachRowEventListeners(r)}attachRowEventListeners(e){e.querySelectorAll(".btn-edit").forEach(e=>{e.addEventListener("click",e=>{const t=parseInt(e.currentTarget.dataset.id);this.handleEdit(t)})}),e.querySelectorAll(".btn-delete").forEach(e=>{e.addEventListener("click",e=>{const t=parseInt(e.currentTarget.dataset.id);this.handleDelete(t)})})}handleAdd(){window.router?window.router.navigate("assetscreate"):window.location.href="/assetscreate"}handleEdit(e){this.assets.find(t=>t.id===e)&&(window.router?window.router.navigate("assetsupdate",{id:e}):(sessionStorage.setItem("crudId",e),window.location.href="/assetsupdate"))}async handleDelete(e){const t=this.assets.find(t=>t.id===e);t&&await E.show({type:"danger",title:"Delete Asset",message:`Are you sure you want to delete ${t.name}? This action cannot be undone.`,okText:"Delete",cancelText:"Cancel",okClass:"btn-danger"})&&(this.assets=this.assets.filter(t=>t.id!==e),this.applyFilters(),this.showNotification("success","Asset deleted successfully"))}showNotification(e,t){window.showNotification&&window.showNotification(e,t)}},R=new class{constructor(){this.mode="create",this.assetId=null,this.asset=null,this.categories=[]}async initialize(){try{this.mode=sessionStorage.getItem("crudMode")||"create",this.assetId=sessionStorage.getItem("crudId"),await this.loadCategories(),this.setupEventListeners(),this.updatePageTitle(),"update"===this.mode&&this.assetId&&await this.loadAsset(parseInt(this.assetId))}catch(e){}}async loadCategories(){try{const e=await z.getActiveCategories();e&&e.success&&e.data&&(this.categories=e.data,this.populateCategoryDropdown())}catch(e){}}populateCategoryDropdown(){const e=document.getElementById("categoryId");e&&(e.innerHTML='<option value="">Select Category</option>',this.categories.forEach(t=>{const a=document.createElement("option");a.value=t.categoryId,a.textContent=t.categoryName,e.appendChild(a)}))}setupEventListeners(){const e=document.getElementById("assetForm");document.getElementById("btnSaveAsset");const t=document.getElementById("btnCancelAsset"),a=document.getElementById("btnBackToAssets");e&&(e.addEventListener("submit",e=>{e.preventDefault(),this.handleSubmit()}),t&&t.addEventListener("click",()=>{this.handleCancel()}),a&&a.addEventListener("click",()=>{this.handleCancel()}))}updatePageTitle(){const e=document.getElementById("crudTitle"),t=document.getElementById("breadcrumbAction");"update"===this.mode?(e&&(e.innerHTML='<i class="fas fa-box me-2"></i>Edit Asset'),t&&(t.textContent="Edit")):(e&&(e.innerHTML='<i class="fas fa-box me-2"></i>Add New Asset'),t&&(t.textContent="Add New"))}async loadAsset(e){try{const t=await z.getAsset(e);if(!(t&&t.success&&t.data))throw new Error("Failed to load asset");this.asset=t.data,this.populateForm(this.asset)}catch(t){alert("Failed to load asset data. Please try again."),this.handleCancel()}}populateForm(e){document.getElementById("assetName").value=e.assetName||"",document.getElementById("serialNumber").value=e.serialNumber||"",document.getElementById("categoryId").value=e.categoryId||"",document.getElementById("condition").value=e.condition||"",e.purchaseDate&&(document.getElementById("purchaseDate").value=e.purchaseDate.split("T")[0]),document.getElementById("purchasePrice").value=e.purchasePrice||""}getFormData(){const e={assetName:document.getElementById("assetName").value.trim(),categoryId:parseInt(document.getElementById("categoryId").value),serialNumber:document.getElementById("serialNumber").value.trim()||null,condition:document.getElementById("condition").value||null},t=document.getElementById("purchaseDate").value;t&&(e.purchaseDate=new Date(t).toISOString());const a=document.getElementById("purchasePrice").value;return a&&(e.purchasePrice=parseFloat(a)),e}validateFormData(e){return e.assetName?!!e.categoryId||(alert("Category is required"),!1):(alert("Asset Name is required"),!1)}async handleSubmit(){const e=document.getElementById("btnSaveAsset");try{const t=this.getFormData();if(!this.validateFormData(t))return;let a;if(e.innerHTML,e.disabled=!0,e.innerHTML='<i class="fas fa-spinner fa-spin me-2"></i>Saving...',a="update"===this.mode?await z.updateAsset(this.assetId,t):await z.createAsset(t),!a||!a.success)throw new Error(a.message||"Failed to save asset");alert("update"===this.mode?"Asset updated successfully!":"Asset created successfully!"),window.router?window.router.navigate("assets"):window.location.href="/assets"}catch(t){alert("Failed to save asset. Please try again."),e.disabled=!1,e.innerHTML='<i class="fas fa-save me-2"></i>Save Asset'}}handleCancel(){window.router?window.router.navigate("assets"):window.location.href="/assets"}};window.categoriesMenu=new class{constructor(){this.categories=[],this.loading=!1}async initialize(){await this.loadFromAPI(),this.setupEventListeners(),this.render(),this.renderChart()}async loadFromAPI(){try{this.loading=!0;const e=await z.getCategories();e&&e.success&&e.data?this.categories=e.data:this.categories=this.generateSampleCategories()}catch(e){this.categories=this.generateSampleCategories()}finally{this.loading=!1}}generateSampleCategories(){return[{id:1,name:"Computer",description:"Computers and laptops",items:15},{id:2,name:"Furniture",description:"Office furniture",items:8},{id:3,name:"Vehicle",description:"Company vehicles",items:3},{id:4,name:"Equipment",description:"Office equipment",items:12},{id:5,name:"Mobile Device",description:"Phones and tablets",items:10}]}setupEventListeners(){const e=document.getElementById("btnAddCategory");e&&e.addEventListener("click",()=>this.handleAdd());const t=document.getElementById("btnRefreshCategories");t&&t.addEventListener("click",async()=>{t.innerHTML='<i class="fas fa-sync-alt fa-spin me-2"></i>Refreshing...',t.disabled=!0;try{await this.loadFromAPI(),this.render(),this.renderChart(),window.showNotification&&window.showNotification("success","✅ Categories refreshed successfully from API")}catch(e){window.showNotification&&window.showNotification("danger","❌ Failed to refresh categories")}finally{t.innerHTML='<i class="fas fa-sync-alt me-2"></i>Refresh',t.disabled=!1}})}render(){const e=document.getElementById("categoriesTableBody");if(!e)return;const t=this.categories.map((e,t)=>`\n            <tr>\n                <td>${t+1}</td>\n                <td><strong>${e.name}</strong></td>\n                <td>${e.description}</td>\n                <td><span class="badge bg-info">${e.items}</span></td>\n                <td>\n                    <button class="btn btn-sm btn-outline-primary" onclick="categoriesMenu.handleEdit(${e.id})">\n                        <i class="fas fa-edit"></i>\n                    </button>\n                    <button class="btn btn-sm btn-outline-danger" onclick="categoriesMenu.handleDelete(${e.id})">\n                        <i class="fas fa-trash"></i>\n                    </button>\n                </td>\n            </tr>\n        `).join("");e.innerHTML=t,document.getElementById("totalCategories").textContent=this.categories.length}renderChart(){const e=document.getElementById("categoryChart");if(!e||"undefined"==typeof Chart)return;const t=e.getContext("2d");new Chart(t,{type:"doughnut",data:{labels:this.categories.map(e=>e.name),datasets:[{data:this.categories.map(e=>e.items),backgroundColor:["#dc2626","#3b82f6","#10b981","#f59e0b","#8b5cf6"]}]},options:{responsive:!0,maintainAspectRatio:!0}})}async handleAdd(){window.router?window.router.navigate("categoriescreate"):window.location.href="/categoriescreate"}async handleEdit(e){this.categories.find(t=>t.id===e)&&(window.router?window.router.navigate("categoriesupdate",{id:e}):(sessionStorage.setItem("crudId",e),window.location.href="/categoriesupdate"))}async handleDelete(e){const t=this.categories.find(t=>t.id===e);t&&await E.show({type:"danger",title:"Delete Category",message:`Delete ${t.name}? This cannot be undone.`,okText:"Delete",okClass:"btn-danger"})&&(this.categories=this.categories.filter(t=>t.id!==e),this.render(),this.showNotification("success","Category deleted successfully"))}showNotification(e,t){window.showNotification&&window.showNotification(e,t)}};const $=window.categoriesMenu,N=new class{constructor(){this.mode="create",this.categoryId=null,this.category=null}async initialize(){try{this.mode=sessionStorage.getItem("crudMode")||"create",this.categoryId=sessionStorage.getItem("crudId"),this.setupEventListeners(),this.updatePageTitle(),"update"===this.mode&&this.categoryId&&await this.loadCategory(parseInt(this.categoryId))}catch(e){}}setupEventListeners(){const e=document.getElementById("categoryForm");document.getElementById("btnSaveCategory");const t=document.getElementById("btnCancelCategory"),a=document.getElementById("btnBackToCategories");e&&(e.addEventListener("submit",e=>{e.preventDefault(),this.handleSubmit()}),t&&t.addEventListener("click",()=>{this.handleCancel()}),a&&a.addEventListener("click",()=>{this.handleCancel()}))}updatePageTitle(){const e=document.getElementById("crudTitle"),t=document.getElementById("breadcrumbAction");"update"===this.mode?(e&&(e.innerHTML='<i class="fas fa-tag me-2"></i>Edit Category'),t&&(t.textContent="Edit")):(e&&(e.innerHTML='<i class="fas fa-tag me-2"></i>Add New Category'),t&&(t.textContent="Add New"))}async loadCategory(e){try{const t=await z.getCategory(e);if(!(t&&t.success&&t.data))throw new Error("Failed to load category");this.category=t.data,this.populateForm(this.category)}catch(t){alert("Failed to load category data. Please try again."),this.handleCancel()}}populateForm(e){document.getElementById("categoryName").value=e.categoryName||"",document.getElementById("description").value=e.description||""}getFormData(){return{categoryName:document.getElementById("categoryName").value.trim(),description:document.getElementById("description").value.trim()||null}}validateFormData(e){return!!e.categoryName||(alert("Category Name is required"),!1)}async handleSubmit(){const e=document.getElementById("btnSaveCategory");try{const t=this.getFormData();if(!this.validateFormData(t))return;let a;if(e.innerHTML,e.disabled=!0,e.innerHTML='<i class="fas fa-spinner fa-spin me-2"></i>Saving...',a="update"===this.mode?await z.updateCategory(this.categoryId,t):await z.createCategory(t),!a||!a.success)throw new Error(a.message||"Failed to save category");alert("update"===this.mode?"Category updated successfully!":"Category created successfully!"),window.router?window.router.navigate("categories"):window.location.href="/categories"}catch(t){alert("Failed to save category. Please try again."),e.disabled=!1,e.innerHTML='<i class="fas fa-save me-2"></i>Save Category'}}handleCancel(){window.router?window.router.navigate("categories"):window.location.href="/categories"}},q=new class{constructor(){this.transactions=[],this.loading=!1}async loadFromAPI(){try{this.loading=!0;const e=await z.getTransactions();e&&e.success&&e.data?this.transactions=e.data:this.transactions=this.generateSampleTransactions()}catch(e){this.transactions=this.generateSampleTransactions()}finally{this.loading=!1}}generateSampleTransactions(){const e=["Checkout","Return","Transfer","Maintenance"],t=["Dell Laptop","Office Chair","iPhone 15","Projector"],a=["John Doe","Jane Smith","Bob Johnson","Warehouse"],r=["Completed","Pending","Approved"];return Array.from({length:20},(n,i)=>({id:i+1,date:new Date(Date.now()-30*Math.random()*24*60*60*1e3).toISOString().split("T")[0],type:e[Math.floor(Math.random()*e.length)],asset:t[Math.floor(Math.random()*t.length)],from:a[Math.floor(Math.random()*a.length)],to:a[Math.floor(Math.random()*a.length)],status:r[Math.floor(Math.random()*r.length)]}))}async initialize(){await this.loadFromAPI(),this.setupEventListeners(),this.updateStats(),this.render()}setupEventListeners(){const e=document.getElementById("btnNewTransaction");e&&e.addEventListener("click",()=>this.handleNew());const t=document.getElementById("btnRefreshTransactions");t&&t.addEventListener("click",async()=>{t.innerHTML='<i class="fas fa-sync-alt fa-spin me-2"></i>Refreshing...',t.disabled=!0;try{await this.loadFromAPI(),this.updateStats(),this.render(),window.showNotification&&window.showNotification("success","✅ Transactions refreshed successfully from API")}catch(e){window.showNotification&&window.showNotification("danger","❌ Failed to refresh transactions")}finally{t.innerHTML='<i class="fas fa-sync-alt me-2"></i>Refresh',t.disabled=!1}})}updateStats(){const e=(new Date).toISOString().split("T")[0],t=this.transactions.filter(t=>t.date===e).length,a=this.transactions.filter(e=>"Checkout"===e.type).length,r=this.transactions.filter(e=>"Return"===e.type).length,n=this.transactions.filter(e=>"Transfer"===e.type).length;document.getElementById("todayTransactions").textContent=t,document.getElementById("checkoutCount").textContent=a,document.getElementById("returnCount").textContent=r,document.getElementById("transferCount").textContent=n,document.getElementById("totalTransactions").textContent=this.transactions.length}render(){const e=document.getElementById("transactionsTableBody");if(!e)return;const t={Completed:"success",Pending:"warning",Approved:"info"},a=this.transactions.slice(0,10).map(e=>`\n            <tr>\n                <td>${e.date}</td>\n                <td><span class="badge bg-secondary">${e.type}</span></td>\n                <td><strong>${e.asset}</strong></td>\n                <td>${e.from}</td>\n                <td>${e.to}</td>\n                <td><span class="badge bg-${t[e.status]}">${e.status}</span></td>\n                <td>\n                    <button class="btn btn-sm btn-outline-primary" title="View">\n                        <i class="fas fa-eye"></i>\n                    </button>\n                </td>\n            </tr>\n        `).join("");e.innerHTML=a}async handleNew(){window.router?window.router.navigate("transactionscreate"):window.location.href="/transactionscreate"}showNotification(e,t){window.showNotification&&window.showNotification(e,t)}},F=new class{constructor(){this.mode="create",this.transactionId=null,this.transaction=null,this.assets=[],this.employees=[]}async initialize(){try{this.mode=sessionStorage.getItem("crudMode")||"create",this.transactionId=sessionStorage.getItem("crudId"),await Promise.all([this.loadAssets(),this.loadEmployees()]),this.setupEventListeners(),this.updatePageTitle(),"update"===this.mode&&this.transactionId&&await this.loadTransaction(parseInt(this.transactionId))}catch(e){}}async loadAssets(){try{const e=await z.getAssets();e&&e.success&&e.data&&(this.assets=e.data,this.populateAssetDropdown())}catch(e){}}async loadEmployees(){try{const e=await z.getActiveEmployees();e&&e.success&&e.data&&(this.employees=e.data,this.populateEmployeeDropdown())}catch(e){}}populateAssetDropdown(){const e=document.getElementById("assetId");e&&(e.innerHTML='<option value="">Select Asset</option>',this.assets.forEach(t=>{const a=document.createElement("option");a.value=t.assetId,a.textContent=t.assetName,e.appendChild(a)}))}populateEmployeeDropdown(){const e=document.getElementById("employeeId");e&&(e.innerHTML='<option value="">Select Employee</option>',this.employees.forEach(t=>{const a=document.createElement("option");a.value=t.employeeId,a.textContent=t.fullName,e.appendChild(a)}))}setupEventListeners(){const e=document.getElementById("transactionForm");document.getElementById("btnSaveTransaction");const t=document.getElementById("btnCancelTransaction"),a=document.getElementById("btnBackToTransactions");e&&(e.addEventListener("submit",e=>{e.preventDefault(),this.handleSubmit()}),t&&t.addEventListener("click",()=>{this.handleCancel()}),a&&a.addEventListener("click",()=>{this.handleCancel()}))}updatePageTitle(){const e=document.getElementById("crudTitle"),t=document.getElementById("breadcrumbAction");"update"===this.mode?(e&&(e.innerHTML='<i class="fas fa-exchange-alt me-2"></i>Edit Transaction'),t&&(t.textContent="Edit")):(e&&(e.innerHTML='<i class="fas fa-exchange-alt me-2"></i>Add New Transaction'),t&&(t.textContent="Add New"))}async loadTransaction(e){try{const t=await z.getTransaction(e);if(!(t&&t.success&&t.data))throw new Error("Failed to load transaction");this.transaction=t.data,this.populateForm(this.transaction)}catch(t){alert("Failed to load transaction data. Please try again."),this.handleCancel()}}populateForm(e){if(document.getElementById("assetId").value=e.assetId||"",document.getElementById("employeeId").value=e.employeeId||"",document.getElementById("transactionType").value=e.transactionType||"",document.getElementById("notes").value=e.notes||"",e.transactionDate){const t=new Date(e.transactionDate);document.getElementById("transactionDate").value=t.toISOString().slice(0,16)}if(e.returnDate){const t=new Date(e.returnDate);document.getElementById("returnDate").value=t.toISOString().slice(0,16)}}getFormData(){const e={assetId:parseInt(document.getElementById("assetId").value),transactionDate:new Date(document.getElementById("transactionDate").value).toISOString()},t=document.getElementById("employeeId").value;t&&(e.employeeId=parseInt(t));const a=document.getElementById("transactionType").value;a&&(e.transactionType=a);const r=document.getElementById("returnDate").value;r&&(e.returnDate=new Date(r).toISOString());const n=document.getElementById("notes").value.trim();return n&&(e.notes=n),e}validateFormData(e){return e.assetId?!!e.transactionDate||(alert("Transaction Date is required"),!1):(alert("Asset is required"),!1)}async handleSubmit(){const e=document.getElementById("btnSaveTransaction");try{const t=this.getFormData();if(!this.validateFormData(t))return;let a;if(e.innerHTML,e.disabled=!0,e.innerHTML='<i class="fas fa-spinner fa-spin me-2"></i>Saving...',a="update"===this.mode?await z.updateTransaction(this.transactionId,t):await z.createTransaction(t),!a||!a.success)throw new Error(a.message||"Failed to save transaction");alert("update"===this.mode?"Transaction updated successfully!":"Transaction created successfully!"),window.router?window.router.navigate("transactions"):window.location.href="/transactions"}catch(t){alert("Failed to save transaction. Please try again."),e.disabled=!1,e.innerHTML='<i class="fas fa-save me-2"></i>Save Transaction'}}handleCancel(){window.router?window.router.navigate("transactions"):window.location.href="/transactions"}},U=new class{constructor(){this.recentReports=[{name:"Asset Inventory Q4 2024",type:"Asset",generated:"2024-12-01",by:"Admin"},{name:"Employee Records Nov 2024",type:"Employee",generated:"2024-11-30",by:"HR Manager"},{name:"Transaction History Q3",type:"Transaction",generated:"2024-10-15",by:"Accountant"}]}initialize(){this.setupEventListeners(),this.render()}setupEventListeners(){document.getElementById("btnAssetReport")?.addEventListener("click",()=>this.generateQuickReport("Asset Inventory")),document.getElementById("btnEmployeeReport")?.addEventListener("click",()=>this.generateQuickReport("Employee")),document.getElementById("btnTransactionReport")?.addEventListener("click",()=>this.generateQuickReport("Transaction")),document.getElementById("btnFinancialReport")?.addEventListener("click",()=>this.generateQuickReport("Financial")),document.getElementById("btnGenerateReport")?.addEventListener("click",()=>this.generateCustomReport())}render(){const e=document.getElementById("recentReportsBody");if(!e)return;const t=this.recentReports.map(e=>`\n            <tr>\n                <td><strong>${e.name}</strong></td>\n                <td><span class="badge bg-info">${e.type}</span></td>\n                <td>${e.generated}</td>\n                <td>${e.by}</td>\n                <td>\n                    <button class="btn btn-sm btn-outline-primary" title="Download">\n                        <i class="fas fa-download"></i>\n                    </button>\n                    <button class="btn btn-sm btn-outline-secondary" title="View">\n                        <i class="fas fa-eye"></i>\n                    </button>\n                </td>\n            </tr>\n        `).join("");e.innerHTML=t}async generateQuickReport(e){await E.show({type:"confirm",title:"Generate Report",message:`Generate ${e} Report?`,okText:"Generate"})&&(this.showNotification("success",`${e} Report generated successfully`),setTimeout(()=>{const t=document.createElement("a");t.href="#",t.download=`${e}-report.pdf`,t.click()},500))}async generateCustomReport(){const e=document.getElementById("reportType")?.value,t=document.getElementById("fromDate")?.value,a=document.getElementById("toDate")?.value;t&&a?await E.show({type:"confirm",title:"Generate Custom Report",message:`Generate ${e} from ${t} to ${a}?`,okText:"Generate"})&&this.showNotification("success","Custom report generated successfully"):this.showNotification("warning","Please select date range")}showNotification(e,t){window.showNotification&&window.showNotification(e,t)}},j=new class{constructor(){this.currentUser=this.loadUserData()}initialize(){this.setupEventListeners()}loadUserData(){const e=localStorage.getItem("currentUser");return e?JSON.parse(e):{name:"John Doe",email:"john.doe@company.com",avatar:null}}setupEventListeners(){const e=document.getElementById("changeAvatarBtn");e&&e.addEventListener("click",e=>{e.preventDefault(),this.handleChangeAvatar()});const t=document.getElementById("changePasswordBtn");t&&t.addEventListener("click",e=>{e.preventDefault(),this.handleChangePassword()});const a=document.getElementById("profileForm");a&&a.addEventListener("submit",e=>{e.preventDefault(),this.handleSaveProfile()});const r=document.getElementById("resetFormBtn");r&&r.addEventListener("click",e=>{e.preventDefault(),this.handleResetForm()});const n=document.getElementById("cancelProfileBtn");n&&n.addEventListener("click",e=>{e.preventDefault(),this.handleCancel()})}handleChangeAvatar(){const e=document.createElement("input");e.type="file",e.accept="image/*",e.style.display="none",e.addEventListener("change",e=>{const t=e.target.files[0];t&&this.previewAvatar(t)}),document.body.appendChild(e),e.click(),document.body.removeChild(e)}previewAvatar(e){const t=new FileReader;t.onload=e=>{const t=document.querySelector(".profile-avatar img");t&&(t.src=e.target.result,this.currentUser.avatar=e.target.result,localStorage.setItem("currentUser",JSON.stringify(this.currentUser)),this.showNotification("success","✅ Avatar updated!"))},t.readAsDataURL(e)}handleChangePassword(){window.router?window.router.navigate("reset-password"):window.location.href="/reset-password"}handleSaveProfile(){const e=document.getElementById("firstName")?.value,t=document.getElementById("lastName")?.value,a=document.getElementById("profileEmail")?.value;if(document.getElementById("profilePhone"),document.getElementById("profileBio"),document.getElementById("profileDepartment"),document.getElementById("profilePosition"),document.getElementById("profileLocation"),document.getElementById("profileLanguage"),document.getElementById("profileTimezone"),!e||!t||!a)return void this.showNotification("danger","❌ Please fill in all required fields");const r=document.getElementById("saveProfileBtn");if(r){const e=r.innerHTML;r.innerHTML='<i class="fas fa-spinner fa-spin me-2"></i>Saving...',r.disabled=!0,setTimeout(()=>{r.innerHTML=e,r.disabled=!1,this.showNotification("success","✅ Profile updated successfully!")},1e3)}}handleResetForm(){const e=document.getElementById("profileForm");e&&(e.reset(),this.showNotification("info","↻ Form reset to default values"))}handleCancel(){window.router?window.router.navigate("dashboard"):window.location.href="/dashboard"}handleSavePassword(e){const t=document.getElementById("currentPassword").value,a=document.getElementById("newPassword").value,r=document.getElementById("confirmPassword").value;t&&a&&r?a===r?a.length<8?this.showNotification("danger","❌ Password must be at least 8 characters"):(e.hide(),this.showNotification("success","✅ Password changed successfully!")):this.showNotification("danger","❌ Passwords do not match"):this.showNotification("danger","❌ Please fill in all fields")}showNotification(e,t){"undefined"!=typeof RedAdminUtils&&RedAdminUtils.showNotification?RedAdminUtils.showNotification(e,t):alert(t)}},H=new class{constructor(){this.settings=this.loadSettings()}initialize(){this.setupEventListeners(),this.populateForm()}loadSettings(){const e=localStorage.getItem("appSettings");return e?JSON.parse(e):{appName:"RedAdmin Pro",timeZone:"UTC-5 (EST)",language:"English",currency:"USD",emailNotif:!0,pushNotif:!0,smsNotif:!1,twoFactor:!1,loginAlerts:!0,sessionTimeout:"30"}}setupEventListeners(){const e=document.getElementById("settingsForm");e&&e.addEventListener("submit",e=>(e.preventDefault(),this.handleSave(),!1));const t=document.getElementById("saveSettingsBtn");t&&t.addEventListener("click",e=>{e.preventDefault(),this.handleSave()});const a=document.getElementById("cancelSettingsBtn");a&&(a.innerHTML='<i class="fas fa-redo me-2"></i>Reset to Saved',a.addEventListener("click",async()=>{await E.show({type:"warning",title:"Reset Settings",message:"Discard all changes and reset to last saved settings?",okText:"Reset",cancelText:"Keep Changes",okClass:"btn-warning"})&&(this.populateForm(),this.showNotification("info","Changes discarded"))}))}populateForm(){this.setInputValue("appName",this.settings.appName),this.setInputValue("timeZone",this.settings.timeZone),this.setInputValue("language",this.settings.language),this.setInputValue("currency",this.settings.currency),this.setCheckboxValue("emailNotif",this.settings.emailNotif),this.setCheckboxValue("pushNotif",this.settings.pushNotif),this.setCheckboxValue("smsNotif",this.settings.smsNotif),this.setCheckboxValue("twoFactor",this.settings.twoFactor),this.setCheckboxValue("loginAlerts",this.settings.loginAlerts),this.setInputValue("sessionTimeout",this.settings.sessionTimeout)}setInputValue(e,t){const a=document.getElementById(e);a&&(a.value=t||"")}setCheckboxValue(e,t){const a=document.getElementById(e);a&&(a.checked=Boolean(t))}getInputValue(e){const t=document.getElementById(e);return t?t.value:""}getCheckboxValue(e){const t=document.getElementById(e);return!!t&&t.checked}async handleSave(){try{if(!(await E.show({type:"confirm",title:"Save Settings",message:"Save these settings? This will update your application preferences.",okText:"Save Settings",cancelText:"Cancel",okClass:"btn-primary"})))return;this.settings={appName:this.getInputValue("appName"),timeZone:this.getInputValue("timeZone"),language:this.getInputValue("language"),currency:this.getInputValue("currency"),emailNotif:this.getCheckboxValue("emailNotif"),pushNotif:this.getCheckboxValue("pushNotif"),smsNotif:this.getCheckboxValue("smsNotif"),twoFactor:this.getCheckboxValue("twoFactor"),loginAlerts:this.getCheckboxValue("loginAlerts"),sessionTimeout:this.getInputValue("sessionTimeout")},localStorage.setItem("appSettings",JSON.stringify(this.settings)),this.showNotification("success","✅ Settings saved successfully!")}catch(e){this.showNotification("danger","❌ Failed to save settings")}}showNotification(e,t){"undefined"!=typeof RedAdminUtils&&RedAdminUtils.showNotification?RedAdminUtils.showNotification(e,t):alert(t)}},O=new class{constructor(){this.data=this.generateSampleData(),this.filteredData=[...this.data],this.selectedIds=new Set,this.currentPage=1,this.pageSize=10,this.filters={department:"",status:"",salary:""}}initialize(){this.setupEventListeners(),this.render()}generateSampleData(){const e=["John Doe","Jane Smith","Bob Johnson","Alice Williams","Charlie Brown","Diana Prince","Ethan Hunt","Fiona Gallagher","George Martin","Hannah Montana","Ian Fleming","Julia Roberts","Kevin Hart","Laura Palmer","Michael Scott","Nancy Drew","Oliver Twist","Peter Parker","Quinn Fabray","Rachel Green"],t=["Software Engineer","Product Manager","UX Designer","Data Analyst","DevOps Engineer"],a=["Engineering","Marketing","Sales","HR","Finance"],r=["Active","Inactive"];return Array.from({length:50},(n,i)=>({id:i+1,name:e[i%e.length],email:`employee${i+1}@company.com`,position:t[Math.floor(Math.random()*t.length)],department:a[Math.floor(Math.random()*a.length)],salary:Math.floor(8e4*Math.random())+4e4,status:r[Math.floor(Math.random()*r.length)]}))}setupEventListeners(){const e=document.getElementById("searchInput");if(e){let t;e.addEventListener("input",e=>{clearTimeout(t),t=setTimeout(()=>{this.handleSearch(e.target.value)},300)})}const t=document.getElementById("btnAddEmployee");t&&t.addEventListener("click",()=>this.handleAdd());const a=document.getElementById("btnImport");a&&a.addEventListener("click",()=>this.handleImport());const r=document.getElementById("btnExport");r&&r.addEventListener("click",()=>this.handleExport());const n=document.getElementById("btnBatchDelete");n&&n.addEventListener("click",()=>this.handleBatchDelete());const i=document.getElementById("btnBatchExport");i&&i.addEventListener("click",()=>this.handleBatchExport());const o=document.getElementById("selectAll");o&&o.addEventListener("change",e=>this.handleSelectAll(e.target.checked));const s=document.getElementById("btnApplyFilters");s&&s.addEventListener("click",()=>this.applyFilters());const d=document.getElementById("btnResetFilters");d&&d.addEventListener("click",()=>this.resetFilters())}handleSearch(e){const t=e.toLowerCase();this.filteredData=this.data.filter(e=>e.name.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.position.toLowerCase().includes(t)||e.department.toLowerCase().includes(t)),this.currentPage=1,this.selectedIds.clear(),this.render()}applyFilters(){this.filters.department=document.getElementById("filterDepartment")?.value||"",this.filters.status=document.getElementById("filterStatus")?.value||"",this.filters.salary=document.getElementById("filterSalary")?.value||"",this.filteredData=this.data.filter(e=>{let t=!0;if(this.filters.department&&e.department!==this.filters.department&&(t=!1),this.filters.status&&e.status!==this.filters.status&&(t=!1),this.filters.salary){const a=e.salary;"0-50000"===this.filters.salary?t=t&&a>=0&&a<=5e4:"50000-80000"===this.filters.salary?t=t&&a>5e4&&a<=8e4:"80000-100000"===this.filters.salary?t=t&&a>8e4&&a<=1e5:"100000+"===this.filters.salary&&(t=t&&a>1e5)}return t}),this.currentPage=1,this.selectedIds.clear(),this.render(),this.showNotification("success","Filters applied successfully")}resetFilters(){this.filters={department:"",status:"",salary:""},document.getElementById("filterDepartment").value="",document.getElementById("filterStatus").value="",document.getElementById("filterSalary").value="",this.filteredData=[...this.data],this.currentPage=1,this.selectedIds.clear(),this.render(),this.showNotification("info","Filters reset")}handleSelectAll(e){const t=(this.currentPage-1)*this.pageSize,a=t+this.pageSize,r=this.filteredData.slice(t,a);e?r.forEach(e=>this.selectedIds.add(e.id)):r.forEach(e=>this.selectedIds.delete(e.id)),this.updateBatchButtons(),this.updateTableCheckboxes()}handleCheckbox(e,t){t?this.selectedIds.add(e):this.selectedIds.delete(e),this.updateBatchButtons(),this.updateSelectAllCheckbox()}async handleAdd(){await E.show({type:"confirm",title:"Add New Employee",message:"This will open the employee creation form. Continue?",okText:"Continue",cancelText:"Cancel"})&&(window.location.hash="#employeecrud",sessionStorage.setItem("employeeCrudMode","add"))}async handleEdit(e){const t=this.data.find(t=>t.id===e);t&&await E.show({type:"confirm",title:"Edit Employee",message:`Edit information for ${t.name}?`,okText:"Edit",cancelText:"Cancel"})&&(window.location.hash="#employeecrud",sessionStorage.setItem("employeeCrudMode","edit"),sessionStorage.setItem("employeeCrudId",e))}async handleDelete(e){const t=this.data.find(t=>t.id===e);t&&await E.show({type:"danger",title:"Delete Employee",message:`Are you sure you want to delete ${t.name}? This action cannot be undone.`,okText:"Delete",cancelText:"Cancel",okClass:"btn-danger"})&&(this.data=this.data.filter(t=>t.id!==e),this.filteredData=this.filteredData.filter(t=>t.id!==e),this.selectedIds.delete(e),this.render(),this.showNotification("success","Employee deleted successfully"))}async handleBatchDelete(){0!==this.selectedIds.size&&await E.show({type:"danger",title:"Delete Multiple Employees",message:`Are you sure you want to delete ${this.selectedIds.size} employee(s)? This action cannot be undone.`,okText:"Delete All",cancelText:"Cancel",okClass:"btn-danger"})&&(this.data=this.data.filter(e=>!this.selectedIds.has(e.id)),this.filteredData=this.filteredData.filter(e=>!this.selectedIds.has(e.id)),this.selectedIds.clear(),this.render(),this.showNotification("success","Selected employees deleted successfully"))}handleBatchExport(){const e=this.data.filter(e=>this.selectedIds.has(e.id));this.exportToCSV(e)}handleImport(){this.showNotification("info","Import functionality - Coming soon!")}handleExport(){this.exportToCSV(this.filteredData)}exportToCSV(e=this.filteredData){const t=[["ID","Name","Email","Position","Department","Salary","Status"].join(","),...e.map(e=>[e.id,e.name,e.email,e.position,e.department,e.salary,e.status].join(","))].join("\n"),a=new Blob([t],{type:"text/csv"}),r=window.URL.createObjectURL(a),n=document.createElement("a");n.href=r,n.download=`employees-${Date.now()}.csv`,n.click(),window.URL.revokeObjectURL(r),this.showNotification("success","Data exported successfully")}render(){const e=document.getElementById("employeeTableBody"),t=document.getElementById("emptyState");if(!e)return;const a=(this.currentPage-1)*this.pageSize,r=a+this.pageSize,n=this.filteredData.slice(a,r);if(0===n.length)return e.closest(".table-responsive").classList.add("d-none"),t&&t.classList.remove("d-none"),void this.updateStats();e.closest(".table-responsive").classList.remove("d-none"),t&&t.classList.add("d-none");const i=document.createDocumentFragment();n.forEach((e,t)=>{const r=document.createElement("tr");r.innerHTML=`\n                <td>\n                    <input type="checkbox" class="form-check-input row-checkbox" \n                           data-id="${e.id}" ${this.selectedIds.has(e.id)?"checked":""}>\n                </td>\n                <td>${a+t+1}</td>\n                <td><strong>${e.name}</strong></td>\n                <td><a href="mailto:${e.email}">${e.email}</a></td>\n                <td>${e.position}</td>\n                <td><span class="badge bg-info">${e.department}</span></td>\n                <td>$${e.salary.toLocaleString()}</td>\n                <td><span class="badge bg-${"Active"===e.status?"success":"secondary"}">${e.status}</span></td>\n                <td>\n                    <button class="btn btn-sm btn-outline-primary btn-edit" data-id="${e.id}" title="Edit">\n                        <i class="fas fa-edit"></i>\n                    </button>\n                    <button class="btn btn-sm btn-outline-danger btn-delete" data-id="${e.id}" title="Delete">\n                        <i class="fas fa-trash"></i>\n                    </button>\n                </td>\n            `,i.appendChild(r)}),e.innerHTML="",e.appendChild(i),this.attachRowEventListeners(),this.updateStats(),this.renderPagination(),this.updateBatchButtons(),this.updateSelectAllCheckbox()}attachRowEventListeners(){document.querySelectorAll(".row-checkbox").forEach(e=>{e.addEventListener("change",e=>{const t=parseInt(e.target.dataset.id);this.handleCheckbox(t,e.target.checked)})}),document.querySelectorAll(".btn-edit").forEach(e=>{e.addEventListener("click",e=>{const t=parseInt(e.currentTarget.dataset.id);this.handleEdit(t)})}),document.querySelectorAll(".btn-delete").forEach(e=>{e.addEventListener("click",e=>{const t=parseInt(e.currentTarget.dataset.id);this.handleDelete(t)})})}updateStats(){const e=document.getElementById("totalEmployees"),t=document.getElementById("showingCount"),a=document.getElementById("totalCount");e&&(e.textContent=this.data.length),t&&(t.textContent=this.filteredData.length),a&&(a.textContent=this.data.length)}updateBatchButtons(){const e=document.getElementById("btnBatchDelete"),t=document.getElementById("btnBatchExport"),a=document.getElementById("selectedCount"),r=this.selectedIds.size>0;e&&(e.disabled=!r),t&&(t.disabled=!r),a&&(r?(a.textContent=`${this.selectedIds.size} selected`,a.style.display="inline-block"):a.style.display="none")}updateSelectAllCheckbox(){const e=document.getElementById("selectAll");if(!e)return;const t=(this.currentPage-1)*this.pageSize,a=t+this.pageSize,r=this.filteredData.slice(t,a),n=r.length>0&&r.every(e=>this.selectedIds.has(e.id));e.checked=n}updateTableCheckboxes(){document.querySelectorAll(".row-checkbox").forEach(e=>{const t=parseInt(e.dataset.id);e.checked=this.selectedIds.has(t)})}renderPagination(){const e=Math.ceil(this.filteredData.length/this.pageSize),t=document.getElementById("pagination");if(!t||e<=1)return void(t&&(t.innerHTML=""));let a="";a+=`<li class="page-item ${1===this.currentPage?"disabled":""}">\n            <button class="page-link" data-page="${this.currentPage-1}">Previous</button>\n        </li>`;for(let r=1;r<=e;r++)1===r||r===e||r>=this.currentPage-1&&r<=this.currentPage+1?a+=`<li class="page-item ${r===this.currentPage?"active":""}">\n                    <button class="page-link" data-page="${r}">${r}</button>\n                </li>`:r!==this.currentPage-2&&r!==this.currentPage+2||(a+='<li class="page-item disabled"><span class="page-link">...</span></li>');a+=`<li class="page-item ${this.currentPage===e?"disabled":""}">\n            <button class="page-link" data-page="${this.currentPage+1}">Next</button>\n        </li>`,t.innerHTML=a,t.querySelectorAll("button[data-page]").forEach(t=>{t.addEventListener("click",()=>{const a=parseInt(t.dataset.page);a>=1&&a<=e&&(this.currentPage=a,this.render())})})}showNotification(e,t){window.showNotification&&window.showNotification(e,t)}},V=new class{constructor(){this.formData={},this.currentStep=1,this.validationRules=this.setupValidation()}initialize(){this.setupEventListeners(),this.loadSavedData(),this.enableAutoSave()}setupValidation(){return{productName:{required:!0,minLength:3},category:{required:!0},price:{required:!0,min:0},email:{required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/}}}setupEventListeners(){document.querySelectorAll("#model2Page input, #model2Page select, #model2Page textarea").forEach(e=>{e.addEventListener("blur",e=>this.validateField(e.target)),e.addEventListener("input",e=>{this.formData[e.target.id||e.target.name]=e.target.value})});const e=document.getElementById("saveProductBtn");e&&e.addEventListener("click",e=>{e.preventDefault(),this.handleSubmit()});const t=document.getElementById("resetFormBtn");t&&t.addEventListener("click",e=>{e.preventDefault(),this.handleReset()}),this.addAutoComplete()}validateField(e){const t=e.id||e.name,a=e.value,r=this.validationRules[t];if(!r)return!0;let n=!0,i="";if(r.required&&!a?(n=!1,i="This field is required"):r.minLength&&a.length<r.minLength?(n=!1,i=`Minimum ${r.minLength} characters required`):r.min&&parseFloat(a)<r.min?(n=!1,i=`Value must be at least ${r.min}`):r.pattern&&!r.pattern.test(a)&&(n=!1,i="Invalid format"),n)e.classList.remove("is-invalid"),e.classList.add("is-valid");else{e.classList.remove("is-valid"),e.classList.add("is-invalid");let t=e.nextElementSibling;t&&t.classList.contains("invalid-feedback")||(t=document.createElement("div"),t.className="invalid-feedback",e.parentNode.appendChild(t)),t.textContent=i}return n}handleSubmit(){const e={name:document.getElementById("productName")?.value||"",sku:document.getElementById("skuCode")?.value||"",category:document.getElementById("productCategory")?.value||"",brand:document.getElementById("productBrand")?.value||"",description:document.getElementById("productDescription")?.value||""};if(document.getElementById("productWeight"),document.getElementById("productDimensions"),document.getElementById("productColor"),document.getElementById("productMaterial"),document.getElementById("feature1"),document.getElementById("feature2"),document.getElementById("feature3"),document.getElementById("costPrice"),document.getElementById("sellingPrice"),document.getElementById("discountPercentage"),document.getElementById("taxRate"),document.getElementById("availableSwitch"),!e.name){this.showErrorMessage("Product name is required");const e=document.querySelector('a[href="#basicInfo"]');return void(e&&e.click())}const t=document.getElementById("saveProductBtn");if(t){const e=t.innerHTML;t.innerHTML='<i class="fas fa-spinner fa-spin me-2"></i>Saving...',t.disabled=!0,setTimeout(()=>{t.innerHTML=e,t.disabled=!1,this.showSuccessMessage("Product saved successfully!"),localStorage.removeItem("model2_formData")},1500)}}async handleReset(){const{confirmModal:e}=await function(e){function t(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return Promise.resolve().then(a=>{for(const e of a||[])"rejected"===e.status&&t(e.reason);return e().catch(t)})}(async()=>{const{confirmModal:e}=await Promise.resolve().then(()=>I);return{confirmModal:e}});await e.show({type:"warning",title:"Reset Form",message:"Are you sure you want to reset the form? All unsaved data will be lost.",okText:"Reset",cancelText:"Cancel",okClass:"btn-warning"})&&(this.formData={},localStorage.removeItem("model2_formData"),document.querySelectorAll("#model2Page input, #model2Page select, #model2Page textarea").forEach(e=>{e.classList.remove("is-valid","is-invalid"),"checkbox"===e.type?e.checked=!1:e.value=""}),document.querySelectorAll("#model2Page select").forEach(e=>{e.selectedIndex=0}),this.showSuccessMessage("Form reset successfully!"))}loadSavedData(){const e=localStorage.getItem("model2_formData");e&&(this.formData=JSON.parse(e),Object.keys(this.formData).forEach(e=>{const t=document.getElementById(e)||document.querySelector(`[name="${e}"]`);t&&(t.value=this.formData[e])}))}enableAutoSave(){setInterval(()=>{Object.keys(this.formData).length>0&&localStorage.setItem("model2_formData",JSON.stringify(this.formData))},3e4)}addAutoComplete(){const e=document.getElementById("category");if(e){const t=["Electronics","Clothing","Food","Books","Toys","Sports"];e.addEventListener("input",e=>{const a=e.target.value.toLowerCase();a.length<2||t.filter(e=>e.toLowerCase().includes(a))})}}showSuccessMessage(e){"undefined"!=typeof RedAdminUtils&&RedAdminUtils.showNotification?RedAdminUtils.showNotification("success",e):alert(e)}showErrorMessage(e){"undefined"!=typeof RedAdminUtils&&RedAdminUtils.showNotification?RedAdminUtils.showNotification("danger",e):alert(e)}};"undefined"!=typeof window&&(window.model2=V);const _=new class{constructor(){this.charts={},this.realTimeInterval=null,this.currentData=this.generateSampleData()}initialize(){this.initializeDateRange(),this.setupEventListeners(),this.initializeAllCharts(),this.updateStats(),this.startRealTimeUpdates()}generateSampleData(){const e=[],t=[];for(let a=6;a>=0;a--){const r=new Date;r.setDate(r.getDate()-a),e.push(r.toLocaleDateString("en-US",{month:"short",day:"numeric"})),t.push(Math.floor(5e3*Math.random())+1e4)}return{labels:e,revenue:t,categories:{labels:["Electronics","Clothing","Food","Books","Sports"],data:[35,25,20,12,8]},monthly:{labels:["Jan","Feb","Mar","Apr","May","Jun"],thisYear:[45e3,52e3,48e3,61e3,58e3,67e3],lastYear:[38e3,42e3,45e3,51e3,49e3,55e3]},performance:{labels:["Sales","Support","Marketing","Development","Quality"],data:[85,92,78,88,95]}}}initializeDateRange(){const e=new Date,t=new Date;t.setDate(e.getDate()-7);const a=document.getElementById("fromDate"),r=document.getElementById("toDate");a&&(a.valueAsDate=t),r&&(r.valueAsDate=e)}setupEventListeners(){const e=document.getElementById("btnRefreshCharts");e&&e.addEventListener("click",()=>this.refreshAllCharts());const t=document.getElementById("btnExportCharts");t&&t.addEventListener("click",()=>this.exportAllCharts()),["Line","Pie","Bar","Radar"].forEach(e=>{const t=document.getElementById(`btnExport${e}Chart`);t&&t.addEventListener("click",()=>this.exportChart(e.toLowerCase()))});const a=document.getElementById("quickDateRange");a&&a.addEventListener("change",e=>this.handleQuickDateRange(e.target.value));const r=document.getElementById("btnApplyDateRange");r&&r.addEventListener("click",()=>this.applyDateRange());const n=document.getElementById("realTimeToggle");n&&n.addEventListener("change",e=>{e.target.checked?this.startRealTimeUpdates():this.stopRealTimeUpdates()})}initializeAllCharts(){"undefined"!=typeof Chart&&(this.initLineChart(),this.initPieChart(),this.initBarChart(),this.initRadarChart())}initLineChart(){const e=document.getElementById("lineChart");if(!e)return;const t=e.getContext("2d");this.charts.line=new Chart(t,{type:"line",data:{labels:this.currentData.labels,datasets:[{label:"Revenue",data:this.currentData.revenue,borderColor:"#dc2626",backgroundColor:"rgba(220, 38, 38, 0.1)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0},tooltip:{callbacks:{label:e=>`Revenue: $${e.parsed.y.toLocaleString()}`}}},scales:{y:{beginAtZero:!0,ticks:{callback:e=>"$"+e.toLocaleString()}}}}})}initPieChart(){const e=document.getElementById("pieChart");if(!e)return;const t=e.getContext("2d");this.charts.pie=new Chart(t,{type:"pie",data:{labels:this.currentData.categories.labels,datasets:[{data:this.currentData.categories.data,backgroundColor:["#dc2626","#3b82f6","#10b981","#f59e0b","#8b5cf6"]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})}initBarChart(){const e=document.getElementById("barChart");if(!e)return;const t=e.getContext("2d");this.charts.bar=new Chart(t,{type:"bar",data:{labels:this.currentData.monthly.labels,datasets:[{label:"2024",data:this.currentData.monthly.thisYear,backgroundColor:"#dc2626"},{label:"2023",data:this.currentData.monthly.lastYear,backgroundColor:"#9ca3af"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0}},scales:{y:{beginAtZero:!0,ticks:{callback:e=>"$"+e/1e3+"k"}}}}})}initRadarChart(){const e=document.getElementById("radarChart");if(!e)return;const t=e.getContext("2d");this.charts.radar=new Chart(t,{type:"radar",data:{labels:this.currentData.performance.labels,datasets:[{label:"Performance Score",data:this.currentData.performance.data,borderColor:"#dc2626",backgroundColor:"rgba(220, 38, 38, 0.2)"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0}},scales:{r:{beginAtZero:!0,max:100}}}})}updateStats(){const e=this.currentData.revenue.reduce((e,t)=>e+t,0);document.getElementById("statRevenue").textContent="$"+e.toLocaleString(),document.getElementById("statRevenueChange").textContent="+12.5%",document.getElementById("statUsers").textContent="2,847",document.getElementById("statUsersChange").textContent="+8.2%",document.getElementById("statConversion").textContent="3.24%",document.getElementById("statConversionChange").textContent="-0.3%",document.getElementById("statAvgOrder").textContent="$"+(e/100).toFixed(0),document.getElementById("statAvgOrderChange").textContent="+5.1%"}refreshAllCharts(){this.currentData=this.generateSampleData(),Object.keys(this.charts).forEach(e=>{this.charts[e]&&(this.charts[e].data.labels=this.currentData.labels||this.charts[e].data.labels,this.charts[e].update())}),this.updateStats(),this.showNotification("success","Charts refreshed successfully")}exportChart(e){const t=this.charts[e];if(!t)return;const a=t.toBase64Image(),r=document.createElement("a");r.download=`chart-${e}-${Date.now()}.png`,r.href=a,r.click(),this.showNotification("success",`${e.charAt(0).toUpperCase()+e.slice(1)} chart exported`)}exportAllCharts(){Object.keys(this.charts).forEach(e=>{setTimeout(()=>this.exportChart(e),100*Object.keys(this.charts).indexOf(e))}),this.showNotification("success","All charts exported successfully")}handleQuickDateRange(e){const t=new Date;let a=new Date;switch(e){case"today":a=new Date;break;case"week":a.setDate(t.getDate()-7);break;case"month":a.setDate(t.getDate()-30);break;case"year":a.setFullYear(t.getFullYear()-1);break;default:return}document.getElementById("fromDate").valueAsDate=a,document.getElementById("toDate").valueAsDate=t}applyDateRange(){const e=document.getElementById("fromDate").value,t=document.getElementById("toDate").value;e&&t?(this.refreshAllCharts(),this.showNotification("success","Date range applied")):this.showNotification("warning","Please select both dates")}startRealTimeUpdates(){this.realTimeInterval||(this.realTimeInterval=setInterval(()=>{const e=document.getElementById("liveUsers"),t=document.getElementById("liveOrders"),a=document.getElementById("liveRevenue");e&&(e.textContent=Math.floor(100*Math.random())+150),t&&(t.textContent=Math.floor(10*Math.random())+5),a&&(a.textContent=(500*Math.random()+200).toFixed(2)),e&&t&&a||this.stopRealTimeUpdates()},2e3))}stopRealTimeUpdates(){this.realTimeInterval&&(clearInterval(this.realTimeInterval),this.realTimeInterval=null)}showNotification(e,t){window.showNotification&&window.showNotification(e,t)}destroy(){this.stopRealTimeUpdates(),Object.keys(this.charts).forEach(e=>{this.charts[e]&&this.charts[e].destroy()})}};new class{constructor(){this.initializedPages=new Set,this.pageInstances={},this.initializeListeners()}initializeListeners(){window.addEventListener("pageLoaded",e=>{const t=e.detail.path;this.initializePage(t)})}shouldReinitialize(e){if(["employeecrud","assetcrud","categorycrud","transactioncrud","dashboard","model1","model3"].includes(e))return!0;if(["employees","assets","categories","transactions","reports","model2","profile","settings","components","buttons"].includes(e)){const t=!this.initializedPages.has(e);return t}return!0}initializePage(e){const t=e.split("/").pop().replace(".html","");if(this.shouldReinitialize(t)){switch(t){case"dashboard":this.initializeDashboard();break;case"employees":this.initializeEmployees();break;case"employeecrud":this.initializeEmployeeCrud();break;case"assets":this.initializeAssets();break;case"assetcrud":this.initializeAssetCrud();break;case"categories":this.initializeCategories();break;case"categorycrud":this.initializeCategoryCrud();break;case"transactions":this.initializeTransactions();break;case"transactioncrud":this.initializeTransactionCrud();break;case"reports":this.initializeReports();break;case"profile":this.initializeProfile();break;case"settings":this.initializeSettings();break;case"model1":this.initializeModel1();break;case"model2":this.initializeModel2();break;case"model3":this.initializeModel3();break;case"login":case"register":case"forgot-password":case"reset-password":this.initializeAuthPages()}["employeecrud","assetcrud","categorycrud","transactioncrud"].includes(t)||this.initializedPages.add(t),this.initializePasswordToggles()}}initializeDashboard(){try{L.initialize()}catch(e){}}initializeEmployees(){try{D.initialize()}catch(e){}}initializeEmployeeCrud(){try{M.initialize()}catch(e){}}initializeAssets(){try{P.initialize()}catch(e){}}initializeAssetCrud(){try{R.initialize()}catch(e){}}initializeCategories(){try{$.initialize()}catch(e){}}initializeCategoryCrud(){try{N.initialize()}catch(e){}}initializeTransactions(){try{q.initialize()}catch(e){}}initializeTransactionCrud(){try{F.initialize()}catch(e){}}initializeReports(){try{U.initialize()}catch(e){}}initializeProfile(){try{j.initialize()}catch(e){}}initializeSettings(){try{H.initialize()}catch(e){}}initializeModel1(){try{O.initialize()}catch(e){}}initializeModel2(){try{V.initialize()}catch(e){}}initializeModel3(){try{_.initialize()}catch(e){}}initializeAuthPages(){}initializePasswordToggles(){const e=document.querySelectorAll('.password-toggle, .password-toggle-btn, [data-toggle="password"]');0!==e.length&&e.forEach(e=>{const t=e.cloneNode(!0);e.parentNode.replaceChild(t,e),t.addEventListener("click",function(e){e.preventDefault();const t=this.closest(".form-floating, .input-group"),a=t?t.querySelector('input[type="password"], input[type="text"]'):this.previousElementSibling||this.parentElement.querySelector('input[type="password"], input[type="text"]');if(!a)return;const r=this.querySelector("i, .fa-eye, .fa-eye-slash");"password"===a.type?(a.type="text",r&&(r.classList.remove("fa-eye"),r.classList.add("fa-eye-slash"))):(a.type="password",r&&(r.classList.remove("fa-eye-slash"),r.classList.add("fa-eye")))})})}},new class{constructor(){this.init()}init(){document.addEventListener("click",e=>{const t=e.target.closest(".breadcrumb-item a[data-route]");if(t){e.preventDefault();const a=t.getAttribute("data-route");window.router?window.router.navigate(a):window.location.href="/"+a}})}};const Y=new class{constructor(){this.isInitialized=!1,this.version="2.0.0"}async init(){if(!this.isInitialized)try{this.showLoadingScreen(),await this.initializeServices(),this.setupGlobalEvents(),await this.loadLayouts(),g.init(),this.initializeTheme(),this.setupUIHandlers(),this.isInitialized=!0,this.hideLoadingScreen(),s.emit("app:initialized")}catch(e){this.showError("Application failed to initialize")}}async initializeServices(){h.init(),s.on("auth:login-success",({user:e})=>{p.setUser(e),g.navigate("dashboard")}),s.on("auth:logout",()=>{p.clear(!0),g.navigate("login")}),s.on("auth:session-expired",()=>{f.warning("Your session has expired. Please login again."),g.navigate("login")}),s.on("notification:success",e=>{f.success(e)}),s.on("notification:error",e=>{f.error(e)}),s.on("notification:warning",e=>{f.warning(e)}),s.on("notification:info",e=>{f.info(e)})}async loadLayouts(){try{const e=await fetch("/layouts/sidebar.html"),t=await e.text(),a=document.getElementById("sidebar-container");a&&(a.innerHTML=t);const r=await fetch("/layouts/topbar.html"),n=await r.text(),i=document.getElementById("topbar-container");i&&(i.innerHTML=n)}catch(e){}}setupGlobalEvents(){let e;window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(()=>{s.emit("window:resized",{width:window.innerWidth,height:window.innerHeight})},250)}),document.addEventListener("visibilitychange",()=>{s.emit("page:visibility-changed",{hidden:document.hidden})}),window.addEventListener("beforeunload",e=>{s.emit("app:before-unload")}),document.addEventListener("keydown",e=>{this.handleKeyboardShortcuts(e)}),s.on("app:loading",e=>{e?this.showLoading():this.hideLoading()})}handleKeyboardShortcuts(e){["INPUT","TEXTAREA","SELECT"].includes(e.target.tagName)||((e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),this.focusSearch()),(e.ctrlKey||e.metaKey)&&"b"===e.key&&(e.preventDefault(),this.toggleSidebar()),(e.ctrlKey||e.metaKey)&&"l"===e.key&&(e.preventDefault(),h.checkAuth()&&h.lockScreen()),"Escape"===e.key&&this.handleEscape())}setupUIHandlers(){document.addEventListener("click",e=>{e.target.closest('[data-action="toggle-sidebar"]')&&(e.preventDefault(),this.toggleSidebar())}),document.addEventListener("click",e=>{e.target.closest('[data-action="toggle-theme"]')&&(e.preventDefault(),this.toggleTheme())}),document.addEventListener("click",e=>{e.target.closest('[data-action="show-notifications"]')&&(e.preventDefault(),this.showNotifications())}),document.addEventListener("click",e=>{e.target.closest('[data-action="show-inbox"]')&&(e.preventDefault(),w.show())}),document.addEventListener("click",e=>{e.target.closest('[data-action="toggle-search"]')&&(e.preventDefault(),x.show())}),document.addEventListener("click",e=>{e.target.closest('[data-action="toggle-fullscreen"]')&&(e.preventDefault(),this.toggleFullscreen())}),document.addEventListener("click",e=>{e.target.closest('[data-action="lock-screen"]')&&(e.preventDefault(),b.lock()),e.target.closest('[data-action="logout"]')&&(e.preventDefault(),this.handleLogout())}),document.addEventListener("click",e=>{e.target.matches(".sidebar-overlay")&&this.toggleSidebar()}),document.addEventListener("click",e=>{const t=e.target.closest(".submenu-toggle");if(t){e.preventDefault();const a=t.parentElement,r=a.querySelector(".submenu"),n=a.classList.contains("open");document.querySelectorAll(".has-submenu.open").forEach(e=>{e.classList.remove("open");const t=e.querySelector(".submenu");t&&t.classList.remove("show")}),n||(a.classList.add("open"),r&&r.classList.add("show"))}})}initializeTheme(){const e=p.getTheme();document.documentElement.setAttribute("data-theme",e)}toggleSidebar(){const e=document.querySelector(".sidebar-container"),t=document.querySelector(".sidebar-overlay"),a=document.body;window.innerWidth<=1024?(e?.classList.toggle("show"),t?.classList.toggle("show")):(e?.classList.toggle("collapsed"),a.classList.toggle("sidebar-collapsed"),p.toggleSidebar())}toggleTheme(){const e="light"===p.getTheme()?"dark":"light";p.setTheme(e)}focusSearch(){const e=document.querySelector(".search-box input");e&&e.focus()}showNotifications(){k.show()}toggleFullscreen(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(e=>{f.error(`Error attempting to enable fullscreen: ${e.message}`)})}handleEscape(){document.querySelectorAll(".modal.show").forEach(e=>{const t=bootstrap.Modal.getInstance(e);t&&t.hide()}),document.querySelectorAll(".dropdown-menu.show").forEach(e=>{e.classList.remove("show")}),window.innerWidth<=1024&&document.querySelector(".sidebar-container.show")&&this.toggleSidebar()}async handleLogout(){try{await h.logout(),f.success("Logged out successfully")}catch(e){f.error("Logout failed")}}showLoadingScreen(){document.body.insertAdjacentHTML("beforeend",'\n      <div id="app-loading-screen" class="loading-screen">\n        <div class="loading-content">\n          <div class="spinner-border text-primary" role="status">\n            <span class="visually-hidden">Loading...</span>\n          </div>\n          <h4 class="mt-3">RedAdmin Pro</h4>\n          <p class="text-muted">Loading application...</p>\n        </div>\n      </div>\n    ')}hideLoadingScreen(){const e=document.getElementById("app-loading-screen");e&&(e.classList.add("fade-out"),setTimeout(()=>e.remove(),300))}showLoading(){let e=document.getElementById("page-loader");e||(e=document.createElement("div"),e.id="page-loader",e.className="page-loader",e.innerHTML='<div class="spinner-border text-primary" role="status"></div>',document.body.appendChild(e)),e.classList.add("show")}hideLoading(){const e=document.getElementById("page-loader");e&&e.classList.remove("show")}showError(e){f.error(e)}getVersion(){return this.version}getInfo(){return{version:this.version,initialized:this.isInitialized,currentRoute:g.getCurrentRoute(),user:p.getUser(),theme:p.getTheme()}}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>Y.init()):Y.init(),window.RedAdminApp=Y}}});
