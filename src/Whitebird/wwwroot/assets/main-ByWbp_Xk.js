function e(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}import{a as t}from"./vendor-DDVHPqWP.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const s="auth_token",n="refresh_token",a="csrf_token",i="user_data";const o=new class{constructor(){this.prefix="redadmin_",this.storage=window.localStorage,this.sessionStorage=window.sessionStorage}getPrefixedKey(e){return"".concat(this.prefix).concat(e)}setItem(e,t,s=!1){try{const n=this.getPrefixedKey(e),a=JSON.stringify(t);return s?this.sessionStorage.setItem(n,a):this.storage.setItem(n,a),!0}catch(n){return!1}}getItem(e,t=!1){try{const s=this.getPrefixedKey(e),n=t?this.sessionStorage.getItem(s):this.storage.getItem(s);return n?JSON.parse(n):null}catch(s){return null}}removeItem(e,t=!1){try{const s=this.getPrefixedKey(e);return t?this.sessionStorage.removeItem(s):this.storage.removeItem(s),!0}catch(s){return!1}}clear(e=!1){try{const t=e?this.sessionStorage:this.storage;return Object.keys(t).forEach(e=>{e.startsWith(this.prefix)&&t.removeItem(e)}),!0}catch(t){return!1}}isAvailable(){try{const e="__storage_test__";return this.storage.setItem(e,"test"),this.storage.removeItem(e),!0}catch(e){return!1}}getAllKeys(e=!1){const t=e?this.sessionStorage:this.storage;return Object.keys(t).filter(e=>e.startsWith(this.prefix)).map(e=>e.replace(this.prefix,""))}getStorageSize(e=!1){const t=e?this.sessionStorage:this.storage;let s=0;for(let n in t)t.hasOwnProperty(n)&&n.startsWith(this.prefix)&&(s+=t[n].length+n.length);return s}setToken(e){return this.setItem(s,e)}getToken(){return this.getItem(s)}removeToken(){return this.removeItem(s)}setRefreshToken(e){return this.setItem(n,e)}getRefreshToken(){return this.getItem(n)}removeRefreshToken(){return this.removeItem(n)}setCsrfToken(e){return this.setItem(a,e,!0)}getCsrfToken(){return this.getItem(a,!0)}setUser(e){return this.setItem(i,e)}getUser(){return this.getItem(i)}removeUser(){return this.removeItem(i)}clearAuth(){return this.removeToken(),this.removeRefreshToken(),this.removeUser(),this.removeItem(a,!0),!0}isAuthenticated(){return!!this.getToken()}setTempData(e,t){return this.setItem(e,t,!0)}getTempData(e){return this.getItem(e,!0)}removeTempData(e){return this.removeItem(e,!0)}};const r=new class{constructor(){this.events={}}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),()=>this.off(e,t)}once(e,t){const s=(...n)=>{t(...n),this.off(e,s)};this.on(e,s)}off(e,t){this.events[e]&&(this.events[e]=this.events[e].filter(e=>e!==t),0===this.events[e].length&&delete this.events[e])}emit(e,t){this.events[e]&&this.events[e].forEach(e=>{try{e(t)}catch(s){}})}getEvents(){return Object.keys(this.events)}clear(){this.events={}}clearEvent(e){delete this.events[e]}listenerCount(e){return this.events[e]?this.events[e].length:0}},c="https://api.redadmin.local/v1";const l=new class{constructor(){this.axiosInstance=null,this.requestQueue=[],this.isRefreshing=!1,this.initializeAxios()}initializeAxios(){this.axiosInstance=t.create({baseURL:c,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"}}),this.setupRequestInterceptor(),this.setupResponseInterceptor()}setupRequestInterceptor(){this.axiosInstance.interceptors.request.use(e=>{const t=o.getToken();t&&(e.headers.Authorization="Bearer ".concat(t));const s=o.getCsrfToken();return s&&(e.headers["X-CSRF-Token"]=s),e.metadata={startTime:Date.now()},e},e=>Promise.reject(e))}setupResponseInterceptor(){this.axiosInstance.interceptors.response.use(e=>{const t=Date.now()-e.config.metadata.startTime;return e.duration=t,r.emit("api:success",{url:e.config.url,method:e.config.method,duration:t}),e},async e=>{const t=e.config;if(!e.response)return r.emit("api:network-error",e),Promise.reject({message:"Network error. Please check your connection.",type:"network"});if(401===e.response.status&&!t._retry){if(this.isRefreshing)return new Promise((e,t)=>{this.requestQueue.push({resolve:e,reject:t})}).then(e=>(t.headers.Authorization="Bearer ".concat(e),this.axiosInstance(t))).catch(e=>Promise.reject(e));t._retry=!0,this.isRefreshing=!0;try{const e=await this.refreshToken();return this.isRefreshing=!1,this.processQueue(null,e),t.headers.Authorization="Bearer ".concat(e),this.axiosInstance(t)}catch(s){return this.isRefreshing=!1,this.processQueue(s,null),o.clearAuth(),r.emit("auth:session-expired"),Promise.reject(s)}}return 403===e.response.status&&r.emit("api:forbidden",e.response),404===e.response.status&&r.emit("api:not-found",e.response),e.response.status>=500&&r.emit("api:server-error",e.response),Promise.reject(this.normalizeError(e))})}processQueue(e,t=null){this.requestQueue.forEach(s=>{e?s.reject(e):s.resolve(t)}),this.requestQueue=[]}async refreshToken(){const e=o.getRefreshToken();if(!e)throw new Error("No refresh token available");const s=await t.post("".concat(c,"/auth/refresh"),{refresh_token:e}),{token:n,refresh_token:a}=s.data;return o.setToken(n),o.setRefreshToken(a),n}normalizeError(e){var t;return e.response?{message:(null==(t=e.response.data)?void 0:t.message)||"An error occurred",status:e.response.status,data:e.response.data,type:"response"}:e.request?{message:"No response received from server",type:"request"}:{message:e.message||"Unknown error occurred",type:"unknown"}}async get(e,t={}){try{return(await this.axiosInstance.get(e,t)).data}catch(s){throw s}}async post(e,t={},s={}){try{return(await this.axiosInstance.post(e,t,s)).data}catch(n){throw n}}async put(e,t={},s={}){try{return(await this.axiosInstance.put(e,t,s)).data}catch(n){throw n}}async patch(e,t={},s={}){try{return(await this.axiosInstance.patch(e,t,s)).data}catch(n){throw n}}async delete(e,t={}){try{return(await this.axiosInstance.delete(e,t)).data}catch(s){throw s}}async uploadFile(e,t,s=null){const n=new FormData;n.append("file",t);const a={headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{if(s){const t=Math.round(100*e.loaded/e.total);s(t)}}};try{return(await this.axiosInstance.post(e,n,a)).data}catch(i){throw i}}async downloadFile(e,t){try{const s=await this.axiosInstance.get(e,{responseType:"blob"}),n=new Blob([s.data]),a=document.createElement("a");return a.href=window.URL.createObjectURL(n),a.download=t,a.click(),window.URL.revokeObjectURL(a.href),!0}catch(s){throw s}}cancelPendingRequests(){r.emit("api:requests-canceled")}getInstance(){return this.axiosInstance}},d="testuser@redadmin.local",u="Test@1234";const h=new class{constructor(){this.currentUser=null,this.isAuthenticated=!1,this.tokenExpiryTimer=null}init(){const e=o.getToken(),t=o.getUser();e&&t&&(this.currentUser=t,this.isAuthenticated=!0,this.startTokenExpiryCheck(),r.emit("auth:initialized",{user:t}))}async login(e,t,s=!1){try{if(e===d&&t===u)return this.handleTestAccountLogin(s);const n=await l.post("/auth/login",{username:e,password:t,remember_me:s});return this.handleLoginSuccess(n,s)}catch(n){throw r.emit("auth:login-failed",n),n}}handleTestAccountLogin(e){const t={id:1,username:d,email:d,firstName:"Test",lastName:"User",role:"admin",avatar:null,permissions:["*"]},s="test_token_"+Date.now(),n="test_refresh_"+Date.now();return o.setToken(s),o.setRefreshToken(n),o.setUser(t),this.currentUser=t,this.isAuthenticated=!0,this.startTokenExpiryCheck(),r.emit("auth:login-success",{user:t,isTestAccount:!0}),{success:!0,user:t,token:s,message:"Test account login successful"}}handleLoginSuccess(e,t){const{token:s,refresh_token:n,user:a}=e;return o.setToken(s),o.setRefreshToken(n),o.setUser(a),this.currentUser=a,this.isAuthenticated=!0,this.startTokenExpiryCheck(),r.emit("auth:login-success",{user:a}),{success:!0,user:a,token:s}}async logout(){try{this.isTestAccount()||await l.post("/auth/logout")}catch(e){}finally{this.clearAuthData(),r.emit("auth:logout")}}async register(e){try{const t=await l.post("/auth/register",e);return r.emit("auth:register-success",t),t}catch(t){throw r.emit("auth:register-failed",t),t}}async forgotPassword(e){try{const t=await l.post("/auth/forgot-password",{email:e});return r.emit("auth:forgot-password-sent",{email:e}),t}catch(t){throw r.emit("auth:forgot-password-failed",t),t}}async resetPassword(e,t){try{const s=await l.post("/auth/reset-password",{token:e,password:t});return r.emit("auth:password-reset-success"),s}catch(s){throw r.emit("auth:password-reset-failed",s),s}}async changePassword(e,t){try{const s=await l.post("/auth/change-password",{current_password:e,new_password:t});return r.emit("auth:password-changed"),s}catch(s){throw s}}async refreshToken(){try{const e=o.getRefreshToken();if(!e)throw new Error("No refresh token available");const t=await l.post("/auth/refresh",{refresh_token:e});return o.setToken(t.token),o.setRefreshToken(t.refresh_token),t.token}catch(e){throw this.clearAuthData(),r.emit("auth:session-expired"),e}}getCurrentUser(){return this.currentUser||(this.currentUser=o.getUser()),this.currentUser}updateCurrentUser(e){this.currentUser={...this.currentUser,...e},o.setUser(this.currentUser),r.emit("auth:user-updated",this.currentUser)}checkAuth(){const e=o.getToken(),t=o.getUser();return this.isAuthenticated=!(!e||!t),this.isAuthenticated}isTestAccount(){const e=this.getCurrentUser();return(null==e?void 0:e.username)===d}hasPermission(e){var t,s;const n=this.getCurrentUser();return!!n&&(!!(null==(t=n.permissions)?void 0:t.includes("*"))||((null==(s=n.permissions)?void 0:s.includes(e))||!1))}hasRole(e){const t=this.getCurrentUser();return(null==t?void 0:t.role)===e}clearAuthData(){o.clearAuth(),this.currentUser=null,this.isAuthenticated=!1,this.stopTokenExpiryCheck()}startTokenExpiryCheck(){this.stopTokenExpiryCheck(),this.tokenExpiryTimer=setInterval(()=>{this.checkAuth()||(this.clearAuthData(),r.emit("auth:session-expired"))},3e5)}stopTokenExpiryCheck(){this.tokenExpiryTimer&&(clearInterval(this.tokenExpiryTimer),this.tokenExpiryTimer=null)}lockScreen(){o.setTempData("screen_locked",!0),r.emit("auth:screen-locked")}async unlockScreen(e){try{const t=this.getCurrentUser();if(this.isTestAccount()&&e===u)return o.removeTempData("screen_locked"),r.emit("auth:screen-unlocked"),{success:!0};const s=await l.post("/auth/unlock",{user_id:t.id,password:e});return o.removeTempData("screen_locked"),r.emit("auth:screen-unlocked"),s}catch(t){throw t}}isScreenLocked(){return!0===o.getTempData("screen_locked")}};class m{static createElement(e,t={},s=""){const n=document.createElement(e);return Object.entries(t).forEach(([e,t])=>{if("className"===e)n.className=t;else if("dataset"===e)Object.entries(t).forEach(([e,t])=>{n.dataset[e]=t});else if(e.startsWith("on")){const s=e.substring(2).toLowerCase();n.addEventListener(s,t)}else n.setAttribute(e,t)}),s&&("string"==typeof s?n.textContent=s:s instanceof Node&&n.appendChild(s)),n}static qs(e,t=document){return t.querySelector(e)}static qsa(e,t=document){return Array.from(t.querySelectorAll(e))}static on(e,t,s,n){e.addEventListener(t,e=>{const t=e.target.closest(s);t&&n.call(t,e)})}static debounce(e,t=300){let s;return function(...n){clearTimeout(s),s=setTimeout(()=>{clearTimeout(s),e(...n)},t)}}static throttle(e,t=300){let s;return function(...n){s||(e(...n),s=!0,setTimeout(()=>s=!1,t))}}static sanitizeHTML(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}static insertHTML(e,t,s="beforeend"){const n=document.createElement("template");switch(n.innerHTML=t.trim(),s){case"beforebegin":e.parentNode.insertBefore(n.content,e);break;case"afterbegin":e.insertBefore(n.content,e.firstChild);break;case"beforeend":e.appendChild(n.content);break;case"afterend":e.parentNode.insertBefore(n.content,e.nextSibling)}}static remove(e){e&&e.parentNode&&e.parentNode.removeChild(e)}static toggleClass(e,t,s){void 0!==s?e.classList.toggle(t,s):e.classList.toggle(t)}static getOffset(e){const t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset,width:t.width,height:t.height}}static scrollTo(e,t={}){e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest",...t})}static createFragment(e){const t=document.createElement("template");return t.innerHTML=e.trim(),t.content}static batchUpdate(e){requestAnimationFrame(()=>{e()})}static waitForElement(e,t=5e3){return new Promise((s,n)=>{const a=this.qs(e);if(a)return void s(a);const i=new MutationObserver(()=>{const t=this.qs(e);t&&(i.disconnect(),s(t))});i.observe(document.body,{childList:!0,subtree:!0}),setTimeout(()=>{i.disconnect(),n(new Error("Element ".concat(e," not found within ").concat(t,"ms")))},t)})}static isInViewport(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}static getStyle(e,t){return window.getComputedStyle(e).getPropertyValue(t)}static setStyles(e,t){Object.entries(t).forEach(([t,s])=>{e.style[t]=s})}}const g=new class{constructor(){this.routes=new Map,this.currentRoute=null,this.defaultRoute="dashboard",this.authPages=["login","register","forgot-password","reset-password"],this.isInitialized=!1}init(){this.isInitialized||(this.registerRoutes(),this.setupEventListeners(),this.handleInitialRoute(),this.isInitialized=!0)}registerRoutes(){this.register("dashboard",{title:"Dashboard",template:"pages/dashboard.html",requiresAuth:!0,onEnter:()=>this.loadDashboardData()}),this.register("profile",{title:"User Profile",template:"pages/profile.html",requiresAuth:!0}),this.register("settings",{title:"Settings",template:"pages/settings.html",requiresAuth:!0}),this.register("model1",{title:"Data Table",template:"pages/model1.html",requiresAuth:!0}),this.register("model2",{title:"Forms",template:"pages/model2.html",requiresAuth:!0}),this.register("model3",{title:"Analytics",template:"pages/model3.html",requiresAuth:!0}),this.register("employees",{title:"Employees - RedAdmin Pro",template:"pages/employees.html",requiresAuth:!0}),this.register("employeescreate",{title:"Create Employee - RedAdmin Pro",template:"pages/employeecrud.html",requiresAuth:!0,onEnter:()=>{sessionStorage.setItem("crudMode","create"),sessionStorage.setItem("crudModule","employee"),sessionStorage.removeItem("crudId")}}),this.register("employeesupdate",{title:"Update Employee - RedAdmin Pro",template:"pages/employeecrud.html",requiresAuth:!0,onEnter:()=>{sessionStorage.setItem("crudMode","update"),sessionStorage.setItem("crudModule","employee")}}),this.register("assets",{title:"Assets - RedAdmin Pro",template:"pages/assets.html",requiresAuth:!0}),this.register("assetscreate",{title:"Create Asset - RedAdmin Pro",template:"pages/assetcrud.html",requiresAuth:!0,onEnter:()=>{sessionStorage.setItem("crudMode","create"),sessionStorage.setItem("crudModule","asset"),sessionStorage.removeItem("crudId")}}),this.register("assetsupdate",{title:"Update Asset - RedAdmin Pro",template:"pages/assetcrud.html",requiresAuth:!0,onEnter:()=>{sessionStorage.setItem("crudMode","update"),sessionStorage.setItem("crudModule","asset")}}),this.register("categories",{title:"Categories - RedAdmin Pro",template:"pages/categories.html",requiresAuth:!0}),this.register("categoriescreate",{title:"Create Category - RedAdmin Pro",template:"pages/categorycrud.html",requiresAuth:!0,onEnter:()=>{sessionStorage.setItem("crudMode","create"),sessionStorage.setItem("crudModule","category"),sessionStorage.removeItem("crudId")}}),this.register("categoriesupdate",{title:"Update Category - RedAdmin Pro",template:"pages/categorycrud.html",requiresAuth:!0,onEnter:()=>{sessionStorage.setItem("crudMode","update"),sessionStorage.setItem("crudModule","category")}}),this.register("transactions",{title:"Transactions - RedAdmin Pro",template:"pages/transactions.html",requiresAuth:!0}),this.register("transactionscreate",{title:"Create Transaction - RedAdmin Pro",template:"pages/transactioncrud.html",requiresAuth:!0,onEnter:()=>{sessionStorage.setItem("crudMode","create"),sessionStorage.setItem("crudModule","transaction"),sessionStorage.removeItem("crudId")}}),this.register("transactionsupdate",{title:"Update Transaction - RedAdmin Pro",template:"pages/transactioncrud.html",requiresAuth:!0,onEnter:()=>{sessionStorage.setItem("crudMode","update"),sessionStorage.setItem("crudModule","transaction")}}),this.register("reports",{title:"Reports - RedAdmin Pro",template:"pages/reports.html",requiresAuth:!0}),this.register("file-upload",{title:"File Upload - RedAdmin Pro",template:"pages/file-upload.html",requiresAuth:!0}),this.register("components",{title:"UI Components",template:"pages/components.html",requiresAuth:!0}),this.register("buttons",{title:"Buttons",template:"pages/buttons.html",requiresAuth:!0}),this.register("login",{title:"Login",template:"pages/login.html",requiresAuth:!1,layout:"auth"}),this.register("register",{title:"Register",template:"pages/register.html",requiresAuth:!1,layout:"auth"}),this.register("forgot-password",{title:"Forgot Password",template:"pages/forgot-password.html",requiresAuth:!1,layout:"auth"}),this.register("reset-password",{title:"Reset Password",template:"pages/reset-password.html",requiresAuth:!1,layout:"auth"}),this.register("lockscreen",{title:"Lock Screen",template:"pages/lockscreen.html",requiresAuth:!1,layout:"auth"}),this.register("error404",{title:"404 Not Found",template:"pages/error404.html",requiresAuth:!1,layout:"auth"}),this.register("error500",{title:"500 Server Error",template:"pages/error500.html",requiresAuth:!1,layout:"auth"}),this.register("maintenance",{title:"Maintenance",template:"pages/maintenance.html",requiresAuth:!1,layout:"auth"})}register(e,t){this.routes.set(e,t)}setupEventListeners(){window.addEventListener("popstate",e=>{const t=this.getPathFromUrl();this.loadRoute(t)}),document.addEventListener("click",e=>{const t=e.target.closest("[data-route]");if(t){e.preventDefault();const s=t.dataset.route;this.navigate(s)}})}getPathFromUrl(){return window.location.pathname.replace(/^\//,"")||this.defaultRoute}handleInitialRoute(){const e=this.getPathFromUrl();this.routes.has(e)?this.loadRoute(e,!1):""===e||"/"===e?this.loadRoute(this.defaultRoute,!1):this.loadRoute("error404",!1)}navigate(e,t=!0){let s=!0,n=null;"boolean"==typeof t?s=t:"object"==typeof t&&(s=!1!==t.pushState,n=t.id||null),n&&sessionStorage.setItem("crudId",n),s&&window.history.pushState({path:e},"","/".concat(e)),this.loadRoute(e)}async loadRoute(e,t=!0){const s=this.routes.get(e);if(s)if(!s.requiresAuth&&h.checkAuth()&&this.authPages.includes(e))this.navigate(this.defaultRoute,t);else{r.emit("app:loading",!0);try{"auth"===s.layout?this.showAuthLayout():this.showDefaultLayout(),await this.loadTemplate(s.template),document.title="".concat(s.title," - RedAdmin Pro"),this.updateActiveMenu(e),this.currentRoute=e,s.onEnter&&await s.onEnter(),r.emit("route:changed",{path:e,route:s})}catch(n){r.emit("app:error",n)}finally{r.emit("app:loading",!1)}}else this.navigate("error404",t)}async loadTemplate(e){try{const t=await fetch("/".concat(e));if(!t.ok)throw new Error("Failed to load template: ".concat(t.status));const s=await t.text(),n=document.getElementById("pageContent");n&&(n.innerHTML=s,window.dispatchEvent(new CustomEvent("pageLoaded",{detail:{path:e}})))}catch(t){throw t}}showAuthLayout(){const e=document.querySelector(".sidebar-container"),t=document.querySelector(".topbar"),s=document.querySelector(".main-content"),n=document.querySelector(".footer");e&&(e.style.display="none"),t&&(t.style.display="none"),s&&(s.style.marginLeft="0",s.style.marginTop="0"),n&&(n.style.display="none")}showDefaultLayout(){const e=document.querySelector(".sidebar-container"),t=document.querySelector(".topbar"),s=document.querySelector(".main-content"),n=document.querySelector(".footer");e&&(e.style.display="flex"),t&&(t.style.display="flex"),s&&(s.style.marginLeft="",s.style.marginTop=""),n&&(n.style.display="block")}updateActiveMenu(e){document.querySelectorAll(".sidebar-menu a").forEach(e=>{e.classList.remove("active")});const t=document.querySelector('[data-route="'.concat(e,'"]'));t&&t.classList.add("active")}async loadDashboardData(){}getCurrentRoute(){return this.currentRoute}hasRoute(e){return this.routes.has(e)}};const p=new class{constructor(){this.state={user:null,theme:"light",sidebarCollapsed:!1,notifications:[],settings:{},cache:{}},this.subscribers=new Map,this.init()}init(){this.loadPersistedState()}loadPersistedState(){const e=o.getUser(),t=o.getItem("theme")||"light",s=o.getItem("sidebar_collapsed")||!1,n=o.getItem("settings")||{};this.state={...this.state,user:e,theme:t,sidebarCollapsed:s,settings:n}}get(e){return this.state[e]}set(e,t,s=!1){const n=this.state[e];this.state[e]=t,s&&o.setItem(e,t),this.notify(e,t,n),r.emit("state:changed",{key:e,value:t,oldValue:n})}update(e,t=!1){Object.entries(e).forEach(([e,s])=>{this.set(e,s,t)})}subscribe(e,t){return this.subscribers.has(e)||this.subscribers.set(e,[]),this.subscribers.get(e).push(t),()=>{const s=this.subscribers.get(e),n=s.indexOf(t);n>-1&&s.splice(n,1)}}notify(e,t,s){const n=this.subscribers.get(e);n&&n.forEach(e=>{try{e(t,s)}catch(n){}})}clear(e=!1){this.state={user:null,theme:"light",sidebarCollapsed:!1,notifications:[],settings:{},cache:{}},e&&o.clear(),r.emit("state:cleared")}getState(){return{...this.state}}setUser(e){this.set("user",e,!0)}getUser(){return this.get("user")}setTheme(e){this.set("theme",e,!0),document.documentElement.setAttribute("data-theme",e)}getTheme(){return this.get("theme")}toggleSidebar(){const e=!this.get("sidebarCollapsed");this.set("sidebarCollapsed",e,!0)}addNotification(e){const t=this.get("notifications");t.push(e),this.set("notifications",t)}removeNotification(e){const t=this.get("notifications").filter(t=>t.id!==e);this.set("notifications",t)}cacheData(e,t,s=36e5){const n=this.get("cache");n[e]={data:t,timestamp:Date.now(),ttl:s},this.set("cache",n)}getCachedData(e){const t=this.get("cache"),s=t[e];if(!s)return null;return Date.now()-s.timestamp>s.ttl?(delete t[e],this.set("cache",t),null):s.data}clearCache(){this.set("cache",{})}};const y=new class{constructor(){this.container=null,this.init()}init(){this.container||(this.container=document.createElement("div"),this.container.id="notification-container",this.container.className="position-fixed top-0 end-0 p-3",this.container.style.zIndex="9999",document.body.appendChild(this.container))}show(e,t,s={}){const n={duration:5e3,dismissible:!0,icon:!0,...s},a="toast-"+Date.now(),i=this.getIconClass(e),o='\n      <div class="toast align-items-center text-bg-'.concat(e,' border-0" \n           id="').concat(a,'" role="alert" aria-live="assertive" aria-atomic="true">\n        <div class="d-flex">\n          <div class="toast-body">\n            ').concat(n.icon?'<i class="'.concat(i,' me-2"></i>'):"","\n            ").concat(t,"\n          </div>\n          ").concat(n.dismissible?'\n            <button type="button" class="btn-close btn-close-white me-2 m-auto" \n                    data-bs-dismiss="toast" aria-label="Close"></button>\n          ':"","\n        </div>\n      </div>\n    ");m.insertHTML(this.container,o);const r=document.getElementById(a),c=new bootstrap.Toast(r,{delay:n.duration});return c.show(),r.addEventListener("hidden.bs.toast",()=>{r.remove()}),c}getIconClass(e){const t={success:"fas fa-check-circle",danger:"fas fa-exclamation-circle",warning:"fas fa-exclamation-triangle",info:"fas fa-info-circle",primary:"fas fa-bell"};return t[e]||t.info}success(e,t={}){return this.show("success",e,t)}error(e,t={}){return this.show("danger",e,t)}warning(e,t={}){return this.show("warning",e,t)}info(e,t={}){return this.show("info",e,t)}clearAll(){this.container&&(this.container.innerHTML="")}};const f=new class{constructor(){this.isLocked=!1}lock(){localStorage.setItem("isLocked","true"),localStorage.setItem("lockScreenTime",(new Date).toISOString()),this.isLocked=!0,window.location.href="/lockscreen"}unlock(){localStorage.removeItem("isLocked"),localStorage.removeItem("lockScreenTime"),this.isLocked=!1,window.location.href="/dashboard"}isScreenLocked(){return"true"===localStorage.getItem("isLocked")}};class b{constructor(e={}){this.options={id:"modal-"+Date.now(),title:"",content:"",size:"md",centered:!0,backdrop:!0,keyboard:!0,footer:!0,closeButton:!0,buttons:[],onShow:null,onHide:null,onSubmit:null,...e},this.modal=null,this.bsModal=null,this.isVisible=!1}create(){const e='\n      <div class="modal fade" id="'.concat(this.options.id,'" tabindex="-1" \n           aria-labelledby="').concat(this.options.id,'Label" aria-hidden="true"\n           data-bs-backdrop="').concat(this.options.backdrop?"true":"static",'"\n           data-bs-keyboard="').concat(this.options.keyboard,'">\n        <div class="modal-dialog ').concat(this.getSizeClass()," ").concat(this.options.centered?"modal-dialog-centered":"",' modal-dialog-scrollable">\n          <div class="modal-content">\n            <div class="modal-header">\n              <h5 class="modal-title" id="').concat(this.options.id,'Label">').concat(this.options.title,"</h5>\n              ").concat(this.options.closeButton?'\n                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n              ':"",'\n            </div>\n            <div class="modal-body">\n              ').concat(this.options.content,"\n            </div>\n            ").concat(this.options.footer?this.createFooter():"","\n          </div>\n        </div>\n      </div>\n    "),t=document.getElementById("modals-container")||document.body;return m.insertHTML(t,e),this.modal=document.getElementById(this.options.id),this.setupEventListeners(),this}getSizeClass(){return{sm:"modal-sm",md:"",lg:"modal-lg",xl:"modal-xl",fullscreen:"modal-fullscreen"}[this.options.size]||""}createFooter(){if(0===this.options.buttons.length)return'\n        <div class="modal-footer">\n          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>\n        </div>\n      ';const e=this.options.buttons.map(e=>{const t=e.className||"btn-primary",s=e.dismiss?'data-bs-dismiss="modal"':"";return'\n        <button type="button" class="btn '.concat(t,'" data-action="').concat(e.action||"",'" ').concat(s,">\n          ").concat(e.text,"\n        </button>\n      ")}).join("");return'<div class="modal-footer">'.concat(e,"</div>")}setupEventListeners(){this.modal.addEventListener("show.bs.modal",()=>{this.isVisible=!0,this.options.onShow&&this.options.onShow(this),r.emit("modal:show",{id:this.options.id})}),this.modal.addEventListener("hide.bs.modal",()=>{this.isVisible=!1,this.options.onHide&&this.options.onHide(this),r.emit("modal:hide",{id:this.options.id})}),this.modal.addEventListener("hidden.bs.modal",()=>{r.emit("modal:hidden",{id:this.options.id})}),this.options.buttons.forEach(e=>{if(e.action&&e.onClick){const t=this.modal.querySelector('[data-action="'.concat(e.action,'"]'));t&&t.addEventListener("click",t=>e.onClick(t,this))}})}show(){return this.modal||this.create(),this.bsModal||(this.bsModal=new bootstrap.Modal(this.modal,{backdrop:this.options.backdrop,keyboard:this.options.keyboard})),this.bsModal.show(),this}hide(){return this.bsModal&&this.bsModal.hide(),this}destroy(){return this.bsModal&&this.bsModal.dispose(),this.modal&&this.modal.remove(),this.modal=null,this.bsModal=null,this}updateContent(e){const t=this.modal.querySelector(".modal-body");return t&&(t.innerHTML=e),this}updateTitle(e){const t=this.modal.querySelector(".modal-title");return t&&(t.textContent=e),this}toggle(){return this.isVisible?this.hide():this.show(),this}getElement(){return this.modal}getInstance(){return this.bsModal}}const v=new class{constructor(){this.modals=new Map}create(e){const t=new b(e);return this.modals.set(e.id||t.options.id,t),t}get(e){return this.modals.get(e)}show(e){const t=this.modals.get(e);t&&t.show()}hide(e){const t=this.modals.get(e);t&&t.hide()}destroy(e){const t=this.modals.get(e);t&&(t.destroy(),this.modals.delete(e))}destroyAll(){this.modals.forEach(e=>e.destroy()),this.modals.clear()}hideAll(){this.modals.forEach(e=>e.hide())}getActive(){for(let[e,t]of this.modals)if(t.isVisible)return t;return null}};const w=new class{constructor(){this.messages=[],this.currentPage=1,this.perPage=10,this.totalPages=0,this.modal=null}show(e=[]){if(e.length>0?this.messages=e:0===this.messages.length&&(this.messages=this.generateSampleMessages()),this.totalPages=Math.ceil(this.messages.length/this.perPage),this.modal&&document.getElementById("inboxModal")){const e=document.querySelector("#inboxModal .modal-body");e&&(e.innerHTML=this.renderInbox(),this.setupInboxHandlers())}else this.modal=v.create({id:"inboxModal",title:"Inbox",size:"lg",content:this.renderInbox(),footer:!1,onShow:()=>{this.setupInboxHandlers()}});this.modal.show()}renderInbox(){const e=(this.currentPage-1)*this.perPage,t=e+this.perPage,s=this.messages.slice(e,t);return'\n      <div class="inbox-container">\n        <div class="inbox-header mb-3">\n          <div class="input-group">\n            <span class="input-group-text">\n              <i class="fas fa-search"></i>\n            </span>\n            <input type="text" class="form-control" \n                   id="inboxSearch" \n                   placeholder="Search messages...">\n          </div>\n        </div>\n        \n        <div class="inbox-list">\n          '.concat(s.map(e=>this.renderMessage(e)).join(""),"\n        </div>\n        \n        ").concat(this.renderPagination(),"\n      </div>\n    ")}renderMessage(e){const t=e.unread?"unread":"",s=e.avatar||"https://via.placeholder.com/40";return'\n      <div class="inbox-message '.concat(t,'" data-message-id="').concat(e.id,'">\n        <div class="message-avatar">\n          <img src="').concat(s,'" alt="').concat(e.from,'">\n        </div>\n        <div class="message-content">\n          <div class="message-header">\n            <strong>').concat(e.from,'</strong>\n            <small class="text-muted">').concat(e.time,'</small>\n          </div>\n          <div class="message-subject">').concat(e.subject,'</div>\n          <div class="message-preview">').concat(e.preview,'</div>\n        </div>\n        <div class="message-actions">\n          ').concat(e.unread?'<span class="badge bg-primary">New</span>':"","\n        </div>\n      </div>\n    ")}renderPagination(){if(this.totalPages<=1)return"";const e=[];for(let t=1;t<=this.totalPages;t++)e.push('\n        <li class="page-item '.concat(t===this.currentPage?"active":"",'">\n          <button class="page-link" data-page="').concat(t,'">').concat(t,"</button>\n        </li>\n      "));return'\n      <nav class="mt-3">\n        <ul class="pagination justify-content-center">\n          <li class="page-item '.concat(1===this.currentPage?"disabled":"",'">\n            <button class="page-link" data-page="prev">Previous</button>\n          </li>\n          ').concat(e.join(""),'\n          <li class="page-item ').concat(this.currentPage===this.totalPages?"disabled":"",'">\n            <button class="page-link" data-page="next">Next</button>\n          </li>\n        </ul>\n      </nav>\n    ')}setupInboxHandlers(){const e=this.modal.getElement(),t=e.querySelector("#inboxSearch");t&&t.addEventListener("input",m.debounce(e=>{this.handleSearch(e.target.value)},300)),m.on(e,"click",".inbox-message",e=>{const t=e.currentTarget.dataset.messageId;this.openMessage(t)}),m.on(e,"click",".page-link",e=>{const t=e.currentTarget.dataset.page;this.currentPage="prev"===t?Math.max(1,this.currentPage-1):"next"===t?Math.min(this.totalPages,this.currentPage+1):parseInt(t),this.updateInbox()})}handleSearch(e){r.emit("inbox:search",{query:e})}openMessage(e){const t=this.messages.find(t=>t.id==e);t&&(t.unread=!1,r.emit("inbox:message-opened",{message:t}),r.emit("notification:info","Opening message from ".concat(t.from)))}updateInbox(){const e=this.renderInbox();this.modal.updateContent(e),this.setupInboxHandlers()}generateSampleMessages(){const e=[];for(let t=1;t<=25;t++)e.push({id:t,from:"User ".concat(t),subject:"Message Subject ".concat(t),preview:"This is a preview of message ".concat(t,"..."),time:"".concat(t," hours ago"),unread:t<=5,avatar:null});return e}hide(){this.modal&&this.modal.hide()}};const E=new class{constructor(){this.recentSearches=this.loadRecentSearches(),this.pages=[{name:"Dashboard",path:"/dashboard",icon:"home",category:"Main"},{name:"Profile",path:"/profile",icon:"user",category:"Main"},{name:"Settings",path:"/settings",icon:"cog",category:"Main"},{name:"Employees",path:"/employees",icon:"users",category:"Data"},{name:"Assets",path:"/assets",icon:"box",category:"Data"},{name:"Categories",path:"/categories",icon:"tags",category:"Data"},{name:"Transactions",path:"/transactions",icon:"exchange-alt",category:"Data"},{name:"Data Table",path:"/model1",icon:"table",category:"Pages"},{name:"Forms",path:"/model2",icon:"edit",category:"Pages"},{name:"Analytics",path:"/model3",icon:"chart-bar",category:"Pages"},{name:"Reports",path:"/reports",icon:"chart-line",category:"Pages"},{name:"File Upload",path:"/file-upload",icon:"cloud-upload-alt",category:"Pages"},{name:"Components",path:"/components",icon:"th-large",category:"UI"},{name:"Buttons",path:"/buttons",icon:"mouse-pointer",category:"UI"}],this.init()}init(){this.createModal(),this.setupEventListeners()}loadRecentSearches(){const e=localStorage.getItem("recentSearches");return e?JSON.parse(e):[]}saveRecentSearches(){localStorage.setItem("recentSearches",JSON.stringify(this.recentSearches))}addToRecent(e){this.recentSearches=this.recentSearches.filter(t=>t!==e),this.recentSearches.unshift(e),this.recentSearches=this.recentSearches.slice(0,5),this.saveRecentSearches()}createModal(){const e=document.getElementById("searchModal");e&&e.remove(),document.body.insertAdjacentHTML("beforeend",'\n      <div class="modal fade" id="searchModal" tabindex="-1">\n        <div class="modal-dialog modal-dialog-centered">\n          <div class="modal-content search-modal-content">\n            <div class="search-modal-header">\n              <h6 class="text-white mb-3 d-flex align-items-center">\n                <i class="fas fa-bolt me-2"></i>Quick Links\n              </h6>\n              <div class="quick-links-grid mb-3">\n                <a href="/dashboard" class="quick-link-item" data-page="dashboard">\n                  <i class="fas fa-home"></i>\n                  <span>Dashboard</span>\n                </a>\n                <a href="/employees" class="quick-link-item" data-page="employees">\n                  <i class="fas fa-users"></i>\n                  <span>Employees</span>\n                </a>\n                <a href="/assets" class="quick-link-item" data-page="assets">\n                  <i class="fas fa-box"></i>\n                  <span>Assets</span>\n                </a>\n                <a href="/reports" class="quick-link-item" data-page="reports">\n                  <i class="fas fa-chart-line"></i>\n                  <span>Reports</span>\n                </a>\n                <a href="/profile" class="quick-link-item" data-page="profile">\n                  <i class="fas fa-user"></i>\n                  <span>Profile</span>\n                </a>\n                <a href="/settings" class="quick-link-item" data-page="settings">\n                  <i class="fas fa-cog"></i>\n                  <span>Settings</span>\n                </a>\n              </div>\n              <div class="search-input-wrapper">\n                <i class="fas fa-search search-icon"></i>\n                <input \n                  type="text" \n                  class="search-input" \n                  id="searchInput" \n                  placeholder="Search pages, menus..." \n                  autocomplete="off"\n                />\n                <button class="search-close" data-bs-dismiss="modal">\n                  <i class="fas fa-times"></i>\n                </button>\n              </div>\n            </div>\n            \n            <div class="search-modal-body">\n              \x3c!-- Recent Searches --\x3e\n              <div class="search-section" id="recentSection" style="display: none;">\n                <h6 class="search-section-title">\n                  <i class="fas fa-clock me-2"></i>Recent Searches\n                </h6>\n                <div id="recentSearches"></div>\n              </div>\n\n              \x3c!-- Search Results --\x3e\n              <div class="search-section" id="resultsSection" style="display: none;">\n                <h6 class="search-section-title">\n                  <i class="fas fa-search me-2"></i>Search Results\n                </h6>\n                <div id="searchResults"></div>\n              </div>\n\n              \x3c!-- No Results --\x3e\n              <div class="search-section" id="noResults" style="display: none;">\n                <div class="no-results">\n                  <i class="fas fa-search fa-3x mb-3 text-muted"></i>\n                  <p>No results found</p>\n                </div>\n              </div>\n            </div>\n\n            <div class="search-modal-footer">\n              <div class="search-hints">\n                <kbd>â†µ</kbd> to select\n                <kbd>ESC</kbd> to close\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ')}setupEventListeners(){const e=document.getElementById("searchInput"),t=document.getElementById("searchModal");e&&(e.addEventListener("input",e=>{const t=e.target.value.trim();this.performSearch(t)}),e.addEventListener("keydown",e=>{if("Enter"===e.key){const e=document.querySelector(".search-result-item");e&&e.click()}})),t&&(t.addEventListener("shown.bs.modal",()=>{e.value="",e.focus(),this.showRecent()}),t.addEventListener("hidden.bs.modal",()=>{e.value="",this.hideResults()})),document.addEventListener("click",e=>{const s=e.target.closest(".quick-link-item");if(s){e.preventDefault();if(s.dataset.page){const e=bootstrap.Modal.getInstance(t);e&&e.hide(),window.location.href=s.href}}}),document.addEventListener("click",e=>{const s=e.target.closest(".search-result-item");if(s){e.preventDefault();if(s.dataset.page){this.addToRecent(s.textContent.trim());const e=bootstrap.Modal.getInstance(t);e&&e.hide(),window.location.href=s.dataset.path}}})}performSearch(e){const t=document.getElementById("resultsSection"),s=document.getElementById("recentSection"),n=document.getElementById("noResults");if(!e)return void this.showRecent();const a=this.pages.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())||t.category.toLowerCase().includes(e.toLowerCase()));if(s.style.display="none",a.length>0){n.style.display="none",t.style.display="block";const e=a.map(e=>'\n        <a href="'.concat(e.path,'" class="search-result-item" data-page="').concat(e.name,'" data-path="').concat(e.path,'">\n          <i class="fas fa-').concat(e.icon,' me-3"></i>\n          <div class="result-info">\n            <div class="result-name">').concat(e.name,'</div>\n            <div class="result-category">').concat(e.category,"</div>\n          </div>\n        </a>\n      ")).join("");document.getElementById("searchResults").innerHTML=e}else t.style.display="none",n.style.display="block"}showRecent(){const e=document.getElementById("recentSection"),t=document.getElementById("resultsSection"),s=document.getElementById("noResults");if(t.style.display="none",s.style.display="none",this.recentSearches.length>0){e.style.display="block";const t=this.recentSearches.map(e=>'\n        <div class="recent-item">\n          <i class="fas fa-clock me-2"></i>\n          <span>'.concat(e,"</span>\n        </div>\n      ")).join("");document.getElementById("recentSearches").innerHTML=t}else e.style.display="none"}hideResults(){document.getElementById("resultsSection").style.display="none",document.getElementById("noResults").style.display="none",document.getElementById("recentSection").style.display="none"}show(){this.modalInstance||(this.modalInstance=new bootstrap.Modal(document.getElementById("searchModal"),{backdrop:!0,keyboard:!0}));const e=document.getElementById("searchInput");e&&(e.value=""),this.modalInstance.show(),setTimeout(()=>{e&&e.focus()},300)}};new class{constructor(){this.sidebar=null,this.isCollapsed=!1,this.init()}init(){this.sidebar=document.querySelector(".sidebar-container"),this.setupEventListeners(),this.restoreSidebarState()}restoreSidebarState(){const e=localStorage.getItem("sidebarCollapsed");null!==e?(this.isCollapsed="true"===e,this.sidebar&&(this.isCollapsed?(this.sidebar.classList.add("collapsed"),document.body.classList.add("sidebar-collapsed")):(this.sidebar.classList.remove("collapsed"),document.body.classList.remove("sidebar-collapsed")))):this.checkInitialState()}checkInitialState(){this.sidebar&&(this.isCollapsed=this.sidebar.classList.contains("collapsed"))}saveSidebarState(){localStorage.setItem("sidebarCollapsed",this.isCollapsed.toString())}setupEventListeners(){document.addEventListener("click",e=>{e.target.closest(".menu-toggle")&&setTimeout(()=>{this.isCollapsed=this.sidebar.classList.contains("collapsed"),this.saveSidebarState()},100)}),document.addEventListener("click",e=>{e.target.closest(".sidebar-menu a:not(.submenu-toggle)")&&this.isCollapsed&&window.innerWidth>=1024&&(this.sidebar.classList.remove("collapsed"),document.body.classList.remove("sidebar-collapsed"),this.isCollapsed=!1)}),document.addEventListener("click",e=>{const t=e.target.closest(".submenu-toggle");t&&this.isCollapsed&&window.innerWidth>=1024&&(e.preventDefault(),this.sidebar.classList.remove("collapsed"),document.body.classList.remove("sidebar-collapsed"),this.isCollapsed=!1,setTimeout(()=>{const e=t.parentElement,s=e.querySelector(".submenu");e.classList.contains("open")?(e.classList.remove("open"),s.classList.remove("show")):(document.querySelectorAll(".sidebar-menu .has-submenu").forEach(t=>{var s;t!==e&&(t.classList.remove("open"),null==(s=t.querySelector(".submenu"))||s.classList.remove("show"))}),e.classList.add("open"),s.classList.add("show"))},300))})}};const I=new class{constructor(){this.notifications=this.loadNotifications(),this.init()}init(){this.createModal()}loadNotifications(){return[{id:1,type:"success",icon:"check-circle",title:"Task Completed",message:"Your report has been successfully generated and is ready for download.",time:"5 minutes ago",read:!1},{id:2,type:"info",icon:"info-circle",title:"System Update",message:"A new system update is available. Please update to get the latest features.",time:"1 hour ago",read:!1},{id:3,type:"warning",icon:"exclamation-triangle",title:"Storage Warning",message:"Your storage is almost full. Consider upgrading your plan or removing old files.",time:"2 hours ago",read:!0},{id:4,type:"primary",icon:"user-plus",title:"New Team Member",message:"John Doe has joined your team. Welcome them aboard!",time:"3 hours ago",read:!0},{id:5,type:"danger",icon:"exclamation-circle",title:"Security Alert",message:"Unusual login activity detected from a new device. Please verify if this was you.",time:"1 day ago",read:!0}]}createModal(){const e='\n      <div class="modal fade" id="notificationModal" tabindex="-1" aria-hidden="true">\n        <div class="modal-dialog modal-dialog-scrollable">\n          <div class="modal-content">\n            <div class="modal-header">\n              <h5 class="modal-title">\n                <i class="fas fa-bell me-2"></i>Notifications\n                <span class="badge bg-danger ms-2" id="notifCount">'.concat(this.getUnreadCount(),'</span>\n              </h5>\n              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>\n            </div>\n            <div class="modal-body p-0">\n              <div class="notification-list" id="notificationList">\n                ').concat(this.renderNotifications(),'\n              </div>\n            </div>\n            <div class="modal-footer">\n              <button type="button" class="btn btn-sm btn-outline-secondary" onclick="notificationModal.markAllRead()">\n                <i class="fas fa-check-double me-1"></i>Mark All Read\n              </button>\n              <button type="button" class="btn btn-sm btn-outline-danger" onclick="notificationModal.clearAll()">\n                <i class="fas fa-trash me-1"></i>Clear All\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    ');document.getElementById("notificationModal")||document.body.insertAdjacentHTML("beforeend",e)}renderNotifications(){return 0===this.notifications.length?'\n        <div class="text-center py-5">\n          <i class="fas fa-inbox fa-3x text-muted mb-3"></i>\n          <p class="text-muted">No notifications</p>\n        </div>\n      ':this.notifications.map(e=>'\n      <div class="notification-item '.concat(e.read?"read":"unread",'" data-id="').concat(e.id,'">\n        <div class="notif-icon bg-').concat(e.type,'">\n          <i class="fas fa-').concat(e.icon,'"></i>\n        </div>\n        <div class="notif-content">\n          <h6 class="notif-title">').concat(e.title,'</h6>\n          <p class="notif-message">').concat(e.message,'</p>\n          <small class="notif-time">\n            <i class="fas fa-clock me-1"></i>').concat(e.time,'\n          </small>\n        </div>\n        <div class="notif-actions">\n          <button class="btn btn-sm btn-link" onclick="notificationModal.markRead(').concat(e.id,')" title="Mark as read">\n            <i class="fas fa-check"></i>\n          </button>\n          <button class="btn btn-sm btn-link text-danger" onclick="notificationModal.remove(').concat(e.id,')" title="Delete">\n            <i class="fas fa-times"></i>\n          </button>\n        </div>\n      </div>\n    ')).join("")}show(){document.getElementById("notificationModal")?this.refresh():this.createModal(),this.modalInstance||(this.modalInstance=new bootstrap.Modal(document.getElementById("notificationModal"),{backdrop:!0,keyboard:!0})),this.modalInstance.show()}refresh(){const e=document.getElementById("notificationList"),t=document.getElementById("notifCount");e&&(e.innerHTML=this.renderNotifications()),t&&(t.textContent=this.getUnreadCount())}getUnreadCount(){return this.notifications.filter(e=>!e.read).length}markRead(e){const t=this.notifications.find(t=>t.id===e);t&&(t.read=!0,this.refresh())}markAllRead(){this.notifications.forEach(e=>e.read=!0),this.refresh()}remove(e){this.notifications=this.notifications.filter(t=>t.id!==e),this.refresh()}clearAll(){confirm("Are you sure you want to clear all notifications?")&&(this.notifications=[],this.refresh())}refresh(){const e=document.getElementById("notificationList"),t=document.getElementById("notifCount");if(e&&(e.innerHTML=this.renderNotifications()),t){const e=this.getUnreadCount();t.textContent=e,t.style.display=e>0?"inline-block":"none"}const s=document.querySelector(".topbar-icon .notification-badge");if(s){const e=this.getUnreadCount();s.textContent=e,s.style.display=e>0?"flex":"none"}}};"undefined"!=typeof window&&(window.notificationModal=I);const S=new class{constructor(){this.modal=null,this.resolveCallback=null,this.init()}init(){this.createModal()}createModal(){const e=document.getElementById("confirmModal");e&&e.remove(),document.body.insertAdjacentHTML("beforeend",'\n      <div class="modal fade" id="confirmModal" tabindex="-1">\n        <div class="modal-dialog modal-dialog-centered">\n          <div class="modal-content confirm-modal-content">\n            <div class="modal-body text-center p-4">\n              <div class="confirm-icon mb-3" id="confirmIcon">\n                <i class="fas fa-question-circle fa-4x"></i>\n              </div>\n              <h4 class="confirm-title mb-2" id="confirmTitle">Confirm Action</h4>\n              <p class="confirm-message text-muted" id="confirmMessage">\n                Are you sure you want to proceed?\n              </p>\n            </div>\n            <div class="modal-footer justify-content-center border-0 pt-0 pb-4">\n              <button type="button" class="btn btn-secondary px-4" data-bs-dismiss="modal" id="confirmCancel">\n                Cancel\n              </button>\n              <button type="button" class="btn btn-primary px-4" id="confirmOk">\n                Confirm\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    '),this.modal=document.getElementById("confirmModal"),this.setupEventListeners()}setupEventListeners(){const e=document.getElementById("confirmOk"),t=document.getElementById("confirmCancel");e.addEventListener("click",()=>{this.resolveCallback&&this.resolveCallback(!0),bootstrap.Modal.getInstance(this.modal).hide()}),t.addEventListener("click",()=>{this.resolveCallback&&this.resolveCallback(!1)}),this.modal.addEventListener("hidden.bs.modal",()=>{this.resolveCallback&&(this.resolveCallback(!1),this.resolveCallback=null)})}show(e={}){const{type:t="confirm",title:s="Confirm Action",message:n="Are you sure?",okText:a="Confirm",cancelText:i="Cancel",okClass:o="btn-primary"}=e;return new Promise(e=>{this.resolveCallback=e;const r=document.getElementById("confirmIcon"),c=document.getElementById("confirmOk"),l=document.getElementById("confirmCancel");let d="",u="";switch(t){case"success":d='<i class="fas fa-check-circle fa-4x"></i>',u="text-success",c.className="btn btn-success px-4",l.style.display="none";break;case"error":d='<i class="fas fa-times-circle fa-4x"></i>',u="text-danger",c.className="btn btn-danger px-4",c.textContent="OK",l.style.display="none";break;case"warning":d='<i class="fas fa-exclamation-triangle fa-4x"></i>',u="text-warning",c.className="btn btn-warning px-4",l.style.display="inline-block";break;case"delete":d='<i class="fas fa-trash-alt fa-4x"></i>',u="text-danger",c.className="btn btn-danger px-4",c.textContent="Delete",l.style.display="inline-block";break;case"info":d='<i class="fas fa-info-circle fa-4x"></i>',u="text-info",c.className="btn btn-info px-4",l.style.display="none";break;default:d='<i class="fas fa-question-circle fa-4x"></i>',u="text-primary",c.className="btn ".concat(o," px-4"),l.style.display="inline-block"}r.innerHTML=d,r.className="confirm-icon mb-3 ".concat(u),document.getElementById("confirmTitle").textContent=s,document.getElementById("confirmMessage").textContent=n,c.textContent=a,l.textContent=i;new bootstrap.Modal(this.modal).show()})}async success(e,t="Operation completed successfully!"){return await this.show({type:"success",title:e,message:t,okText:"OK"})}async error(e,t="An error occurred."){return await this.show({type:"error",title:e,message:t,okText:"OK"})}async warning(e,t="Please confirm this action."){return await this.show({type:"warning",title:e,message:t,okText:"Proceed",cancelText:"Cancel"})}async delete(e="Delete Confirmation",t="This action cannot be undone."){return await this.show({type:"delete",title:e,message:t,okText:"Delete",cancelText:"Cancel"})}async confirm(e,t){return await this.show({type:"confirm",title:e,message:t,okText:"Confirm",cancelText:"Cancel"})}async info(e,t){return await this.show({type:"info",title:e,message:t,okText:"OK"})}},C=Object.freeze(Object.defineProperty({__proto__:null,confirmModal:S},Symbol.toStringTag,{value:"Module"}));const k=document.createElement("style");k.textContent="\n    .loading-spinner-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.7);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        z-index: 9999;\n    }\n\n    .loading-spinner-container {\n        text-align: center;\n    }\n",document.head.appendChild(k);const T=new class{constructor(){this.spinner=null}show(e="Loading...",t="body"){this.hide();const s='\n            <div class="loading-spinner-overlay" id="loadingSpinner">\n                <div class="loading-spinner-container">\n                    <div class="spinner-border text-danger" role="status" style="width: 3rem; height: 3rem;">\n                        <span class="visually-hidden">Loading...</span>\n                    </div>\n                    <p class="mt-3 mb-0 text-white">'.concat(e,"</p>\n                </div>\n            </div>\n        "),n=document.querySelector(t);n&&(n.insertAdjacentHTML("beforeend",s),this.spinner=document.getElementById("loadingSpinner"))}hide(){if(this.spinner)this.spinner.remove(),this.spinner=null;else{const e=document.getElementById("loadingSpinner");e&&e.remove()}}showInline(e,t="sm"){const s=document.querySelector(e);if(!s)return;const n='\n            <span class="spinner-border '.concat("sm"===t?"spinner-border-sm":"",' text-danger inline-spinner" role="status">\n                <span class="visually-hidden">Loading...</span>\n            </span>\n        ');s.insertAdjacentHTML("beforeend",n)}hideInline(e){const t=document.querySelector(e);if(!t)return;const s=t.querySelector(".inline-spinner");s&&s.remove()}};"undefined"!=typeof window&&(window.loadingSpinner=T);const L=new class{show(e,t={}){const s={icon:"fa-inbox",title:"No Data Available",message:"There are no items to display",action:null,...t},n='\n            <div class="empty-state text-center py-5">\n                <div class="empty-state-icon mb-3">\n                    <i class="fas '.concat(s.icon,' fa-4x text-muted opacity-50"></i>\n                </div>\n                <h4 class="empty-state-title">').concat(s.title,'</h4>\n                <p class="empty-state-message text-muted">').concat(s.message,"</p>\n                ").concat(s.action?'\n                    <button class="btn btn-primary mt-3" id="emptyStateAction">\n                        <i class="fas fa-plus me-2"></i>'.concat(s.action.text,"\n                    </button>\n                "):"","\n            </div>\n        "),a=document.querySelector(e);if(a&&(a.innerHTML=n,s.action)){const e=document.getElementById("emptyStateAction");e&&e.addEventListener("click",s.action.onclick)}}hide(e){const t=document.querySelector(e);if(t){const e=t.querySelector(".empty-state");e&&e.remove()}}};"undefined"!=typeof window&&(window.emptyState=L),function(){function e(){document.querySelectorAll('.password-toggle-btn, [data-toggle="password"], .toggle-password').forEach(e=>{e.removeAttribute("onclick"),e.addEventListener("click",function(e){e.preventDefault(),window.togglePasswordVisibility(this)})})}if(window.togglePasswordVisibility=function(e){const t=e.closest(".input-group"),s=t?t.querySelector('input[type="password"], input[type="text"]'):e.previousElementSibling;if(!s)return;const n=e.querySelector("i")||e.querySelector(".fa-eye, .fa-eye-slash");"password"===s.type?(s.type="text",n&&(n.classList.remove("fa-eye"),n.classList.add("fa-eye-slash"))):(s.type="password",n&&(n.classList.remove("fa-eye-slash"),n.classList.add("fa-eye")))},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e(),"undefined"!=typeof MutationObserver){const t=new MutationObserver(function(t){t.forEach(function(t){t.addedNodes.length>0&&e()})});"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){t.observe(document.body,{childList:!0,subtree:!0})}):t.observe(document.body,{childList:!0,subtree:!0})}}();const A=new class{constructor(){this.chartInstances={},this.currentPeriod="week"}initialize(){this.generateStatsCards(),this.generateActivityTimeline(),this.generateRecentOrders(),this.generateTopProducts(),this.generatePerformanceMetrics(),"undefined"!=typeof Chart&&this.initializeCharts(),this.setupEventListeners()}setupEventListeners(){const e=document.getElementById("btnRefreshDashboard");e&&e.addEventListener("click",()=>{this.refreshDashboard()});const t=document.getElementById("btnExportReport");t&&t.addEventListener("click",()=>{this.exportReport()});const s=document.querySelectorAll("[data-period]");s.forEach(e=>{e.addEventListener("click",e=>{s.forEach(e=>e.classList.remove("active")),e.target.classList.add("active"),this.currentPeriod=e.target.dataset.period,this.updateSalesChart()})})}generateStatsCards(){const e=document.getElementById("statsCardsContainer");if(!e)return;const t=[{title:"Total Revenue",value:"$54,239",change:"+12.5%",trend:"up",icon:"dollar-sign",color:"primary"},{title:"Total Orders",value:"1,847",change:"+8.2%",trend:"up",icon:"shopping-cart",color:"success"},{title:"New Customers",value:"423",change:"-3.1%",trend:"down",icon:"users",color:"warning"},{title:"Conversion Rate",value:"3.24%",change:"+0.8%",trend:"up",icon:"chart-line",color:"info"}].map(e=>'\n            <div class="col-lg-3 col-md-6 mb-4">\n                <div class="card stat-card h-100">\n                    <div class="card-body">\n                        <div class="d-flex justify-content-between align-items-center mb-3">\n                            <div class="stat-icon bg-'.concat(e.color,'">\n                                <i class="fas fa-').concat(e.icon,'"></i>\n                            </div>\n                            <span class="stat-change ').concat("up"===e.trend?"text-success":"text-danger",'">\n                                <i class="fas fa-arrow-').concat(e.trend,'"></i> ').concat(e.change,'\n                            </span>\n                        </div>\n                        <h6 class="text-muted mb-2">').concat(e.title,'</h6>\n                        <h3 class="mb-0">').concat(e.value,"</h3>\n                    </div>\n                </div>\n            </div>\n        ")).join("");e.innerHTML=t}generateActivityTimeline(){const e=document.getElementById("activityTimeline"),t=document.getElementById("activityCount");if(!e)return;const s=[{icon:"box",color:"success",title:"New Asset Added",detail:"Laptop Dell XPS 15 has been registered",time:"2 mins ago"},{icon:"user-check",color:"primary",title:"Asset Checked Out",detail:"John Doe checked out Projector Epson",time:"15 mins ago"},{icon:"tools",color:"warning",title:"Maintenance Scheduled",detail:"AC Unit #5 maintenance tomorrow",time:"30 mins ago"},{icon:"exchange-alt",color:"info",title:"Asset Transferred",detail:"Monitor moved from IT to Marketing",time:"1 hour ago"},{icon:"check-circle",color:"success",title:"Asset Returned",detail:"Camera Canon returned by Jane Smith",time:"2 hours ago"},{icon:"exclamation-triangle",color:"danger",title:"Low Stock Alert",detail:"Only 3 USB cables remaining",time:"3 hours ago"}];t&&(t.textContent=s.length);let n="";s.forEach((e,t)=>{n+='\n                <div class="timeline-item '.concat(t===s.length-1?"last":"",'">\n                    <div class="timeline-dot bg-').concat(e.color,'">\n                        <i class="fas fa-').concat(e.icon,'"></i>\n                    </div>\n                    <div class="timeline-card">\n                        <div class="timeline-header">\n                            <strong class="timeline-title">').concat(e.title,'</strong>\n                            <small class="timeline-time">').concat(e.time,'</small>\n                        </div>\n                        <p class="timeline-detail mb-0">').concat(e.detail,"</p>\n                    </div>\n                </div>\n            ")}),e.innerHTML=n}generateRecentOrders(){const e=document.getElementById("recentOrdersBody"),t=document.getElementById("ordersCount");if(!e)return;const s=[{id:"#1847",customer:"John Doe",product:"Laptop Pro X1",amount:"$1,299",status:"Delivered",date:"2024-12-10"},{id:"#1846",customer:"Jane Smith",product:"Wireless Mouse",amount:"$29",status:"Processing",date:"2024-12-10"},{id:"#1845",customer:"Bob Johnson",product:"USB-C Cable",amount:"$15",status:"Shipped",date:"2024-12-09"},{id:"#1844",customer:"Alice Brown",product:'Monitor 27"',amount:"$399",status:"Delivered",date:"2024-12-09"},{id:"#1843",customer:"Charlie Wilson",product:"Keyboard RGB",amount:"$89",status:"Cancelled",date:"2024-12-08"}];t&&(t.textContent=s.length);const n={Delivered:"success",Processing:"warning",Shipped:"info",Cancelled:"danger"},a=s.map(e=>"\n            <tr>\n                <td><strong>".concat(e.id,"</strong></td>\n                <td>").concat(e.customer,"</td>\n                <td>").concat(e.product,"</td>\n                <td><strong>").concat(e.amount,'</strong></td>\n                <td><span class="badge bg-').concat(n[e.status],'">').concat(e.status,"</span></td>\n                <td>").concat(e.date,'</td>\n                <td>\n                    <button class="btn btn-sm btn-outline-primary" title="View">\n                        <i class="fas fa-eye"></i>\n                    </button>\n                    <button class="btn btn-sm btn-outline-secondary" title="Edit">\n                        <i class="fas fa-edit"></i>\n                    </button>\n                </td>\n            </tr>\n        ')).join("");e.innerHTML=a}generateTopProducts(){const e=document.getElementById("topProductsList");if(!e)return;const t=[{name:"Laptop Pro X1",sales:145,revenue:"$188,355",trend:"up"},{name:"Wireless Mouse",sales:432,revenue:"$12,528",trend:"up"},{name:'Monitor 27"',sales:89,revenue:"$35,511",trend:"down"},{name:"USB-C Cable",sales:567,revenue:"$8,505",trend:"up"},{name:"Keyboard RGB",sales:234,revenue:"$20,826",trend:"up"}].map((e,t)=>'\n            <div class="product-item d-flex justify-content-between align-items-center mb-3 pb-3 border-bottom">\n                <div class="d-flex align-items-center">\n                    <div class="product-rank me-3">\n                        <span class="badge '.concat(0===t?"bg-warning":"bg-secondary",'">#').concat(t+1,'</span>\n                    </div>\n                    <div>\n                        <h6 class="mb-0">').concat(e.name,'</h6>\n                        <small class="text-muted">').concat(e.sales,' sales</small>\n                    </div>\n                </div>\n                <div class="text-end">\n                    <strong class="d-block">').concat(e.revenue,'</strong>\n                    <small class="').concat("up"===e.trend?"text-success":"text-danger",'">\n                        <i class="fas fa-arrow-').concat(e.trend,'"></i>\n                    </small>\n                </div>\n            </div>\n        ')).join("");e.innerHTML=t}generatePerformanceMetrics(){const e=document.getElementById("performanceMetrics");if(!e)return;const t=[{label:"Customer Satisfaction",value:94,color:"success"},{label:"Order Fulfillment",value:87,color:"info"},{label:"Product Quality",value:92,color:"primary"},{label:"Delivery Speed",value:78,color:"warning"}].map(e=>'\n            <div class="metric-item mb-4">\n                <div class="d-flex justify-content-between align-items-center mb-2">\n                    <span>'.concat(e.label,"</span>\n                    <strong>").concat(e.value,'%</strong>\n                </div>\n                <div class="progress" style="height: 8px;">\n                    <div class="progress-bar bg-').concat(e.color,'" role="progressbar" \n                         style="width: ').concat(e.value,'%" \n                         aria-valuenow="').concat(e.value,'" \n                         aria-valuemin="0" \n                         aria-valuemax="100">\n                    </div>\n                </div>\n            </div>\n        ')).join("");e.innerHTML=t}initializeCharts(){this.initSalesChart(),this.initRevenueChart(),this.initTrafficChart()}initSalesChart(){const e=document.getElementById("salesChart");if(!e)return;const t=e.getContext("2d");this.chartInstances.sales=new Chart(t,{type:"line",data:{labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"Sales",data:[12,19,15,25,22,30,28],borderColor:"rgb(220, 38, 38)",backgroundColor:"rgba(220, 38, 38, 0.1)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{display:!0,color:"rgba(0,0,0,0.05)"}},x:{grid:{display:!1}}}}})}initRevenueChart(){const e=document.getElementById("revenueChart");if(!e)return;const t=e.getContext("2d");this.chartInstances.revenue=new Chart(t,{type:"doughnut",data:{labels:["Products","Services","Subscriptions","Others"],datasets:[{data:[45,25,20,10],backgroundColor:["rgb(220, 38, 38)","rgb(59, 130, 246)","rgb(16, 185, 129)","rgb(245, 158, 11)"]}]},options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"bottom"}}}})}initTrafficChart(){const e=document.getElementById("trafficChart");if(!e)return;const t=e.getContext("2d");this.chartInstances.traffic=new Chart(t,{type:"bar",data:{labels:["Direct","Organic","Social","Email","Referral"],datasets:[{label:"Visitors",data:[1200,1900,800,600,400],backgroundColor:"rgb(220, 38, 38)"}]},options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}}})}updateSalesChart(){if(!this.chartInstances.sales)return;const e={week:{labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],values:[12,19,15,25,22,30,28]},month:{labels:["Week 1","Week 2","Week 3","Week 4"],values:[85,110,95,125]},year:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],values:[450,520,490,580,610,650,700,680,720,750,800,850]}}[this.currentPeriod];this.chartInstances.sales.data.labels=e.labels,this.chartInstances.sales.data.datasets[0].data=e.values,this.chartInstances.sales.update()}refreshDashboard(){const e=document.getElementById("btnRefreshDashboard");if(e){const t=e.innerHTML;e.innerHTML='<i class="fas fa-spinner fa-spin me-2"></i>Refreshing...',e.disabled=!0,setTimeout(()=>{this.generateStatsCards(),this.generateActivityTimeline(),this.generateRecentOrders(),this.generateTopProducts(),this.generatePerformanceMetrics(),e.innerHTML=t,e.disabled=!1,this.showNotification("success","Dashboard refreshed successfully!")},1e3)}}exportReport(){const e=document.getElementById("btnExportReport");if(e){const t=e.innerHTML;e.innerHTML='<i class="fas fa-spinner fa-spin me-2"></i>Exporting...',e.disabled=!0,setTimeout(()=>{e.innerHTML=t,e.disabled=!1,this.showNotification("success","Report exported successfully!");const s=document.createElement("a");s.href="#",s.download="dashboard-report.pdf",s.click()},1500)}}showNotification(e,t){window.showNotification&&window.showNotification(e,t)}},B={BASE_URL:"",TIMEOUT:3e4,DEBUG:!0,ENDPOINTS:{LOGIN:"/api/auth/login",LOGOUT:"/api/auth/logout",ME:"/api/auth/me",CHANGE_PASSWORD:"/api/auth/change-password",FORGOT_PASSWORD:"/api/auth/forgot-password",RESET_PASSWORD:"/api/auth/reset-password",EMPLOYEES:"/api/employee",EMPLOYEES_GRID:"/api/employee/grid",EMPLOYEES_ACTIVE:"/api/employee/active",ASSETS:"/api/asset",ASSETS_GRID:"/api/asset/grid",CATEGORIES:"/api/category",CATEGORIES_ACTIVE:"/api/category/active",TRANSACTIONS:"/api/assettransactions",TRANSACTIONS_BY_ASSET:"/api/assettransactions/asset",HEALTH:"/health"}};"undefined"!=typeof window&&(window.API_CONFIG=B);const x=new class{constructor(){this.baseURL=this.detectBaseURL(),this.token=localStorage.getItem("authToken"),this.debug=B.DEBUG,this.debug}detectBaseURL(){return B.BASE_URL?B.BASE_URL:""}buildURL(e){const t=e.startsWith("/")?e:"/".concat(e);return this.baseURL?"".concat(this.baseURL).concat(t):t}setToken(e){this.token=e,e?localStorage.setItem("authToken",e):localStorage.removeItem("authToken")}getHeaders(e=!0){const t={"Content-Type":"application/json",Accept:"application/json"};return e&&this.token&&(t.Authorization="Bearer ".concat(this.token)),t}async request(e,t={}){const s=this.buildURL(e);this.debug;const n={method:t.method||"GET",headers:this.getHeaders(!1!==t.auth),credentials:"include",...t};t.body&&"object"==typeof t.body&&(n.body=JSON.stringify(t.body));try{const e=await fetch(s,n),t=e.headers.get("content-type");let a;if(t&&t.includes("application/json")?a=await e.json():(a=await e.text(),this.debug),!e.ok){const t=(null==a?void 0:a.message)||(null==a?void 0:a.error)||"API request failed with status ".concat(e.status);throw this.debug,new Error(t)}return this.debug,a}catch(a){throw this.debug,new Error("API request failed: ".concat(a.message))}}async login(e,t){const s=await this.request("/api/auth/login",{method:"POST",auth:!1,body:{email:e,password:t}});if(s.isSuccess&&s.data)return this.setToken(s.data.token),this.debug,s.data;throw new Error(s.message||"Login failed")}async getMe(){return(await this.request("/api/auth/me")).data}async changePassword(e,t){return await this.request("/api/auth/change-password",{method:"POST",body:{currentPassword:e,newPassword:t}})}async forgotPassword(e){return await this.request("/api/auth/forgot-password",{method:"POST",auth:!1,body:{email:e}})}async resetPassword(e,t,s){return await this.request("/api/auth/reset-password",{method:"POST",auth:!1,body:{email:e,token:t,newPassword:s}})}async getAssetsGrid(e={}){const t=new URLSearchParams(e).toString();return(await this.request("/api/asset/grid?".concat(t))).data}async getAssets(){return(await this.request("/api/asset")).data}async getAsset(e){return(await this.request("/api/asset/".concat(e))).data}async createAsset(e){return await this.request("/api/asset",{method:"POST",body:e})}async updateAsset(e,t){return await this.request("/api/asset/".concat(e),{method:"PUT",body:t})}async deleteAsset(e){return await this.request("/api/asset/".concat(e),{method:"DELETE"})}async getEmployeesGrid(e={}){const t=new URLSearchParams(e).toString();return(await this.request("/api/employee/grid?".concat(t))).data}async getEmployees(){return(await this.request("/api/employee")).data}async getActiveEmployees(){return(await this.request("/api/employee/active")).data}async getEmployee(e){return(await this.request("/api/employee/".concat(e))).data}async createEmployee(e){return await this.request("/api/employee",{method:"POST",body:e})}async updateEmployee(e,t){return await this.request("/api/employee/".concat(e),{method:"PUT",body:t})}async deleteEmployee(e){return await this.request("/api/employee/".concat(e),{method:"DELETE"})}async getCategories(){return(await this.request("/api/category")).data}async getActiveCategories(){return(await this.request("/api/category/active")).data}async getCategory(e){return(await this.request("/api/category/".concat(e))).data}async createCategory(e){return await this.request("/api/category",{method:"POST",body:e})}async updateCategory(e,t){return await this.request("/api/category/".concat(e),{method:"PUT",body:t})}async deleteCategory(e){return await this.request("/api/category/".concat(e),{method:"DELETE"})}async getTransactions(){return(await this.request("/api/assettransactions")).data}async getTransactionsByAsset(e){return(await this.request("/api/assettransactions/asset/".concat(e))).data}async getTransaction(e){return(await this.request("/api/assettransactions/".concat(e))).data}async createTransaction(e){return await this.request("/api/assettransactions",{method:"POST",body:e})}async updateTransaction(e,t){return await this.request("/api/assettransactions/".concat(e),{method:"PUT",body:t})}async deleteTransaction(e){return await this.request("/api/assettransactions/".concat(e),{method:"DELETE"})}async checkHealth(){return await this.request("/health",{auth:!1})}async testConnection(){try{await this.checkHealth();return!0}catch(e){return!1}}logout(){this.setToken(null),this.debug}getCurrentBaseURL(){return this.baseURL}};"undefined"!=typeof window&&(window.whitebirdAPI=x,window.debugAPI={test:()=>x.testConnection(),getBaseURL:()=>x.getCurrentBaseURL(),getToken:()=>x.token,clearToken:()=>x.setToken(null),checkEnv:()=>({mode:"production",prod:!0,dev:!1,viteApiUrl:""})});const D=new class{constructor(){this.employees=[],this.apiEndpoint="/api/employee",this.useAPI=!0,this.initialize()}initialize(){this.employees=this.loadSampleData()}loadSampleData(){return[{id:"EMP001",firstName:"John",lastName:"Doe",email:"john.doe@company.com",phone:"+1234567890",department:"IT",position:"Senior Developer",hireDate:"2020-01-15",salary:85e3,status:"Active",address:"123 Main St, City, State",photo:null},{id:"EMP002",firstName:"Jane",lastName:"Smith",email:"jane.smith@company.com",phone:"+1234567891",department:"HR",position:"HR Manager",hireDate:"2019-03-20",salary:75e3,status:"Active",address:"456 Oak Ave, City, State",photo:null},{id:"EMP003",firstName:"Mike",lastName:"Johnson",email:"mike.j@company.com",phone:"+1234567892",department:"Sales",position:"Sales Executive",hireDate:"2021-06-10",salary:65e3,status:"Active",address:"789 Pine Rd, City, State",photo:null},{id:"EMP004",firstName:"Sarah",lastName:"Williams",email:"sarah.w@company.com",phone:"+1234567893",department:"Marketing",position:"Marketing Specialist",hireDate:"2021-08-15",salary:6e4,status:"Active",address:"321 Elm St, City, State",photo:null},{id:"EMP005",firstName:"David",lastName:"Brown",email:"david.b@company.com",phone:"+1234567894",department:"Finance",position:"Financial Analyst",hireDate:"2020-11-01",salary:7e4,status:"Active",address:"654 Maple Ave, City, State",photo:null}]}async create(e){try{let t;if(this.validate(e),this.useAPI){const s=await x.createEmployee(e);if(!(s&&s.success&&s.data))throw new Error("API returned no data");t=s.data,this.employees.push(t)}else await this.mockApiCall(),t={id:this.generateId(),...e,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},this.employees.push(t);return await S.success("Success!","Employee added successfully!"),t}catch(t){throw await S.error("Error!",t.message||"Failed to add employee"),t}}getAll(){return[...this.employees]}setEmployees(e){Array.isArray(e)&&(this.employees=e)}getById(e){return this.employees.find(t=>t.id===e)||null}filter(e){let t=[...this.employees];if(e.search){const s=e.search.toLowerCase();t=t.filter(e=>e.firstName.toLowerCase().includes(s)||e.lastName.toLowerCase().includes(s)||e.email.toLowerCase().includes(s)||e.id.toLowerCase().includes(s)||e.department.toLowerCase().includes(s)||e.position.toLowerCase().includes(s))}return e.department&&(t=t.filter(t=>t.department===e.department)),e.status&&(t=t.filter(t=>t.status===e.status)),t}async update(e,t){try{const s=this.employees.findIndex(t=>t.id===e);if(-1===s)throw new Error("Employee not found");let n;if(this.validate(t),this.useAPI){const a=await x.updateEmployee(e,t);if(!(a&&a.success&&a.data))throw new Error("API returned no data");n=a.data,this.employees[s]=n}else await this.mockApiCall(),n={...this.employees[s],...t,updatedAt:(new Date).toISOString()},this.employees[s]=n;return await S.success("Success!","Employee updated successfully!"),n}catch(s){throw await S.error("Error!",s.message||"Failed to update employee"),s}}async delete(e){try{const t=this.getById(e);if(!t)throw new Error("Employee not found");if(!(await S.delete("Delete Employee","Are you sure you want to delete ".concat(t.firstName," ").concat(t.lastName,"? This action cannot be undone."))))return!1;if(this.useAPI){const t=await x.deleteEmployee(e);if(!t||!t.success)throw new Error("API delete failed");this.employees=this.employees.filter(t=>t.id!==e)}else await this.mockApiCall(),this.employees=this.employees.filter(t=>t.id!==e);return await S.success("Deleted!","Employee deleted successfully!"),!0}catch(t){throw await S.error("Error!",t.message||"Failed to delete employee"),t}}async exportToCSV(e=null){try{const t=e||this.employees,s=this.generateCSV(t),n=new Blob([s],{type:"text/csv;charset=utf-8;"}),a=window.URL.createObjectURL(n),i=document.createElement("a");i.href=a,i.download="employees_export_".concat((new Date).toISOString().split("T")[0],".csv"),i.click(),window.URL.revokeObjectURL(a),await S.success("Exported!","".concat(t.length," employee(s) exported successfully!"))}catch(t){throw await S.error("Error!","Failed to export employees"),t}}generateCSV(e){return[["ID","First Name","Last Name","Email","Phone","Department","Position","Hire Date","Salary","Status","Address"],...e.map(e=>[e.id,e.firstName,e.lastName,e.email,e.phone,e.department,e.position,e.hireDate,e.salary,e.status,e.address||""])].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n")}validate(e){const t=["firstName","lastName","email","phone","department","position","hireDate","salary","status"];for(const s of t)if(!e[s])throw new Error("".concat(s," is required"));if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email))throw new Error("Invalid email format");if(e.salary&&(isNaN(e.salary)||e.salary<0))throw new Error("Salary must be a positive number");return!0}generateId(){const e=this.employees.reduce((e,t)=>{const s=parseInt(t.id.replace("EMP",""));return s>e?s:e},0);return"EMP".concat(String(e+1).padStart(3,"0"))}async mockApiCall(){return new Promise(e=>setTimeout(e,300))}getCount(){return this.employees.length}getStatistics(){return{total:this.employees.length,active:this.employees.filter(e=>"Active"===e.status).length,inactive:this.employees.filter(e=>"Inactive"===e.status).length,byDepartment:this.employees.reduce((e,t)=>(e[t.department]=(e[t.department]||0)+1,e),{})}}};const M=new class{constructor(){this.currentTab="approved",this.currentPage=1,this.pageSize=15,this.filteredData=[],this.loading=!1}async initialize(){this.setupEventListeners(),await this.loadEmployees(),this.loadAndRender()}async loadEmployees(){try{this.loading=!0;const e=await x.getEmployeesGrid({page:1,pageSize:1e3});e&&e.success&&e.data&&D.setEmployees(e.data)}catch(e){}finally{this.loading=!1}}setupEventListeners(){const e=document.getElementById("btnAddEmployee");e&&e.addEventListener("click",()=>this.redirectToAdd());const t=document.getElementById("btnRefreshEmployees");t&&t.addEventListener("click",async()=>{t.innerHTML='<i class="fas fa-sync-alt fa-spin me-2"></i>Refreshing...',t.disabled=!0;try{await this.loadEmployees(),this.renderCurrentTab(),window.showNotification&&window.showNotification("success","âœ… Employees refreshed successfully from API")}catch(e){window.showNotification&&window.showNotification("danger","âŒ Failed to refresh employees")}finally{t.innerHTML='<i class="fas fa-sync-alt me-2"></i>Refresh',t.disabled=!1}});const s=document.getElementById("btnExportExcel");s&&s.addEventListener("click",()=>this.handleExport());const n=document.getElementById("searchEmployee");if(n){let e;n.addEventListener("input",t=>{clearTimeout(e),e=setTimeout(()=>{this.applyFilters()},300)})}const a=document.getElementById("filterDepartment"),i=document.getElementById("filterSalary");a&&a.addEventListener("change",()=>this.applyFilters()),i&&i.addEventListener("change",()=>this.applyFilters());const o=document.getElementById("btnResetFilters");o&&o.addEventListener("click",()=>this.resetFilters());const r=document.getElementById("approved-tab"),c=document.getElementById("pending-tab");r&&r.addEventListener("shown.bs.tab",()=>{this.currentTab="approved",this.currentPage=1,this.renderCurrentTab()}),c&&c.addEventListener("shown.bs.tab",()=>{this.currentTab="pending",this.currentPage=1,this.renderCurrentTab()})}redirectToAdd(){window.router?window.router.navigate("employeescreate"):window.location.href="/employeescreate"}redirectToEdit(e){window.router?window.router.navigate("employeesupdate",{id:e}):(sessionStorage.setItem("crudId",e),window.location.href="/employeesupdate")}async handleDelete(e){const t=D.getById(e);if(!t)return;if(confirm('Delete employee "'.concat(t.name,'"?\n\nThis action cannot be undone.'))){D.delete(e)&&this.loadAndRender()}}loadAndRender(){this.applyFilters()}applyFilters(){var e,t,s;const n=(null==(e=document.getElementById("searchEmployee"))?void 0:e.value.toLowerCase())||"",a=(null==(t=document.getElementById("filterDepartment"))?void 0:t.value)||"",i=(null==(s=document.getElementById("filterSalary"))?void 0:s.value)||"";let o=D.getAll();if(n&&(o=o.filter(e=>e.name.toLowerCase().includes(n)||e.email.toLowerCase().includes(n)||e.position.toLowerCase().includes(n))),a&&(o=o.filter(e=>e.department===a)),i)if("100000+"===i)o=o.filter(e=>e.salary>=1e5);else{const[e,t]=i.split("-").map(Number);o=o.filter(s=>s.salary>=e&&s.salary<t)}this.filteredData=o,this.currentPage=1,this.renderCurrentTab()}resetFilters(){document.getElementById("searchEmployee").value="",document.getElementById("filterDepartment").value="",document.getElementById("filterSalary").value="",this.applyFilters()}renderCurrentTab(){const e=this.filteredData.filter(e=>"Active"===e.status),t=this.filteredData.filter(e=>"Inactive"===e.status);document.getElementById("approvedCount").textContent=e.length,document.getElementById("pendingCount").textContent=t.length,"approved"===this.currentTab?this.renderTable("approvedTableBody","approvedEmpty",e):this.renderTable("pendingTableBody","pendingEmpty",t),this.updateCounts()}renderTable(e,t,s){const n=document.getElementById(e),a=document.getElementById(t);if(!n)return;if(0===s.length)return null==a||a.classList.remove("d-none"),void n.parentElement.parentElement.classList.add("d-none");null==a||a.classList.add("d-none"),n.parentElement.parentElement.classList.remove("d-none");const i=(this.currentPage-1)*this.pageSize,o=i+this.pageSize,r=s.slice(i,o),c=document.createDocumentFragment();r.forEach((e,t)=>{if(!e||!e.name||!e.email)return;const s=document.createElement("tr");s.innerHTML="\n                <td>".concat(i+t+1,'</td>\n                <td>\n                    <div class="d-flex align-items-center">\n                        <div class="avatar avatar-sm me-2">\n                            <span class="avatar-text">').concat(e.name.charAt(0).toUpperCase(),"</span>\n                        </div>\n                        <strong>").concat(e.name,"</strong>\n                    </div>\n                </td>\n                <td>").concat(e.email,"</td>\n                <td>").concat(e.position||"N/A",'</td>\n                <td><span class="badge bg-info">').concat(e.department||"N/A","</span></td>\n                <td>$").concat((e.salary||0).toLocaleString(),"</td>\n                <td>").concat(e.joinDate||"N/A",'</td>\n                <td class="text-center">\n                    <button class="btn btn-sm btn-primary me-1" onclick="window.employeesMenuInstance.redirectToEdit(').concat(e.id,')" title="Edit">\n                        <i class="fas fa-edit"></i>\n                    </button>\n                    <button class="btn btn-sm btn-danger" onclick="window.employeesMenuInstance.handleDelete(').concat(e.id,')" title="Delete">\n                        <i class="fas fa-trash"></i>\n                    </button>\n                </td>\n            '),c.appendChild(s)}),n.innerHTML="",n.appendChild(c),this.renderPagination(s.length)}renderPagination(e){const t=document.getElementById("pagination");if(!t)return;const s=Math.ceil(e/this.pageSize);if(s<=1)return void(t.innerHTML="");let n="";n+='\n            <li class="page-item '.concat(1===this.currentPage?"disabled":"",'">\n                <a class="page-link" href="#" onclick="window.employeesMenuInstance.goToPage(').concat(this.currentPage-1,'); return false;">\n                    <i class="fas fa-chevron-left"></i>\n                </a>\n            </li>\n        ');let a=Math.max(1,this.currentPage-Math.floor(2.5)),i=Math.min(s,a+5-1);i-a<4&&(a=Math.max(1,i-5+1));for(let o=a;o<=i;o++)n+='\n                <li class="page-item '.concat(o===this.currentPage?"active":"",'">\n                    <a class="page-link" href="#" onclick="window.employeesMenuInstance.goToPage(').concat(o,'); return false;">').concat(o,"</a>\n                </li>\n            ");n+='\n            <li class="page-item '.concat(this.currentPage===s?"disabled":"",'">\n                <a class="page-link" href="#" onclick="window.employeesMenuInstance.goToPage(').concat(this.currentPage+1,'); return false;">\n                    <i class="fas fa-chevron-right"></i>\n                </a>\n            </li>\n        '),t.innerHTML=n}goToPage(e){const t=Math.ceil(("approved"===this.currentTab?this.filteredData.filter(e=>"Active"===e.status).length:this.filteredData.filter(e=>"Inactive"===e.status).length)/this.pageSize);e<1||e>t||(this.currentPage=e,this.renderCurrentTab())}updateCounts(){const e="approved"===this.currentTab?this.filteredData.filter(e=>"Active"===e.status):this.filteredData.filter(e=>"Inactive"===e.status),t=(this.currentPage-1)*this.pageSize+1,s=Math.min(this.currentPage*this.pageSize,e.length);document.getElementById("showingCount").textContent=e.length>0?"".concat(t,"-").concat(s):"0",document.getElementById("totalCount").textContent=e.length}handleExport(){const e="approved"===this.currentTab?this.filteredData.filter(e=>"Active"===e.status):this.filteredData.filter(e=>"Inactive"===e.status);D.exportToCSV(e)}};"undefined"!=typeof window&&(window.employeesMenuInstance=M);const P=new class{constructor(){this.mode="create",this.employeeId=null,this.employee=null}async initialize(){try{this.mode=sessionStorage.getItem("crudMode")||"create",this.employeeId=sessionStorage.getItem("crudId"),this.setupEventListeners(),this.updatePageTitle(),"update"===this.mode&&this.employeeId&&await this.loadEmployee(parseInt(this.employeeId))}catch(e){}}setupEventListeners(){const e=document.getElementById("employeeForm");document.getElementById("btnSaveEmployee");const t=document.getElementById("btnCancelEmployee"),s=document.getElementById("btnBackToEmployees");e&&(e.addEventListener("submit",e=>{e.preventDefault(),this.handleSubmit()}),t&&t.addEventListener("click",()=>{this.handleCancel()}),s&&s.addEventListener("click",()=>{this.handleCancel()}))}updatePageTitle(){const e=document.getElementById("crudTitle"),t=document.getElementById("breadcrumbAction");"update"===this.mode?(e&&(e.innerHTML='<i class="fas fa-user me-2"></i>Edit Employee'),t&&(t.textContent="Edit")):(e&&(e.innerHTML='<i class="fas fa-user me-2"></i>Add New Employee'),t&&(t.textContent="Add New"))}async loadEmployee(e){try{const t=await x.getEmployee(e);if(!(t&&t.success&&t.data))throw new Error("Failed to load employee");this.employee=t.data,this.populateForm(this.employee)}catch(t){alert("Failed to load employee data. Please try again."),this.handleCancel()}}populateForm(e){document.getElementById("fullName").value=e.fullName||"",document.getElementById("email").value=e.email||"",document.getElementById("phoneNumber").value=e.phoneNumber||"",document.getElementById("department").value=e.department||"",document.getElementById("position").value=e.position||""}getFormData(){return{fullName:document.getElementById("fullName").value.trim(),email:document.getElementById("email").value.trim()||null,phoneNumber:document.getElementById("phoneNumber").value.trim()||null,department:document.getElementById("department").value.trim()||null,position:document.getElementById("position").value.trim()||null}}validateFormData(e){return e.fullName?!(e.email&&!this.isValidEmail(e.email))||(alert("Please enter a valid email address"),!1):(alert("Full Name is required"),!1)}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}async handleSubmit(){const e=document.getElementById("btnSaveEmployee");try{const t=this.getFormData();if(!this.validateFormData(t))return;e.innerHTML;let s;if(e.disabled=!0,e.innerHTML='<i class="fas fa-spinner fa-spin me-2"></i>Saving...',s="update"===this.mode?await x.updateEmployee(this.employeeId,t):await x.createEmployee(t),!s||!s.success)throw new Error(s.message||"Failed to save employee");alert("update"===this.mode?"Employee updated successfully!":"Employee created successfully!"),window.router?window.router.navigate("employees"):window.location.href="/employees"}catch(t){alert("Failed to save employee. Please try again."),e.disabled=!1,e.innerHTML='<i class="fas fa-save me-2"></i>Save Employee'}}handleCancel(){window.router?window.router.navigate("employees"):window.location.href="/employees"}};const R=new class{constructor(){this.assets=[],this.categories=[],this.filteredData=[],this.currentTab="available",this.currentPage=1,this.pageSize=10,this.loading=!1}async initialize(){this.setupEventListeners(),await this.loadFromAPI(),await this.loadCategories(),this.populateCategories(),this.loadAndRender()}async loadFromAPI(){try{this.loading=!0,this.showLoading(!0);const e=await x.getAssetsGrid({page:1,pageSize:1e3});e&&e.success&&e.data?(this.assets=e.data,this.filteredData=[...this.assets]):(this.assets=this.generateSampleAssets(),this.filteredData=[...this.assets])}catch(e){this.assets=this.generateSampleAssets(),this.filteredData=[...this.assets]}finally{this.loading=!1,this.showLoading(!1)}}async loadCategories(){try{const e=await x.getActiveCategories();e&&e.success&&e.data?this.categories=e.data.map(e=>e.name||e):this.categories=["Computer","Furniture","Vehicle","Equipment","Mobile Device"]}catch(e){this.categories=["Computer","Furniture","Vehicle","Equipment","Mobile Device"]}}generateSampleAssets(){const e={Computer:["Dell Laptop XPS 15",'MacBook Pro 16"',"HP Desktop Workstation","Lenovo ThinkPad"],Furniture:["Office Desk Oak","Ergonomic Chair","Meeting Table","Filing Cabinet"],Vehicle:["Toyota Camry 2023","Honda CR-V 2022","Ford Transit Van"],Equipment:["Projector Epson","Printer Canon","Scanner HP","Whiteboard"],"Mobile Device":["iPhone 15 Pro","Samsung Galaxy S24",'iPad Pro 12.9"']},t=["Available","In Use","Maintenance"],s=["John Doe","Jane Smith","Bob Johnson","Alice Williams"],n=["Screen broken","Battery replacement","Software update","Hardware check"];let a=[],i=1;return Object.keys(e).forEach(o=>{e[o].forEach(e=>{const r=t[Math.floor(Math.random()*t.length)],c={id:i++,name:e,code:"AST-".concat(String(i).padStart(4,"0")),category:o,status:r,purchaseDate:this.randomDate(),value:Math.floor(5e3*Math.random())+500,assignedTo:"In Use"===r?s[Math.floor(Math.random()*s.length)]:null,assignedDate:"In Use"===r?this.randomDate():null,issue:"Maintenance"===r?n[Math.floor(Math.random()*n.length)]:null,maintenanceDate:"Maintenance"===r?this.randomDate():null};a.push(c)})}),a}showLoading(e){const t=document.getElementById("assetsLoading");t&&(t.style.display=e?"block":"none")}randomDate(){const e=new Date(2022,0,1),t=new Date;return new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime())).toISOString().split("T")[0]}populateCategories(){const e=document.getElementById("filterCategory");e&&this.categories.forEach(t=>{const s=document.createElement("option");s.value=t,s.textContent=t,e.appendChild(s)})}setupEventListeners(){const e=document.getElementById("btnAddAsset");e&&e.addEventListener("click",()=>this.handleAdd());const t=document.getElementById("btnRefreshAssets");t&&t.addEventListener("click",async()=>{t.innerHTML='<i class="fas fa-sync-alt fa-spin me-2"></i>Refreshing...',t.disabled=!0;try{await this.loadFromAPI(),await this.loadCategories(),this.loadAndRender(),window.showNotification&&window.showNotification("success","âœ… Assets refreshed successfully from API")}catch(e){window.showNotification&&window.showNotification("danger","âŒ Failed to refresh assets")}finally{t.innerHTML='<i class="fas fa-sync-alt me-2"></i>Refresh',t.disabled=!1}});const s=document.getElementById("searchAssets");if(s){let e;s.addEventListener("input",t=>{clearTimeout(e),e=setTimeout(()=>{this.applyFilters()},300)})}const n=document.getElementById("filterCategory"),a=document.getElementById("filterStatus");n&&n.addEventListener("change",()=>this.applyFilters()),a&&a.addEventListener("change",()=>this.applyFilters());const i=document.getElementById("btnResetFilters");i&&i.addEventListener("click",()=>this.resetFilters());const o=document.getElementById("availableTab"),r=document.getElementById("inuseTab"),c=document.getElementById("maintenanceTab");o&&o.addEventListener("shown.bs.tab",()=>{this.currentTab="available",this.currentPage=1,this.renderCurrentTab()}),r&&r.addEventListener("shown.bs.tab",()=>{this.currentTab="inuse",this.currentPage=1,this.renderCurrentTab()}),c&&c.addEventListener("shown.bs.tab",()=>{this.currentTab="maintenance",this.currentPage=1,this.renderCurrentTab()})}loadAndRender(){this.applyFilters()}applyFilters(){var e,t,s;const n=(null==(e=document.getElementById("searchAssets"))?void 0:e.value.toLowerCase())||"",a=(null==(t=document.getElementById("filterCategory"))?void 0:t.value)||"",i=(null==(s=document.getElementById("filterStatus"))?void 0:s.value)||"";this.filteredData=this.assets.filter(e=>{let t=!0;return n&&(t=t&&(e.name.toLowerCase().includes(n)||e.code.toLowerCase().includes(n)||e.category.toLowerCase().includes(n))),a&&(t=t&&e.category===a),i&&(t=t&&e.status===i),t}),this.currentPage=1,this.updateStats(),this.renderCurrentTab()}resetFilters(){document.getElementById("searchAssets").value="",document.getElementById("filterCategory").value="",document.getElementById("filterStatus").value="",this.applyFilters()}updateStats(){const e=this.assets.length,t=this.assets.filter(e=>"Available"===e.status).length,s=this.assets.filter(e=>"In Use"===e.status).length,n=this.assets.filter(e=>"Maintenance"===e.status).length;document.getElementById("totalAssets").textContent=e,document.getElementById("availableAssets").textContent=t,document.getElementById("inUseAssets").textContent=s,document.getElementById("maintenanceAssets").textContent=n}renderCurrentTab(){const e=this.filteredData.filter(e=>"Available"===e.status),t=this.filteredData.filter(e=>"In Use"===e.status),s=this.filteredData.filter(e=>"Maintenance"===e.status);document.getElementById("availableCount").textContent=e.length,document.getElementById("inuseCount").textContent=t.length,document.getElementById("maintenanceCount").textContent=s.length,"available"===this.currentTab?this.renderTable("availableTableBody","availableEmpty",e):"inuse"===this.currentTab?this.renderTable("inuseTableBody","inuseEmpty",t):"maintenance"===this.currentTab&&this.renderTable("maintenanceTableBody","maintenanceEmpty",s);const n="available"===this.currentTab?e:"inuse"===this.currentTab?t:s;document.getElementById("showingCount").textContent=n.length,document.getElementById("totalCount").textContent=this.assets.length}renderTable(e,t,s){const n=document.getElementById(e),a=document.getElementById(t);if(!n)return;const i=(this.currentPage-1)*this.pageSize,o=i+this.pageSize,r=s.slice(i,o);if(0===r.length)return n.closest(".table-responsive").classList.add("d-none"),void(a&&a.classList.remove("d-none"));n.closest(".table-responsive").classList.remove("d-none"),a&&a.classList.add("d-none");const c=document.createDocumentFragment();r.forEach((e,t)=>{const s=document.createElement("tr");"available"===this.currentTab?s.innerHTML="\n                    <td>".concat(i+t+1,"</td>\n                    <td><strong>").concat(e.name,"</strong></td>\n                    <td><code>").concat(e.code,'</code></td>\n                    <td><span class="badge bg-info">').concat(e.category,"</span></td>\n                    <td>").concat(e.purchaseDate,"</td>\n                    <td>$").concat(e.value.toLocaleString(),'</td>\n                    <td>\n                        <button class="btn btn-sm btn-outline-primary btn-edit" data-id="').concat(e.id,'">\n                            <i class="fas fa-edit"></i>\n                        </button>\n                        <button class="btn btn-sm btn-outline-danger btn-delete" data-id="').concat(e.id,'">\n                            <i class="fas fa-trash"></i>\n                        </button>\n                    </td>\n                '):"inuse"===this.currentTab?s.innerHTML="\n                    <td>".concat(i+t+1,"</td>\n                    <td><strong>").concat(e.name,"</strong></td>\n                    <td><code>").concat(e.code,'</code></td>\n                    <td><span class="badge bg-info">').concat(e.category,"</span></td>\n                    <td>").concat(e.assignedTo,"</td>\n                    <td>").concat(e.assignedDate,'</td>\n                    <td>\n                        <button class="btn btn-sm btn-outline-primary btn-edit" data-id="').concat(e.id,'">\n                            <i class="fas fa-edit"></i>\n                        </button>\n                        <button class="btn btn-sm btn-outline-danger btn-delete" data-id="').concat(e.id,'">\n                            <i class="fas fa-trash"></i>\n                        </button>\n                    </td>\n                '):s.innerHTML="\n                    <td>".concat(i+t+1,"</td>\n                    <td><strong>").concat(e.name,"</strong></td>\n                    <td><code>").concat(e.code,'</code></td>\n                    <td><span class="badge bg-info">').concat(e.category,"</span></td>\n                    <td>").concat(e.issue,"</td>\n                    <td>").concat(e.maintenanceDate,'</td>\n                    <td>\n                        <button class="btn btn-sm btn-outline-primary btn-edit" data-id="').concat(e.id,'">\n                            <i class="fas fa-edit"></i>\n                        </button>\n                        <button class="btn btn-sm btn-outline-danger btn-delete" data-id="').concat(e.id,'">\n                            <i class="fas fa-trash"></i>\n                        </button>\n                    </td>\n                '),c.appendChild(s)}),n.innerHTML="",n.appendChild(c),this.attachRowEventListeners(n)}attachRowEventListeners(e){e.querySelectorAll(".btn-edit").forEach(e=>{e.addEventListener("click",e=>{const t=parseInt(e.currentTarget.dataset.id);this.handleEdit(t)})}),e.querySelectorAll(".btn-delete").forEach(e=>{e.addEventListener("click",e=>{const t=parseInt(e.currentTarget.dataset.id);this.handleDelete(t)})})}handleAdd(){window.router?window.router.navigate("assetscreate"):window.location.href="/assetscreate"}handleEdit(e){this.assets.find(t=>t.id===e)&&(window.router?window.router.navigate("assetsupdate",{id:e}):(sessionStorage.setItem("crudId",e),window.location.href="/assetsupdate"))}async handleDelete(e){const t=this.assets.find(t=>t.id===e);if(!t)return;await S.show({type:"danger",title:"Delete Asset",message:"Are you sure you want to delete ".concat(t.name,"? This action cannot be undone."),okText:"Delete",cancelText:"Cancel",okClass:"btn-danger"})&&(this.assets=this.assets.filter(t=>t.id!==e),this.applyFilters(),this.showNotification("success","Asset deleted successfully"))}showNotification(e,t){window.showNotification&&window.showNotification(e,t)}};const N=new class{constructor(){this.mode="create",this.assetId=null,this.asset=null,this.categories=[]}async initialize(){try{this.mode=sessionStorage.getItem("crudMode")||"create",this.assetId=sessionStorage.getItem("crudId"),await this.loadCategories(),this.setupEventListeners(),this.updatePageTitle(),"update"===this.mode&&this.assetId&&await this.loadAsset(parseInt(this.assetId))}catch(e){}}async loadCategories(){try{const e=await x.getActiveCategories();e&&e.success&&e.data&&(this.categories=e.data,this.populateCategoryDropdown())}catch(e){}}populateCategoryDropdown(){const e=document.getElementById("categoryId");e&&(e.innerHTML='<option value="">Select Category</option>',this.categories.forEach(t=>{const s=document.createElement("option");s.value=t.categoryId,s.textContent=t.categoryName,e.appendChild(s)}))}setupEventListeners(){const e=document.getElementById("assetForm");document.getElementById("btnSaveAsset");const t=document.getElementById("btnCancelAsset"),s=document.getElementById("btnBackToAssets");e&&(e.addEventListener("submit",e=>{e.preventDefault(),this.handleSubmit()}),t&&t.addEventListener("click",()=>{this.handleCancel()}),s&&s.addEventListener("click",()=>{this.handleCancel()}))}updatePageTitle(){const e=document.getElementById("crudTitle"),t=document.getElementById("breadcrumbAction");"update"===this.mode?(e&&(e.innerHTML='<i class="fas fa-box me-2"></i>Edit Asset'),t&&(t.textContent="Edit")):(e&&(e.innerHTML='<i class="fas fa-box me-2"></i>Add New Asset'),t&&(t.textContent="Add New"))}async loadAsset(e){try{const t=await x.getAsset(e);if(!(t&&t.success&&t.data))throw new Error("Failed to load asset");this.asset=t.data,this.populateForm(this.asset)}catch(t){alert("Failed to load asset data. Please try again."),this.handleCancel()}}populateForm(e){document.getElementById("assetName").value=e.assetName||"",document.getElementById("serialNumber").value=e.serialNumber||"",document.getElementById("categoryId").value=e.categoryId||"",document.getElementById("condition").value=e.condition||"",e.purchaseDate&&(document.getElementById("purchaseDate").value=e.purchaseDate.split("T")[0]),document.getElementById("purchasePrice").value=e.purchasePrice||""}getFormData(){const e={assetName:document.getElementById("assetName").value.trim(),categoryId:parseInt(document.getElementById("categoryId").value),serialNumber:document.getElementById("serialNumber").value.trim()||null,condition:document.getElementById("condition").value||null},t=document.getElementById("purchaseDate").value;t&&(e.purchaseDate=new Date(t).toISOString());const s=document.getElementById("purchasePrice").value;return s&&(e.purchasePrice=parseFloat(s)),e}validateFormData(e){return e.assetName?!!e.categoryId||(alert("Category is required"),!1):(alert("Asset Name is required"),!1)}async handleSubmit(){const e=document.getElementById("btnSaveAsset");try{const t=this.getFormData();if(!this.validateFormData(t))return;e.innerHTML;let s;if(e.disabled=!0,e.innerHTML='<i class="fas fa-spinner fa-spin me-2"></i>Saving...',s="update"===this.mode?await x.updateAsset(this.assetId,t):await x.createAsset(t),!s||!s.success)throw new Error(s.message||"Failed to save asset");alert("update"===this.mode?"Asset updated successfully!":"Asset created successfully!"),window.router?window.router.navigate("assets"):window.location.href="/assets"}catch(t){alert("Failed to save asset. Please try again."),e.disabled=!1,e.innerHTML='<i class="fas fa-save me-2"></i>Save Asset'}}handleCancel(){window.router?window.router.navigate("assets"):window.location.href="/assets"}};window.categoriesMenu=new class{constructor(){this.categories=[],this.loading=!1}async initialize(){await this.loadFromAPI(),this.setupEventListeners(),this.render(),this.renderChart()}async loadFromAPI(){try{this.loading=!0;const e=await x.getCategories();e&&e.success&&e.data?this.categories=e.data:this.categories=this.generateSampleCategories()}catch(e){this.categories=this.generateSampleCategories()}finally{this.loading=!1}}generateSampleCategories(){return[{id:1,name:"Computer",description:"Computers and laptops",items:15},{id:2,name:"Furniture",description:"Office furniture",items:8},{id:3,name:"Vehicle",description:"Company vehicles",items:3},{id:4,name:"Equipment",description:"Office equipment",items:12},{id:5,name:"Mobile Device",description:"Phones and tablets",items:10}]}setupEventListeners(){const e=document.getElementById("btnAddCategory");e&&e.addEventListener("click",()=>this.handleAdd());const t=document.getElementById("btnRefreshCategories");t&&t.addEventListener("click",async()=>{t.innerHTML='<i class="fas fa-sync-alt fa-spin me-2"></i>Refreshing...',t.disabled=!0;try{await this.loadFromAPI(),this.render(),this.renderChart(),window.showNotification&&window.showNotification("success","âœ… Categories refreshed successfully from API")}catch(e){window.showNotification&&window.showNotification("danger","âŒ Failed to refresh categories")}finally{t.innerHTML='<i class="fas fa-sync-alt me-2"></i>Refresh',t.disabled=!1}})}render(){const e=document.getElementById("categoriesTableBody");if(!e)return;const t=this.categories.map((e,t)=>"\n            <tr>\n                <td>".concat(t+1,"</td>\n                <td><strong>").concat(e.name,"</strong></td>\n                <td>").concat(e.description,'</td>\n                <td><span class="badge bg-info">').concat(e.items,'</span></td>\n                <td>\n                    <button class="btn btn-sm btn-outline-primary" onclick="categoriesMenu.handleEdit(').concat(e.id,')">\n                        <i class="fas fa-edit"></i>\n                    </button>\n                    <button class="btn btn-sm btn-outline-danger" onclick="categoriesMenu.handleDelete(').concat(e.id,')">\n                        <i class="fas fa-trash"></i>\n                    </button>\n                </td>\n            </tr>\n        ')).join("");e.innerHTML=t,document.getElementById("totalCategories").textContent=this.categories.length}renderChart(){const e=document.getElementById("categoryChart");if(!e||"undefined"==typeof Chart)return;const t=e.getContext("2d");new Chart(t,{type:"doughnut",data:{labels:this.categories.map(e=>e.name),datasets:[{data:this.categories.map(e=>e.items),backgroundColor:["#dc2626","#3b82f6","#10b981","#f59e0b","#8b5cf6"]}]},options:{responsive:!0,maintainAspectRatio:!0}})}async handleAdd(){window.router?window.router.navigate("categoriescreate"):window.location.href="/categoriescreate"}async handleEdit(e){this.categories.find(t=>t.id===e)&&(window.router?window.router.navigate("categoriesupdate",{id:e}):(sessionStorage.setItem("crudId",e),window.location.href="/categoriesupdate"))}async handleDelete(e){const t=this.categories.find(t=>t.id===e);if(!t)return;await S.show({type:"danger",title:"Delete Category",message:"Delete ".concat(t.name,"? This cannot be undone."),okText:"Delete",okClass:"btn-danger"})&&(this.categories=this.categories.filter(t=>t.id!==e),this.render(),this.showNotification("success","Category deleted successfully"))}showNotification(e,t){window.showNotification&&window.showNotification(e,t)}};const q=window.categoriesMenu;const F=new class{constructor(){this.mode="create",this.categoryId=null,this.category=null}async initialize(){try{this.mode=sessionStorage.getItem("crudMode")||"create",this.categoryId=sessionStorage.getItem("crudId"),this.setupEventListeners(),this.updatePageTitle(),"update"===this.mode&&this.categoryId&&await this.loadCategory(parseInt(this.categoryId))}catch(e){}}setupEventListeners(){const e=document.getElementById("categoryForm");document.getElementById("btnSaveCategory");const t=document.getElementById("btnCancelCategory"),s=document.getElementById("btnBackToCategories");e&&(e.addEventListener("submit",e=>{e.preventDefault(),this.handleSubmit()}),t&&t.addEventListener("click",()=>{this.handleCancel()}),s&&s.addEventListener("click",()=>{this.handleCancel()}))}updatePageTitle(){const e=document.getElementById("crudTitle"),t=document.getElementById("breadcrumbAction");"update"===this.mode?(e&&(e.innerHTML='<i class="fas fa-tag me-2"></i>Edit Category'),t&&(t.textContent="Edit")):(e&&(e.innerHTML='<i class="fas fa-tag me-2"></i>Add New Category'),t&&(t.textContent="Add New"))}async loadCategory(e){try{const t=await x.getCategory(e);if(!(t&&t.success&&t.data))throw new Error("Failed to load category");this.category=t.data,this.populateForm(this.category)}catch(t){alert("Failed to load category data. Please try again."),this.handleCancel()}}populateForm(e){document.getElementById("categoryName").value=e.categoryName||"",document.getElementById("description").value=e.description||""}getFormData(){return{categoryName:document.getElementById("categoryName").value.trim(),description:document.getElementById("description").value.trim()||null}}validateFormData(e){return!!e.categoryName||(alert("Category Name is required"),!1)}async handleSubmit(){const e=document.getElementById("btnSaveCategory");try{const t=this.getFormData();if(!this.validateFormData(t))return;e.innerHTML;let s;if(e.disabled=!0,e.innerHTML='<i class="fas fa-spinner fa-spin me-2"></i>Saving...',s="update"===this.mode?await x.updateCategory(this.categoryId,t):await x.createCategory(t),!s||!s.success)throw new Error(s.message||"Failed to save category");alert("update"===this.mode?"Category updated successfully!":"Category created successfully!"),window.router?window.router.navigate("categories"):window.location.href="/categories"}catch(t){alert("Failed to save category. Please try again."),e.disabled=!1,e.innerHTML='<i class="fas fa-save me-2"></i>Save Category'}}handleCancel(){window.router?window.router.navigate("categories"):window.location.href="/categories"}};const U=new class{constructor(){this.transactions=[],this.loading=!1}async loadFromAPI(){try{this.loading=!0;const e=await x.getTransactions();e&&e.success&&e.data?this.transactions=e.data:this.transactions=this.generateSampleTransactions()}catch(e){this.transactions=this.generateSampleTransactions()}finally{this.loading=!1}}generateSampleTransactions(){const e=["Checkout","Return","Transfer","Maintenance"],t=["Dell Laptop","Office Chair","iPhone 15","Projector"],s=["John Doe","Jane Smith","Bob Johnson","Warehouse"],n=["Completed","Pending","Approved"];return Array.from({length:20},(a,i)=>({id:i+1,date:new Date(Date.now()-30*Math.random()*24*60*60*1e3).toISOString().split("T")[0],type:e[Math.floor(Math.random()*e.length)],asset:t[Math.floor(Math.random()*t.length)],from:s[Math.floor(Math.random()*s.length)],to:s[Math.floor(Math.random()*s.length)],status:n[Math.floor(Math.random()*n.length)]}))}async initialize(){await this.loadFromAPI(),this.setupEventListeners(),this.updateStats(),this.render()}setupEventListeners(){const e=document.getElementById("btnNewTransaction");e&&e.addEventListener("click",()=>this.handleNew());const t=document.getElementById("btnRefreshTransactions");t&&t.addEventListener("click",async()=>{t.innerHTML='<i class="fas fa-sync-alt fa-spin me-2"></i>Refreshing...',t.disabled=!0;try{await this.loadFromAPI(),this.updateStats(),this.render(),window.showNotification&&window.showNotification("success","âœ… Transactions refreshed successfully from API")}catch(e){window.showNotification&&window.showNotification("danger","âŒ Failed to refresh transactions")}finally{t.innerHTML='<i class="fas fa-sync-alt me-2"></i>Refresh',t.disabled=!1}})}updateStats(){const e=(new Date).toISOString().split("T")[0],t=this.transactions.filter(t=>t.date===e).length,s=this.transactions.filter(e=>"Checkout"===e.type).length,n=this.transactions.filter(e=>"Return"===e.type).length,a=this.transactions.filter(e=>"Transfer"===e.type).length;document.getElementById("todayTransactions").textContent=t,document.getElementById("checkoutCount").textContent=s,document.getElementById("returnCount").textContent=n,document.getElementById("transferCount").textContent=a,document.getElementById("totalTransactions").textContent=this.transactions.length}render(){const e=document.getElementById("transactionsTableBody");if(!e)return;const t={Completed:"success",Pending:"warning",Approved:"info"},s=this.transactions.slice(0,10).map(e=>"\n            <tr>\n                <td>".concat(e.date,'</td>\n                <td><span class="badge bg-secondary">').concat(e.type,"</span></td>\n                <td><strong>").concat(e.asset,"</strong></td>\n                <td>").concat(e.from,"</td>\n                <td>").concat(e.to,'</td>\n                <td><span class="badge bg-').concat(t[e.status],'">').concat(e.status,'</span></td>\n                <td>\n                    <button class="btn btn-sm btn-outline-primary" title="View">\n                        <i class="fas fa-eye"></i>\n                    </button>\n                </td>\n            </tr>\n        ')).join("");e.innerHTML=s}async handleNew(){window.router?window.router.navigate("transactionscreate"):window.location.href="/transactionscreate"}showNotification(e,t){window.showNotification&&window.showNotification(e,t)}};const z=new class{constructor(){this.mode="create",this.transactionId=null,this.transaction=null,this.assets=[],this.employees=[]}async initialize(){try{this.mode=sessionStorage.getItem("crudMode")||"create",this.transactionId=sessionStorage.getItem("crudId"),await Promise.all([this.loadAssets(),this.loadEmployees()]),this.setupEventListeners(),this.updatePageTitle(),"update"===this.mode&&this.transactionId&&await this.loadTransaction(parseInt(this.transactionId))}catch(e){}}async loadAssets(){try{const e=await x.getAssets();e&&e.success&&e.data&&(this.assets=e.data,this.populateAssetDropdown())}catch(e){}}async loadEmployees(){try{const e=await x.getActiveEmployees();e&&e.success&&e.data&&(this.employees=e.data,this.populateEmployeeDropdown())}catch(e){}}populateAssetDropdown(){const e=document.getElementById("assetId");e&&(e.innerHTML='<option value="">Select Asset</option>',this.assets.forEach(t=>{const s=document.createElement("option");s.value=t.assetId,s.textContent=t.assetName,e.appendChild(s)}))}populateEmployeeDropdown(){const e=document.getElementById("employeeId");e&&(e.innerHTML='<option value="">Select Employee</option>',this.employees.forEach(t=>{const s=document.createElement("option");s.value=t.employeeId,s.textContent=t.fullName,e.appendChild(s)}))}setupEventListeners(){const e=document.getElementById("transactionForm");document.getElementById("btnSaveTransaction");const t=document.getElementById("btnCancelTransaction"),s=document.getElementById("btnBackToTransactions");e&&(e.addEventListener("submit",e=>{e.preventDefault(),this.handleSubmit()}),t&&t.addEventListener("click",()=>{this.handleCancel()}),s&&s.addEventListener("click",()=>{this.handleCancel()}))}updatePageTitle(){const e=document.getElementById("crudTitle"),t=document.getElementById("breadcrumbAction");"update"===this.mode?(e&&(e.innerHTML='<i class="fas fa-exchange-alt me-2"></i>Edit Transaction'),t&&(t.textContent="Edit")):(e&&(e.innerHTML='<i class="fas fa-exchange-alt me-2"></i>Add New Transaction'),t&&(t.textContent="Add New"))}async loadTransaction(e){try{const t=await x.getTransaction(e);if(!(t&&t.success&&t.data))throw new Error("Failed to load transaction");this.transaction=t.data,this.populateForm(this.transaction)}catch(t){alert("Failed to load transaction data. Please try again."),this.handleCancel()}}populateForm(e){if(document.getElementById("assetId").value=e.assetId||"",document.getElementById("employeeId").value=e.employeeId||"",document.getElementById("transactionType").value=e.transactionType||"",document.getElementById("notes").value=e.notes||"",e.transactionDate){const t=new Date(e.transactionDate);document.getElementById("transactionDate").value=t.toISOString().slice(0,16)}if(e.returnDate){const t=new Date(e.returnDate);document.getElementById("returnDate").value=t.toISOString().slice(0,16)}}getFormData(){const e={assetId:parseInt(document.getElementById("assetId").value),transactionDate:new Date(document.getElementById("transactionDate").value).toISOString()},t=document.getElementById("employeeId").value;t&&(e.employeeId=parseInt(t));const s=document.getElementById("transactionType").value;s&&(e.transactionType=s);const n=document.getElementById("returnDate").value;n&&(e.returnDate=new Date(n).toISOString());const a=document.getElementById("notes").value.trim();return a&&(e.notes=a),e}validateFormData(e){return e.assetId?!!e.transactionDate||(alert("Transaction Date is required"),!1):(alert("Asset is required"),!1)}async handleSubmit(){const e=document.getElementById("btnSaveTransaction");try{const t=this.getFormData();if(!this.validateFormData(t))return;e.innerHTML;let s;if(e.disabled=!0,e.innerHTML='<i class="fas fa-spinner fa-spin me-2"></i>Saving...',s="update"===this.mode?await x.updateTransaction(this.transactionId,t):await x.createTransaction(t),!s||!s.success)throw new Error(s.message||"Failed to save transaction");alert("update"===this.mode?"Transaction updated successfully!":"Transaction created successfully!"),window.router?window.router.navigate("transactions"):window.location.href="/transactions"}catch(t){alert("Failed to save transaction. Please try again."),e.disabled=!1,e.innerHTML='<i class="fas fa-save me-2"></i>Save Transaction'}}handleCancel(){window.router?window.router.navigate("transactions"):window.location.href="/transactions"}};const H=new class{constructor(){this.recentReports=[{name:"Asset Inventory Q4 2024",type:"Asset",generated:"2024-12-01",by:"Admin"},{name:"Employee Records Nov 2024",type:"Employee",generated:"2024-11-30",by:"HR Manager"},{name:"Transaction History Q3",type:"Transaction",generated:"2024-10-15",by:"Accountant"}]}initialize(){this.setupEventListeners(),this.render()}setupEventListeners(){var e,t,s,n,a;null==(e=document.getElementById("btnAssetReport"))||e.addEventListener("click",()=>this.generateQuickReport("Asset Inventory")),null==(t=document.getElementById("btnEmployeeReport"))||t.addEventListener("click",()=>this.generateQuickReport("Employee")),null==(s=document.getElementById("btnTransactionReport"))||s.addEventListener("click",()=>this.generateQuickReport("Transaction")),null==(n=document.getElementById("btnFinancialReport"))||n.addEventListener("click",()=>this.generateQuickReport("Financial")),null==(a=document.getElementById("btnGenerateReport"))||a.addEventListener("click",()=>this.generateCustomReport())}render(){const e=document.getElementById("recentReportsBody");if(!e)return;const t=this.recentReports.map(e=>"\n            <tr>\n                <td><strong>".concat(e.name,'</strong></td>\n                <td><span class="badge bg-info">').concat(e.type,"</span></td>\n                <td>").concat(e.generated,"</td>\n                <td>").concat(e.by,'</td>\n                <td>\n                    <button class="btn btn-sm btn-outline-primary" title="Download">\n                        <i class="fas fa-download"></i>\n                    </button>\n                    <button class="btn btn-sm btn-outline-secondary" title="View">\n                        <i class="fas fa-eye"></i>\n                    </button>\n                </td>\n            </tr>\n        ')).join("");e.innerHTML=t}async generateQuickReport(e){await S.show({type:"confirm",title:"Generate Report",message:"Generate ".concat(e," Report?"),okText:"Generate"})&&(this.showNotification("success","".concat(e," Report generated successfully")),setTimeout(()=>{const t=document.createElement("a");t.href="#",t.download="".concat(e,"-report.pdf"),t.click()},500))}async generateCustomReport(){var e,t,s;const n=null==(e=document.getElementById("reportType"))?void 0:e.value,a=null==(t=document.getElementById("fromDate"))?void 0:t.value,i=null==(s=document.getElementById("toDate"))?void 0:s.value;if(!a||!i)return void this.showNotification("warning","Please select date range");await S.show({type:"confirm",title:"Generate Custom Report",message:"Generate ".concat(n," from ").concat(a," to ").concat(i,"?"),okText:"Generate"})&&this.showNotification("success","Custom report generated successfully")}showNotification(e,t){window.showNotification&&window.showNotification(e,t)}};const O=new class{constructor(){this.currentUser=this.loadUserData()}initialize(){this.setupEventListeners()}loadUserData(){const e=localStorage.getItem("currentUser");return e?JSON.parse(e):{name:"John Doe",email:"john.doe@company.com",avatar:null}}setupEventListeners(){const e=document.getElementById("changeAvatarBtn");e&&e.addEventListener("click",e=>{e.preventDefault(),this.handleChangeAvatar()});const t=document.getElementById("changePasswordBtn");t&&t.addEventListener("click",e=>{e.preventDefault(),this.handleChangePassword()});const s=document.getElementById("profileForm");s&&s.addEventListener("submit",e=>{e.preventDefault(),this.handleSaveProfile()});const n=document.getElementById("resetFormBtn");n&&n.addEventListener("click",e=>{e.preventDefault(),this.handleResetForm()});const a=document.getElementById("cancelProfileBtn");a&&a.addEventListener("click",e=>{e.preventDefault(),this.handleCancel()})}handleChangeAvatar(){const e=document.createElement("input");e.type="file",e.accept="image/*",e.style.display="none",e.addEventListener("change",e=>{const t=e.target.files[0];t&&this.previewAvatar(t)}),document.body.appendChild(e),e.click(),document.body.removeChild(e)}previewAvatar(e){const t=new FileReader;t.onload=e=>{const t=document.querySelector(".profile-avatar img");t&&(t.src=e.target.result,this.currentUser.avatar=e.target.result,localStorage.setItem("currentUser",JSON.stringify(this.currentUser)),this.showNotification("success","âœ… Avatar updated!"))},t.readAsDataURL(e)}handleChangePassword(){window.router?window.router.navigate("reset-password"):window.location.href="/reset-password"}handleSaveProfile(){var e,t,s,n,a,i,o,r,c,l;const d=null==(e=document.getElementById("firstName"))?void 0:e.value,u=null==(t=document.getElementById("lastName"))?void 0:t.value,h=null==(s=document.getElementById("profileEmail"))?void 0:s.value;null==(n=document.getElementById("profilePhone"))||n.value,null==(a=document.getElementById("profileBio"))||a.value,null==(i=document.getElementById("profileDepartment"))||i.value,null==(o=document.getElementById("profilePosition"))||o.value,null==(r=document.getElementById("profileLocation"))||r.value,null==(c=document.getElementById("profileLanguage"))||c.value,null==(l=document.getElementById("profileTimezone"))||l.value;if(!d||!u||!h)return void this.showNotification("danger","âŒ Please fill in all required fields");const m=document.getElementById("saveProfileBtn");if(m){const e=m.innerHTML;m.innerHTML='<i class="fas fa-spinner fa-spin me-2"></i>Saving...',m.disabled=!0,setTimeout(()=>{m.innerHTML=e,m.disabled=!1,this.showNotification("success","âœ… Profile updated successfully!")},1e3)}}handleResetForm(){const e=document.getElementById("profileForm");e&&(e.reset(),this.showNotification("info","â†» Form reset to default values"))}handleCancel(){window.router?window.router.navigate("dashboard"):window.location.href="/dashboard"}handleSavePassword(e){const t=document.getElementById("currentPassword").value,s=document.getElementById("newPassword").value,n=document.getElementById("confirmPassword").value;t&&s&&n?s===n?s.length<8?this.showNotification("danger","âŒ Password must be at least 8 characters"):(e.hide(),this.showNotification("success","âœ… Password changed successfully!")):this.showNotification("danger","âŒ Passwords do not match"):this.showNotification("danger","âŒ Please fill in all fields")}showNotification(e,t){"undefined"!=typeof RedAdminUtils&&RedAdminUtils.showNotification?RedAdminUtils.showNotification(e,t):alert(t)}};const j=new class{constructor(){this.settings=this.loadSettings()}initialize(){this.setupEventListeners(),this.populateForm()}loadSettings(){const e=localStorage.getItem("appSettings");return e?JSON.parse(e):{appName:"RedAdmin Pro",timeZone:"UTC-5 (EST)",language:"English",currency:"USD",emailNotif:!0,pushNotif:!0,smsNotif:!1,twoFactor:!1,loginAlerts:!0,sessionTimeout:"30"}}setupEventListeners(){const e=document.getElementById("settingsForm");e&&e.addEventListener("submit",e=>(e.preventDefault(),this.handleSave(),!1));const t=document.getElementById("saveSettingsBtn");t&&t.addEventListener("click",e=>{e.preventDefault(),this.handleSave()});const s=document.getElementById("cancelSettingsBtn");s&&(s.innerHTML='<i class="fas fa-redo me-2"></i>Reset to Saved',s.addEventListener("click",async()=>{await S.show({type:"warning",title:"Reset Settings",message:"Discard all changes and reset to last saved settings?",okText:"Reset",cancelText:"Keep Changes",okClass:"btn-warning"})&&(this.populateForm(),this.showNotification("info","Changes discarded"))}))}populateForm(){this.setInputValue("appName",this.settings.appName),this.setInputValue("timeZone",this.settings.timeZone),this.setInputValue("language",this.settings.language),this.setInputValue("currency",this.settings.currency),this.setCheckboxValue("emailNotif",this.settings.emailNotif),this.setCheckboxValue("pushNotif",this.settings.pushNotif),this.setCheckboxValue("smsNotif",this.settings.smsNotif),this.setCheckboxValue("twoFactor",this.settings.twoFactor),this.setCheckboxValue("loginAlerts",this.settings.loginAlerts),this.setInputValue("sessionTimeout",this.settings.sessionTimeout)}setInputValue(e,t){const s=document.getElementById(e);s&&(s.value=t||"")}setCheckboxValue(e,t){const s=document.getElementById(e);s&&(s.checked=Boolean(t))}getInputValue(e){const t=document.getElementById(e);return t?t.value:""}getCheckboxValue(e){const t=document.getElementById(e);return!!t&&t.checked}async handleSave(){try{if(!(await S.show({type:"confirm",title:"Save Settings",message:"Save these settings? This will update your application preferences.",okText:"Save Settings",cancelText:"Cancel",okClass:"btn-primary"})))return;this.settings={appName:this.getInputValue("appName"),timeZone:this.getInputValue("timeZone"),language:this.getInputValue("language"),currency:this.getInputValue("currency"),emailNotif:this.getCheckboxValue("emailNotif"),pushNotif:this.getCheckboxValue("pushNotif"),smsNotif:this.getCheckboxValue("smsNotif"),twoFactor:this.getCheckboxValue("twoFactor"),loginAlerts:this.getCheckboxValue("loginAlerts"),sessionTimeout:this.getInputValue("sessionTimeout")},localStorage.setItem("appSettings",JSON.stringify(this.settings)),this.showNotification("success","âœ… Settings saved successfully!")}catch(e){this.showNotification("danger","âŒ Failed to save settings")}}showNotification(e,t){"undefined"!=typeof RedAdminUtils&&RedAdminUtils.showNotification?RedAdminUtils.showNotification(e,t):alert(t)}};const V=new class{constructor(){this.data=this.generateSampleData(),this.filteredData=[...this.data],this.selectedIds=new Set,this.currentPage=1,this.pageSize=10,this.filters={department:"",status:"",salary:""}}initialize(){this.setupEventListeners(),this.render()}generateSampleData(){const e=["John Doe","Jane Smith","Bob Johnson","Alice Williams","Charlie Brown","Diana Prince","Ethan Hunt","Fiona Gallagher","George Martin","Hannah Montana","Ian Fleming","Julia Roberts","Kevin Hart","Laura Palmer","Michael Scott","Nancy Drew","Oliver Twist","Peter Parker","Quinn Fabray","Rachel Green"],t=["Software Engineer","Product Manager","UX Designer","Data Analyst","DevOps Engineer"],s=["Engineering","Marketing","Sales","HR","Finance"],n=["Active","Inactive"];return Array.from({length:50},(a,i)=>({id:i+1,name:e[i%e.length],email:"employee".concat(i+1,"@company.com"),position:t[Math.floor(Math.random()*t.length)],department:s[Math.floor(Math.random()*s.length)],salary:Math.floor(8e4*Math.random())+4e4,status:n[Math.floor(Math.random()*n.length)]}))}setupEventListeners(){const e=document.getElementById("searchInput");if(e){let t;e.addEventListener("input",e=>{clearTimeout(t),t=setTimeout(()=>{this.handleSearch(e.target.value)},300)})}const t=document.getElementById("btnAddEmployee");t&&t.addEventListener("click",()=>this.handleAdd());const s=document.getElementById("btnImport");s&&s.addEventListener("click",()=>this.handleImport());const n=document.getElementById("btnExport");n&&n.addEventListener("click",()=>this.handleExport());const a=document.getElementById("btnBatchDelete");a&&a.addEventListener("click",()=>this.handleBatchDelete());const i=document.getElementById("btnBatchExport");i&&i.addEventListener("click",()=>this.handleBatchExport());const o=document.getElementById("selectAll");o&&o.addEventListener("change",e=>this.handleSelectAll(e.target.checked));const r=document.getElementById("btnApplyFilters");r&&r.addEventListener("click",()=>this.applyFilters());const c=document.getElementById("btnResetFilters");c&&c.addEventListener("click",()=>this.resetFilters())}handleSearch(e){const t=e.toLowerCase();this.filteredData=this.data.filter(e=>e.name.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.position.toLowerCase().includes(t)||e.department.toLowerCase().includes(t)),this.currentPage=1,this.selectedIds.clear(),this.render()}applyFilters(){var e,t,s;this.filters.department=(null==(e=document.getElementById("filterDepartment"))?void 0:e.value)||"",this.filters.status=(null==(t=document.getElementById("filterStatus"))?void 0:t.value)||"",this.filters.salary=(null==(s=document.getElementById("filterSalary"))?void 0:s.value)||"",this.filteredData=this.data.filter(e=>{let t=!0;if(this.filters.department&&e.department!==this.filters.department&&(t=!1),this.filters.status&&e.status!==this.filters.status&&(t=!1),this.filters.salary){const s=e.salary;"0-50000"===this.filters.salary?t=t&&s>=0&&s<=5e4:"50000-80000"===this.filters.salary?t=t&&s>5e4&&s<=8e4:"80000-100000"===this.filters.salary?t=t&&s>8e4&&s<=1e5:"100000+"===this.filters.salary&&(t=t&&s>1e5)}return t}),this.currentPage=1,this.selectedIds.clear(),this.render(),this.showNotification("success","Filters applied successfully")}resetFilters(){this.filters={department:"",status:"",salary:""},document.getElementById("filterDepartment").value="",document.getElementById("filterStatus").value="",document.getElementById("filterSalary").value="",this.filteredData=[...this.data],this.currentPage=1,this.selectedIds.clear(),this.render(),this.showNotification("info","Filters reset")}handleSelectAll(e){const t=(this.currentPage-1)*this.pageSize,s=t+this.pageSize,n=this.filteredData.slice(t,s);e?n.forEach(e=>this.selectedIds.add(e.id)):n.forEach(e=>this.selectedIds.delete(e.id)),this.updateBatchButtons(),this.updateTableCheckboxes()}handleCheckbox(e,t){t?this.selectedIds.add(e):this.selectedIds.delete(e),this.updateBatchButtons(),this.updateSelectAllCheckbox()}async handleAdd(){await S.show({type:"confirm",title:"Add New Employee",message:"This will open the employee creation form. Continue?",okText:"Continue",cancelText:"Cancel"})&&(window.location.hash="#employeecrud",sessionStorage.setItem("employeeCrudMode","add"))}async handleEdit(e){const t=this.data.find(t=>t.id===e);if(!t)return;await S.show({type:"confirm",title:"Edit Employee",message:"Edit information for ".concat(t.name,"?"),okText:"Edit",cancelText:"Cancel"})&&(window.location.hash="#employeecrud",sessionStorage.setItem("employeeCrudMode","edit"),sessionStorage.setItem("employeeCrudId",e))}async handleDelete(e){const t=this.data.find(t=>t.id===e);if(!t)return;await S.show({type:"danger",title:"Delete Employee",message:"Are you sure you want to delete ".concat(t.name,"? This action cannot be undone."),okText:"Delete",cancelText:"Cancel",okClass:"btn-danger"})&&(this.data=this.data.filter(t=>t.id!==e),this.filteredData=this.filteredData.filter(t=>t.id!==e),this.selectedIds.delete(e),this.render(),this.showNotification("success","Employee deleted successfully"))}async handleBatchDelete(){if(0===this.selectedIds.size)return;await S.show({type:"danger",title:"Delete Multiple Employees",message:"Are you sure you want to delete ".concat(this.selectedIds.size," employee(s)? This action cannot be undone."),okText:"Delete All",cancelText:"Cancel",okClass:"btn-danger"})&&(this.data=this.data.filter(e=>!this.selectedIds.has(e.id)),this.filteredData=this.filteredData.filter(e=>!this.selectedIds.has(e.id)),this.selectedIds.clear(),this.render(),this.showNotification("success","Selected employees deleted successfully"))}handleBatchExport(){const e=this.data.filter(e=>this.selectedIds.has(e.id));this.exportToCSV(e)}handleImport(){this.showNotification("info","Import functionality - Coming soon!")}handleExport(){this.exportToCSV(this.filteredData)}exportToCSV(e=this.filteredData){const t=[["ID","Name","Email","Position","Department","Salary","Status"].join(","),...e.map(e=>[e.id,e.name,e.email,e.position,e.department,e.salary,e.status].join(","))].join("\n"),s=new Blob([t],{type:"text/csv"}),n=window.URL.createObjectURL(s),a=document.createElement("a");a.href=n,a.download="employees-".concat(Date.now(),".csv"),a.click(),window.URL.revokeObjectURL(n),this.showNotification("success","Data exported successfully")}render(){const e=document.getElementById("employeeTableBody"),t=document.getElementById("emptyState");if(!e)return;const s=(this.currentPage-1)*this.pageSize,n=s+this.pageSize,a=this.filteredData.slice(s,n);if(0===a.length)return e.closest(".table-responsive").classList.add("d-none"),t&&t.classList.remove("d-none"),void this.updateStats();e.closest(".table-responsive").classList.remove("d-none"),t&&t.classList.add("d-none");const i=document.createDocumentFragment();a.forEach((e,t)=>{const n=document.createElement("tr");n.innerHTML='\n                <td>\n                    <input type="checkbox" class="form-check-input row-checkbox" \n                           data-id="'.concat(e.id,'" ').concat(this.selectedIds.has(e.id)?"checked":"",">\n                </td>\n                <td>").concat(s+t+1,"</td>\n                <td><strong>").concat(e.name,'</strong></td>\n                <td><a href="mailto:').concat(e.email,'">').concat(e.email,"</a></td>\n                <td>").concat(e.position,'</td>\n                <td><span class="badge bg-info">').concat(e.department,"</span></td>\n                <td>$").concat(e.salary.toLocaleString(),'</td>\n                <td><span class="badge bg-').concat("Active"===e.status?"success":"secondary",'">').concat(e.status,'</span></td>\n                <td>\n                    <button class="btn btn-sm btn-outline-primary btn-edit" data-id="').concat(e.id,'" title="Edit">\n                        <i class="fas fa-edit"></i>\n                    </button>\n                    <button class="btn btn-sm btn-outline-danger btn-delete" data-id="').concat(e.id,'" title="Delete">\n                        <i class="fas fa-trash"></i>\n                    </button>\n                </td>\n            '),i.appendChild(n)}),e.innerHTML="",e.appendChild(i),this.attachRowEventListeners(),this.updateStats(),this.renderPagination(),this.updateBatchButtons(),this.updateSelectAllCheckbox()}attachRowEventListeners(){document.querySelectorAll(".row-checkbox").forEach(e=>{e.addEventListener("change",e=>{const t=parseInt(e.target.dataset.id);this.handleCheckbox(t,e.target.checked)})}),document.querySelectorAll(".btn-edit").forEach(e=>{e.addEventListener("click",e=>{const t=parseInt(e.currentTarget.dataset.id);this.handleEdit(t)})}),document.querySelectorAll(".btn-delete").forEach(e=>{e.addEventListener("click",e=>{const t=parseInt(e.currentTarget.dataset.id);this.handleDelete(t)})})}updateStats(){const e=document.getElementById("totalEmployees"),t=document.getElementById("showingCount"),s=document.getElementById("totalCount");e&&(e.textContent=this.data.length),t&&(t.textContent=this.filteredData.length),s&&(s.textContent=this.data.length)}updateBatchButtons(){const e=document.getElementById("btnBatchDelete"),t=document.getElementById("btnBatchExport"),s=document.getElementById("selectedCount"),n=this.selectedIds.size>0;e&&(e.disabled=!n),t&&(t.disabled=!n),s&&(n?(s.textContent="".concat(this.selectedIds.size," selected"),s.style.display="inline-block"):s.style.display="none")}updateSelectAllCheckbox(){const e=document.getElementById("selectAll");if(!e)return;const t=(this.currentPage-1)*this.pageSize,s=t+this.pageSize,n=this.filteredData.slice(t,s),a=n.length>0&&n.every(e=>this.selectedIds.has(e.id));e.checked=a}updateTableCheckboxes(){document.querySelectorAll(".row-checkbox").forEach(e=>{const t=parseInt(e.dataset.id);e.checked=this.selectedIds.has(t)})}renderPagination(){const e=Math.ceil(this.filteredData.length/this.pageSize),t=document.getElementById("pagination");if(!t||e<=1)return void(t&&(t.innerHTML=""));let s="";s+='<li class="page-item '.concat(1===this.currentPage?"disabled":"",'">\n            <button class="page-link" data-page="').concat(this.currentPage-1,'">Previous</button>\n        </li>');for(let n=1;n<=e;n++)1===n||n===e||n>=this.currentPage-1&&n<=this.currentPage+1?s+='<li class="page-item '.concat(n===this.currentPage?"active":"",'">\n                    <button class="page-link" data-page="').concat(n,'">').concat(n,"</button>\n                </li>"):n!==this.currentPage-2&&n!==this.currentPage+2||(s+='<li class="page-item disabled"><span class="page-link">...</span></li>');s+='<li class="page-item '.concat(this.currentPage===e?"disabled":"",'">\n            <button class="page-link" data-page="').concat(this.currentPage+1,'">Next</button>\n        </li>'),t.innerHTML=s,t.querySelectorAll("button[data-page]").forEach(t=>{t.addEventListener("click",()=>{const s=parseInt(t.dataset.page);s>=1&&s<=e&&(this.currentPage=s,this.render())})})}showNotification(e,t){window.showNotification&&window.showNotification(e,t)}},_={};const J=new class{constructor(){this.formData={},this.currentStep=1,this.validationRules=this.setupValidation()}initialize(){this.setupEventListeners(),this.loadSavedData(),this.enableAutoSave()}setupValidation(){return{productName:{required:!0,minLength:3},category:{required:!0},price:{required:!0,min:0},email:{required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/}}}setupEventListeners(){document.querySelectorAll("#model2Page input, #model2Page select, #model2Page textarea").forEach(e=>{e.addEventListener("blur",e=>this.validateField(e.target)),e.addEventListener("input",e=>{this.formData[e.target.id||e.target.name]=e.target.value})});const e=document.getElementById("saveProductBtn");e&&e.addEventListener("click",e=>{e.preventDefault(),this.handleSubmit()});const t=document.getElementById("resetFormBtn");t&&t.addEventListener("click",e=>{e.preventDefault(),this.handleReset()}),this.addAutoComplete()}validateField(e){const t=e.id||e.name,s=e.value,n=this.validationRules[t];if(!n)return!0;let a=!0,i="";if(n.required&&!s?(a=!1,i="This field is required"):n.minLength&&s.length<n.minLength?(a=!1,i="Minimum ".concat(n.minLength," characters required")):n.min&&parseFloat(s)<n.min?(a=!1,i="Value must be at least ".concat(n.min)):n.pattern&&!n.pattern.test(s)&&(a=!1,i="Invalid format"),a)e.classList.remove("is-invalid"),e.classList.add("is-valid");else{e.classList.remove("is-valid"),e.classList.add("is-invalid");let t=e.nextElementSibling;t&&t.classList.contains("invalid-feedback")||(t=document.createElement("div"),t.className="invalid-feedback",e.parentNode.appendChild(t)),t.textContent=i}return a}handleSubmit(){var e,t,s,n,a,i,o,r,c,l,d,u,h,m,g,p,y;const f={name:(null==(e=document.getElementById("productName"))?void 0:e.value)||"",sku:(null==(t=document.getElementById("skuCode"))?void 0:t.value)||"",category:(null==(s=document.getElementById("productCategory"))?void 0:s.value)||"",brand:(null==(n=document.getElementById("productBrand"))?void 0:n.value)||"",description:(null==(a=document.getElementById("productDescription"))?void 0:a.value)||""};null==(i=document.getElementById("productWeight"))||i.value,null==(o=document.getElementById("productDimensions"))||o.value,null==(r=document.getElementById("productColor"))||r.value,null==(c=document.getElementById("productMaterial"))||c.value,null==(l=document.getElementById("feature1"))||l.checked,null==(d=document.getElementById("feature2"))||d.checked,null==(u=document.getElementById("feature3"))||u.checked,null==(h=document.getElementById("costPrice"))||h.value,null==(m=document.getElementById("sellingPrice"))||m.value,null==(g=document.getElementById("discountPercentage"))||g.value,null==(p=document.getElementById("taxRate"))||p.value,null==(y=document.getElementById("availableSwitch"))||y.checked;if(!f.name){this.showErrorMessage("Product name is required");const e=document.querySelector('a[href="#basicInfo"]');return void(e&&e.click())}const b=document.getElementById("saveProductBtn");if(b){const e=b.innerHTML;b.innerHTML='<i class="fas fa-spinner fa-spin me-2"></i>Saving...',b.disabled=!0,setTimeout(()=>{b.innerHTML=e,b.disabled=!1,this.showSuccessMessage("Product saved successfully!"),localStorage.removeItem("model2_formData")},1500)}}async handleReset(){const{confirmModal:e}=await function(e,t){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));s=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in _)return;_[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(e,'"]').concat(s)))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,n&&a.setAttribute("nonce",n),document.head.appendChild(a),t?new Promise((t,s)=>{a.addEventListener("load",t),a.addEventListener("error",()=>s(new Error("Unable to preload CSS for ".concat(e))))}):void 0}))}function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then(t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)})}(async()=>{const{confirmModal:e}=await Promise.resolve().then(()=>C);return{confirmModal:e}},[]);if(await e.show({type:"warning",title:"Reset Form",message:"Are you sure you want to reset the form? All unsaved data will be lost.",okText:"Reset",cancelText:"Cancel",okClass:"btn-warning"})){this.formData={},localStorage.removeItem("model2_formData");document.querySelectorAll("#model2Page input, #model2Page select, #model2Page textarea").forEach(e=>{e.classList.remove("is-valid","is-invalid"),"checkbox"===e.type?e.checked=!1:e.value=""});document.querySelectorAll("#model2Page select").forEach(e=>{e.selectedIndex=0}),this.showSuccessMessage("Form reset successfully!")}}loadSavedData(){const e=localStorage.getItem("model2_formData");e&&(this.formData=JSON.parse(e),Object.keys(this.formData).forEach(e=>{const t=document.getElementById(e)||document.querySelector('[name="'.concat(e,'"]'));t&&(t.value=this.formData[e])}))}enableAutoSave(){setInterval(()=>{Object.keys(this.formData).length>0&&localStorage.setItem("model2_formData",JSON.stringify(this.formData))},3e4)}addAutoComplete(){const e=document.getElementById("category");if(e){const t=["Electronics","Clothing","Food","Books","Toys","Sports"];e.addEventListener("input",e=>{const s=e.target.value.toLowerCase();if(s.length<2)return;t.filter(e=>e.toLowerCase().includes(s))})}}showSuccessMessage(e){"undefined"!=typeof RedAdminUtils&&RedAdminUtils.showNotification?RedAdminUtils.showNotification("success",e):alert(e)}showErrorMessage(e){"undefined"!=typeof RedAdminUtils&&RedAdminUtils.showNotification?RedAdminUtils.showNotification("danger",e):alert(e)}};"undefined"!=typeof window&&(window.model2=J);const W=new class{constructor(){this.charts={},this.realTimeInterval=null,this.currentData=this.generateSampleData()}initialize(){this.initializeDateRange(),this.setupEventListeners(),this.initializeAllCharts(),this.updateStats(),this.startRealTimeUpdates()}generateSampleData(){const e=[],t=[];for(let s=6;s>=0;s--){const n=new Date;n.setDate(n.getDate()-s),e.push(n.toLocaleDateString("en-US",{month:"short",day:"numeric"})),t.push(Math.floor(5e3*Math.random())+1e4)}return{labels:e,revenue:t,categories:{labels:["Electronics","Clothing","Food","Books","Sports"],data:[35,25,20,12,8]},monthly:{labels:["Jan","Feb","Mar","Apr","May","Jun"],thisYear:[45e3,52e3,48e3,61e3,58e3,67e3],lastYear:[38e3,42e3,45e3,51e3,49e3,55e3]},performance:{labels:["Sales","Support","Marketing","Development","Quality"],data:[85,92,78,88,95]}}}initializeDateRange(){const e=new Date,t=new Date;t.setDate(e.getDate()-7);const s=document.getElementById("fromDate"),n=document.getElementById("toDate");s&&(s.valueAsDate=t),n&&(n.valueAsDate=e)}setupEventListeners(){const e=document.getElementById("btnRefreshCharts");e&&e.addEventListener("click",()=>this.refreshAllCharts());const t=document.getElementById("btnExportCharts");t&&t.addEventListener("click",()=>this.exportAllCharts()),["Line","Pie","Bar","Radar"].forEach(e=>{const t=document.getElementById("btnExport".concat(e,"Chart"));t&&t.addEventListener("click",()=>this.exportChart(e.toLowerCase()))});const s=document.getElementById("quickDateRange");s&&s.addEventListener("change",e=>this.handleQuickDateRange(e.target.value));const n=document.getElementById("btnApplyDateRange");n&&n.addEventListener("click",()=>this.applyDateRange());const a=document.getElementById("realTimeToggle");a&&a.addEventListener("change",e=>{e.target.checked?this.startRealTimeUpdates():this.stopRealTimeUpdates()})}initializeAllCharts(){"undefined"!=typeof Chart&&(this.initLineChart(),this.initPieChart(),this.initBarChart(),this.initRadarChart())}initLineChart(){const e=document.getElementById("lineChart");if(!e)return;const t=e.getContext("2d");this.charts.line=new Chart(t,{type:"line",data:{labels:this.currentData.labels,datasets:[{label:"Revenue",data:this.currentData.revenue,borderColor:"#dc2626",backgroundColor:"rgba(220, 38, 38, 0.1)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0},tooltip:{callbacks:{label:e=>"Revenue: $".concat(e.parsed.y.toLocaleString())}}},scales:{y:{beginAtZero:!0,ticks:{callback:e=>"$"+e.toLocaleString()}}}}})}initPieChart(){const e=document.getElementById("pieChart");if(!e)return;const t=e.getContext("2d");this.charts.pie=new Chart(t,{type:"pie",data:{labels:this.currentData.categories.labels,datasets:[{data:this.currentData.categories.data,backgroundColor:["#dc2626","#3b82f6","#10b981","#f59e0b","#8b5cf6"]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})}initBarChart(){const e=document.getElementById("barChart");if(!e)return;const t=e.getContext("2d");this.charts.bar=new Chart(t,{type:"bar",data:{labels:this.currentData.monthly.labels,datasets:[{label:"2024",data:this.currentData.monthly.thisYear,backgroundColor:"#dc2626"},{label:"2023",data:this.currentData.monthly.lastYear,backgroundColor:"#9ca3af"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0}},scales:{y:{beginAtZero:!0,ticks:{callback:e=>"$"+e/1e3+"k"}}}}})}initRadarChart(){const e=document.getElementById("radarChart");if(!e)return;const t=e.getContext("2d");this.charts.radar=new Chart(t,{type:"radar",data:{labels:this.currentData.performance.labels,datasets:[{label:"Performance Score",data:this.currentData.performance.data,borderColor:"#dc2626",backgroundColor:"rgba(220, 38, 38, 0.2)"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0}},scales:{r:{beginAtZero:!0,max:100}}}})}updateStats(){const e=this.currentData.revenue.reduce((e,t)=>e+t,0);document.getElementById("statRevenue").textContent="$"+e.toLocaleString(),document.getElementById("statRevenueChange").textContent="+12.5%",document.getElementById("statUsers").textContent="2,847",document.getElementById("statUsersChange").textContent="+8.2%",document.getElementById("statConversion").textContent="3.24%",document.getElementById("statConversionChange").textContent="-0.3%",document.getElementById("statAvgOrder").textContent="$"+(e/100).toFixed(0),document.getElementById("statAvgOrderChange").textContent="+5.1%"}refreshAllCharts(){this.currentData=this.generateSampleData(),Object.keys(this.charts).forEach(e=>{this.charts[e]&&(this.charts[e].data.labels=this.currentData.labels||this.charts[e].data.labels,this.charts[e].update())}),this.updateStats(),this.showNotification("success","Charts refreshed successfully")}exportChart(e){const t=this.charts[e];if(!t)return;const s=t.toBase64Image(),n=document.createElement("a");n.download="chart-".concat(e,"-").concat(Date.now(),".png"),n.href=s,n.click(),this.showNotification("success","".concat(e.charAt(0).toUpperCase()+e.slice(1)," chart exported"))}exportAllCharts(){Object.keys(this.charts).forEach(e=>{setTimeout(()=>this.exportChart(e),100*Object.keys(this.charts).indexOf(e))}),this.showNotification("success","All charts exported successfully")}handleQuickDateRange(e){const t=new Date;let s=new Date;switch(e){case"today":s=new Date;break;case"week":s.setDate(t.getDate()-7);break;case"month":s.setDate(t.getDate()-30);break;case"year":s.setFullYear(t.getFullYear()-1);break;default:return}document.getElementById("fromDate").valueAsDate=s,document.getElementById("toDate").valueAsDate=t}applyDateRange(){const e=document.getElementById("fromDate").value,t=document.getElementById("toDate").value;e&&t?(this.refreshAllCharts(),this.showNotification("success","Date range applied")):this.showNotification("warning","Please select both dates")}startRealTimeUpdates(){this.realTimeInterval||(this.realTimeInterval=setInterval(()=>{const e=document.getElementById("liveUsers"),t=document.getElementById("liveOrders"),s=document.getElementById("liveRevenue");e&&(e.textContent=Math.floor(100*Math.random())+150),t&&(t.textContent=Math.floor(10*Math.random())+5),s&&(s.textContent=(500*Math.random()+200).toFixed(2)),e&&t&&s||this.stopRealTimeUpdates()},2e3))}stopRealTimeUpdates(){this.realTimeInterval&&(clearInterval(this.realTimeInterval),this.realTimeInterval=null)}showNotification(e,t){window.showNotification&&window.showNotification(e,t)}destroy(){this.stopRealTimeUpdates(),Object.keys(this.charts).forEach(e=>{this.charts[e]&&this.charts[e].destroy()})}};new class{constructor(){this.initializedPages=new Set,this.pageInstances={},this.initializeListeners()}initializeListeners(){window.addEventListener("pageLoaded",e=>{const t=e.detail.path;this.initializePage(t)})}shouldReinitialize(e){if(["employeecrud","assetcrud","categorycrud","transactioncrud","dashboard","model1","model3"].includes(e))return!0;if(["employees","assets","categories","transactions","reports","model2","profile","settings","components","buttons"].includes(e)){const t=!this.initializedPages.has(e);return t}return!0}initializePage(e){const t=e.split("/").pop().replace(".html","");if(this.shouldReinitialize(t)){switch(t){case"dashboard":this.initializeDashboard();break;case"employees":this.initializeEmployees();break;case"employeecrud":this.initializeEmployeeCrud();break;case"assets":this.initializeAssets();break;case"assetcrud":this.initializeAssetCrud();break;case"categories":this.initializeCategories();break;case"categorycrud":this.initializeCategoryCrud();break;case"transactions":this.initializeTransactions();break;case"transactioncrud":this.initializeTransactionCrud();break;case"reports":this.initializeReports();break;case"profile":this.initializeProfile();break;case"settings":this.initializeSettings();break;case"model1":this.initializeModel1();break;case"model2":this.initializeModel2();break;case"model3":this.initializeModel3();break;case"login":case"register":case"forgot-password":case"reset-password":this.initializeAuthPages()}["employeecrud","assetcrud","categorycrud","transactioncrud"].includes(t)||this.initializedPages.add(t),this.initializePasswordToggles()}}initializeDashboard(){try{A.initialize()}catch(e){}}initializeEmployees(){try{M.initialize()}catch(e){}}initializeEmployeeCrud(){try{P.initialize()}catch(e){}}initializeAssets(){try{R.initialize()}catch(e){}}initializeAssetCrud(){try{N.initialize()}catch(e){}}initializeCategories(){try{q.initialize()}catch(e){}}initializeCategoryCrud(){try{F.initialize()}catch(e){}}initializeTransactions(){try{U.initialize()}catch(e){}}initializeTransactionCrud(){try{z.initialize()}catch(e){}}initializeReports(){try{H.initialize()}catch(e){}}initializeProfile(){try{O.initialize()}catch(e){}}initializeSettings(){try{j.initialize()}catch(e){}}initializeModel1(){try{V.initialize()}catch(e){}}initializeModel2(){try{J.initialize()}catch(e){}}initializeModel3(){try{W.initialize()}catch(e){}}initializeAuthPages(){}initializePasswordToggles(){const e=document.querySelectorAll('.password-toggle, .password-toggle-btn, [data-toggle="password"]');0!==e.length&&e.forEach(e=>{const t=e.cloneNode(!0);e.parentNode.replaceChild(t,e),t.addEventListener("click",function(e){e.preventDefault();const t=this.closest(".form-floating, .input-group"),s=t?t.querySelector('input[type="password"], input[type="text"]'):this.previousElementSibling||this.parentElement.querySelector('input[type="password"], input[type="text"]');if(!s)return;const n=this.querySelector("i, .fa-eye, .fa-eye-slash");"password"===s.type?(s.type="text",n&&(n.classList.remove("fa-eye"),n.classList.add("fa-eye-slash"))):(s.type="password",n&&(n.classList.remove("fa-eye-slash"),n.classList.add("fa-eye")))})})}};new class{constructor(){this.init()}init(){document.addEventListener("click",e=>{const t=e.target.closest(".breadcrumb-item a[data-route]");if(t){e.preventDefault();const s=t.getAttribute("data-route");window.router?window.router.navigate(s):window.location.href="/"+s}})}};const G=new class{constructor(){this.isInitialized=!1,this.version="2.0.0"}async init(){if(!this.isInitialized)try{this.showLoadingScreen(),await this.initializeServices(),this.setupGlobalEvents(),await this.loadLayouts(),g.init(),this.initializeTheme(),this.setupUIHandlers(),this.isInitialized=!0,this.hideLoadingScreen(),r.emit("app:initialized")}catch(e){this.showError("Application failed to initialize")}}async initializeServices(){h.init(),r.on("auth:login-success",({user:e})=>{p.setUser(e),g.navigate("dashboard")}),r.on("auth:logout",()=>{p.clear(!0),g.navigate("login")}),r.on("auth:session-expired",()=>{y.warning("Your session has expired. Please login again."),g.navigate("login")}),r.on("notification:success",e=>{y.success(e)}),r.on("notification:error",e=>{y.error(e)}),r.on("notification:warning",e=>{y.warning(e)}),r.on("notification:info",e=>{y.info(e)})}async loadLayouts(){try{const e=await fetch("/layouts/sidebar.html"),t=await e.text(),s=document.getElementById("sidebar-container");s&&(s.innerHTML=t);const n=await fetch("/layouts/topbar.html"),a=await n.text(),i=document.getElementById("topbar-container");i&&(i.innerHTML=a)}catch(e){}}setupGlobalEvents(){let e;window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(()=>{r.emit("window:resized",{width:window.innerWidth,height:window.innerHeight})},250)}),document.addEventListener("visibilitychange",()=>{r.emit("page:visibility-changed",{hidden:document.hidden})}),window.addEventListener("beforeunload",e=>{r.emit("app:before-unload")}),document.addEventListener("keydown",e=>{this.handleKeyboardShortcuts(e)}),r.on("app:loading",e=>{e?this.showLoading():this.hideLoading()})}handleKeyboardShortcuts(e){["INPUT","TEXTAREA","SELECT"].includes(e.target.tagName)||((e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),this.focusSearch()),(e.ctrlKey||e.metaKey)&&"b"===e.key&&(e.preventDefault(),this.toggleSidebar()),(e.ctrlKey||e.metaKey)&&"l"===e.key&&(e.preventDefault(),h.checkAuth()&&h.lockScreen()),"Escape"===e.key&&this.handleEscape())}setupUIHandlers(){document.addEventListener("click",e=>{e.target.closest('[data-action="toggle-sidebar"]')&&(e.preventDefault(),this.toggleSidebar())}),document.addEventListener("click",e=>{e.target.closest('[data-action="toggle-theme"]')&&(e.preventDefault(),this.toggleTheme())}),document.addEventListener("click",e=>{e.target.closest('[data-action="show-notifications"]')&&(e.preventDefault(),this.showNotifications())}),document.addEventListener("click",e=>{e.target.closest('[data-action="show-inbox"]')&&(e.preventDefault(),w.show())}),document.addEventListener("click",e=>{e.target.closest('[data-action="toggle-search"]')&&(e.preventDefault(),E.show())}),document.addEventListener("click",e=>{e.target.closest('[data-action="toggle-fullscreen"]')&&(e.preventDefault(),this.toggleFullscreen())}),document.addEventListener("click",e=>{e.target.closest('[data-action="lock-screen"]')&&(e.preventDefault(),f.lock()),e.target.closest('[data-action="logout"]')&&(e.preventDefault(),this.handleLogout())}),document.addEventListener("click",e=>{e.target.matches(".sidebar-overlay")&&this.toggleSidebar()}),document.addEventListener("click",e=>{const t=e.target.closest(".submenu-toggle");if(t){e.preventDefault();const s=t.parentElement,n=s.querySelector(".submenu"),a=s.classList.contains("open");document.querySelectorAll(".has-submenu.open").forEach(e=>{e.classList.remove("open");const t=e.querySelector(".submenu");t&&t.classList.remove("show")}),a||(s.classList.add("open"),n&&n.classList.add("show"))}})}initializeTheme(){const e=p.getTheme();document.documentElement.setAttribute("data-theme",e)}toggleSidebar(){const e=document.querySelector(".sidebar-container"),t=document.querySelector(".sidebar-overlay"),s=document.body;window.innerWidth<=1024?(null==e||e.classList.toggle("show"),null==t||t.classList.toggle("show")):(null==e||e.classList.toggle("collapsed"),s.classList.toggle("sidebar-collapsed"),p.toggleSidebar())}toggleTheme(){const e="light"===p.getTheme()?"dark":"light";p.setTheme(e)}focusSearch(){const e=document.querySelector(".search-box input");e&&e.focus()}showNotifications(){I.show()}toggleFullscreen(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(e=>{y.error("Error attempting to enable fullscreen: ".concat(e.message))})}handleEscape(){document.querySelectorAll(".modal.show").forEach(e=>{const t=bootstrap.Modal.getInstance(e);t&&t.hide()});if(document.querySelectorAll(".dropdown-menu.show").forEach(e=>{e.classList.remove("show")}),window.innerWidth<=1024){document.querySelector(".sidebar-container.show")&&this.toggleSidebar()}}async handleLogout(){try{await h.logout(),y.success("Logged out successfully")}catch(e){y.error("Logout failed")}}showLoadingScreen(){document.body.insertAdjacentHTML("beforeend",'\n      <div id="app-loading-screen" class="loading-screen">\n        <div class="loading-content">\n          <div class="spinner-border text-primary" role="status">\n            <span class="visually-hidden">Loading...</span>\n          </div>\n          <h4 class="mt-3">RedAdmin Pro</h4>\n          <p class="text-muted">Loading application...</p>\n        </div>\n      </div>\n    ')}hideLoadingScreen(){const e=document.getElementById("app-loading-screen");e&&(e.classList.add("fade-out"),setTimeout(()=>e.remove(),300))}showLoading(){let e=document.getElementById("page-loader");e||(e=document.createElement("div"),e.id="page-loader",e.className="page-loader",e.innerHTML='<div class="spinner-border text-primary" role="status"></div>',document.body.appendChild(e)),e.classList.add("show")}hideLoading(){const e=document.getElementById("page-loader");e&&e.classList.remove("show")}showError(e){y.error(e)}getVersion(){return this.version}getInfo(){return{version:this.version,initialized:this.isInitialized,currentRoute:g.getCurrentRoute(),user:p.getUser(),theme:p.getTheme()}}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>G.init()):G.init(),window.RedAdminApp=G;export{e as __vite_legacy_guard};
